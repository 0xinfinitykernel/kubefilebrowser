{"version":3,"sources":["webpack:///./node_modules/xterm/lib/renderer/CharacterJoinerRegistry.js","webpack:///./node_modules/xterm/lib/utils/Clone.js","webpack:///./node_modules/xterm/lib/renderer/dom/DomRendererRowFactory.js","webpack:///./node_modules/xterm/lib/renderer/BaseRenderLayer.js","webpack:///./node_modules/xterm/lib/BufferLine.js","webpack:///./node_modules/xterm/lib/AccessibilityManager.js","webpack:///./node_modules/xterm/lib/renderer/SelectionRenderLayer.js","webpack:///./node_modules/xterm/lib/addons/search/SearchHelper.js","webpack:///./node_modules/xterm/lib/ui/RenderDebouncer.js","webpack:///./node_modules/xterm/lib/renderer/dom/DomRenderer.js","webpack:///./node_modules/xterm/lib/ui/MouseZoneManager.js","webpack:///./node_modules/xterm/lib/Buffer.js","webpack:///./node_modules/xterm/lib/ui/Lifecycle.js","webpack:///./node_modules/xterm/lib/renderer/Renderer.js","webpack:///./node_modules/xterm/lib/core/input/Keyboard.js","webpack:///./node_modules/xterm/lib/renderer/atlas/CharAtlasCache.js","webpack:///./node_modules/xterm/lib/SoundManager.js","webpack:///./node_modules/xterm/lib/renderer/atlas/DynamicCharAtlas.js","webpack:///./node_modules/xterm/lib/public/Terminal.js","webpack:///./node_modules/xterm/lib/ui/CharMeasure.js","webpack:///./node_modules/xterm/lib/ui/Clipboard.js","webpack:///./node_modules/xterm/lib/addons/search/search.js","webpack:///./node_modules/xterm/lib/core/Platform.js","webpack:///./node_modules/xterm/lib/common/TypedArrayUtils.js","webpack:///./node_modules/xterm/lib/common/data/EscapeSequences.js","webpack:///./node_modules/xterm/lib/renderer/atlas/NoneCharAtlas.js","webpack:///./node_modules/xterm/lib/renderer/atlas/BaseCharAtlas.js","webpack:///./node_modules/xterm/lib/Strings.js","webpack:///./node_modules/xterm/lib/common/EventEmitter.js","webpack:///./node_modules/xterm/lib/SelectionManager.js","webpack:///./node_modules/xterm/lib/renderer/atlas/StaticCharAtlas.js","webpack:///./node_modules/xterm/lib/renderer/TextRenderLayer.js","webpack:///./node_modules/xterm/lib/renderer/atlas/CharAtlasUtils.js","webpack:///./node_modules/xterm/lib/utils/MouseHelper.js","webpack:///./node_modules/xterm/lib/addons/webLinks/webLinks.js","webpack:///./node_modules/xterm/lib/renderer/CursorRenderLayer.js","webpack:///./node_modules/xterm/lib/renderer/atlas/CharAtlasGenerator.js","webpack:///./node_modules/xterm/lib/CompositionHelper.js","webpack:///./node_modules/xterm/lib/CharWidth.js","webpack:///./node_modules/xterm/lib/core/data/Charsets.js","webpack:///./node_modules/xterm/lib/Terminal.js","webpack:///./node_modules/xterm/lib/handlers/AltClickHandler.js","webpack:///./node_modules/xterm/lib/EscapeSequenceParser.js","webpack:///./node_modules/xterm/lib/renderer/atlas/LRUMap.js","webpack:///./node_modules/xterm/lib/Linkifier.js","webpack:///./src/view/dashboard.vue?19f6","webpack:///./node_modules/xterm/lib/addons/fit/fit.js","webpack:///./src/view/dashboard.vue?0ca1","webpack:///src/view/dashboard.vue","webpack:///./src/view/dashboard.vue?e1a2","webpack:///./src/view/dashboard.vue","webpack:///./node_modules/xterm/lib/renderer/atlas/Types.js","webpack:///./node_modules/xterm/lib/common/CircularList.js","webpack:///./node_modules/xterm/lib/SelectionModel.js","webpack:///./node_modules/xterm/lib/renderer/ColorManager.js","webpack:///./node_modules/xterm/lib/renderer/LinkRenderLayer.js","webpack:///./node_modules/xterm/lib/InputHandler.js","webpack:///./node_modules/xterm/lib/common/Lifecycle.js","webpack:///./node_modules/js-base64/base64.mjs","webpack:///./node_modules/xterm/lib/renderer/GridCache.js","webpack:///./node_modules/xterm/lib/BufferSet.js","webpack:///./node_modules/xterm/lib/ui/ScreenDprMonitor.js","webpack:///./node_modules/xterm/lib/Viewport.js"],"names":["Object","defineProperty","exports","value","Buffer_1","CharacterJoinerRegistry","_terminal","this","_characterJoiners","_nextCharacterJoinerId","prototype","registerCharacterJoiner","handler","joiner","id","push","deregisterCharacterJoiner","joinerId","i","length","splice","getJoinedCharacters","row","line","buffer","lines","get","ranges","lineStr","translateBufferLineToString","rangeStartColumn","currentStringIndex","rangeStartStringIndex","rangeAttr","CHAR_DATA_ATTR_INDEX","x","cols","charData","chars","CHAR_DATA_CHAR_INDEX","width","CHAR_DATA_WIDTH_INDEX","attr","joinedRanges","_getJoinedRanges","startIndex","endIndex","lineData","startCol","text","substring","joinerRanges","j","_mergeRanges","_stringRangesToCellRanges","currentRangeIndex","currentRangeStarted","currentRange","length_1","newRange","inRange","range","Math","max","min","clone","val","depth","clonedObject","Array","isArray","key","Types_1","BOLD_CLASS","ITALIC_CLASS","CURSOR_CLASS","CURSOR_STYLE_BLOCK_CLASS","CURSOR_STYLE_BAR_CLASS","CURSOR_STYLE_UNDERLINE_CLASS","DomRendererRowFactory","_document","createRow","isCursorRow","cursorStyle","cursorX","cellWidth","fragment","createDocumentFragment","lineLength","code","CHAR_DATA_CODE_INDEX","NULL_CELL_CODE","char","charElement","createElement","style","flags","bg","fg","classList","add","temp","DEFAULT_COLOR","INVERTED_DEFAULT_COLOR","textContent","appendChild","CharAtlasCache_1","CharAtlasUtils_1","BaseRenderLayer","_container","zIndex","_alpha","_colors","_scaledCharWidth","_scaledCharHeight","_scaledCellWidth","_scaledCellHeight","_scaledCharLeft","_scaledCharTop","_currentGlyphIdentifier","bold","dim","italic","_canvas","document","toString","_initCanvas","dispose","removeChild","_charAtlas","_ctx","getContext","alpha","clearAll","onOptionsChanged","terminal","onBlur","onFocus","onCursorMove","onGridChanged","startRow","endRow","onSelectionChanged","start","end","columnSelectMode","onThemeChanged","colorSet","_refreshCharAtlas","setTransparency","oldCanvas","cloneNode","replaceChild","rows","acquireCharAtlas","warmUp","resize","scaledCellWidth","scaledCellHeight","scaledCharWidth","scaledCharHeight","scaledCharLeft","scaledCharTop","scaledCanvasWidth","height","scaledCanvasHeight","canvasWidth","canvasHeight","fillCells","y","fillRect","fillBottomLineAtCells","window","devicePixelRatio","fillLeftLineAtCell","strokeRectAtCell","lineWidth","strokeRect","clearRect","fillStyle","background","css","clearCells","fillCharTrueColor","font","_getFont","textBaseline","_clipRow","fillText","drawChars","drawInBrightColor","options","drawBoldTextInBrightColors","enableBold","atlasDidDraw","draw","_drawUncachedChars","save","is256Color","ansi","foreground","globalAlpha","DIM_OPACITY","restore","beginPath","rect","clip","isBold","isItalic","fontWeight","fontWeightBold","fontStyle","fontSize","fontFamily","BufferLineJSArray","fillCharData","isWrapped","_data","NULL_CELL_CHAR","NULL_CELL_WIDTH","_push","_pop","data","pop","_splice","deleteCount","_a","items","_i","arguments","removed","apply","concat","index","set","insertCells","pos","n","ch","deleteCells","replaceCells","shrink","fill","copyFrom","slice","newLine","CELL_SIZE","BufferLine","_combined","Uint32Array","stringData","String","fromCharCode","charCodeAt","subarray","el","__extends","extendStatics","d","b","setPrototypeOf","__proto__","p","hasOwnProperty","__","constructor","create","Strings","Platform_1","RenderDebouncer_1","Lifecycle_1","Lifecycle_2","MAX_ROWS_TO_READ","AccessibilityManager","_super","_this","call","_liveRegionLineCount","_charsToConsume","_accessibilityTreeRoot","_rowContainer","_rowElements","_createAccessibilityTreeNode","_topBoundaryFocusListener","e","_onBoundaryFocus","_bottomBoundaryFocusListener","addEventListener","_refreshRowsDimensions","_renderRowsDebouncer","RenderDebouncer","_renderRows","bind","_refreshRows","_liveRegion","setAttribute","element","insertAdjacentElement","register","addDisposableListener","_onResize","_onChar","spaceCount","_onTab","keyChar","_onKey","_clearLiveRegion","renderer","addDisposableDomListener","position","boundaryElement","target","beforeBoundaryElement","posInSet","getAttribute","lastRowPos","relatedTarget","topBoundaryElement","bottomBoundaryElement","shift","removeEventListener","newElement","unshift","scrollLines","focus","preventDefault","stopImmediatePropagation","children","tabIndex","_refreshRowDimensions","shiftedChar","_announceCharacter","tooMuchOutput","isMac","parentNode","setTimeout","refresh","setSize","ydisp","blankLine","dimensions","actualCellHeight","innerHTML","Disposable","BaseRenderLayer_1","SelectionRenderLayer","container","colors","_clearState","_state","reset","_didStateChange","viewportStartRow","viewportEndRow","viewportCappedStartRow","viewportCappedEndRow","selection","startRowEndCol","middleRowsCount","endCol","_areCoordinatesEqual","coord1","coord2","nonWordCharacters","SearchHelper","findNext","term","searchOptions","result","_core","selectionManager","selectionEnd","getSelection","ybase","_findInLine","_selectResult","findPrevious","selectionStart","_isWholeWord","searchIndex","indexOf","stringLine","translateBufferLineToStringWithWrap","searchStringLine","caseSensitive","toLowerCase","searchTerm","regex","searchRegex","RegExp","foundTerm","exec","lastIndex","floor","wholeWord","charWidth","col","lineIndex","trimRight","lineWrapsToNext","lineString","nextLine","setSelection","clearSelection","_callback","_animationFrame","cancelAnimationFrame","rowStart","rowEnd","undefined","isRowStartSet","_rowStart","isRowEndSet","_rowEnd","requestAnimationFrame","_innerRefresh","EventEmitter_1","ColorManager_1","DomRendererRowFactory_1","TERMINAL_CLASS_PREFIX","ROW_CONTAINER_CLASS","FG_CLASS_PREFIX","BG_CLASS_PREFIX","FOCUS_CLASS","SELECTION_CLASS","nextTerminalId","DomRenderer","theme","_terminalClass","allowTransparency","colorManager","ColorManager","setTheme","lineHeight","_refreshRowElements","_selectionContainer","actualCellWidth","_updateDimensions","_renderDebouncer","_rowFactory","screenElement","linkifier","on","_onLinkHover","_onLinkLeave","remove","_themeStyleElement","_dimensionsStyleElement","charMeasure","ceil","round","letterSpacing","forEach","overflow","styles","_terminalSelector","_viewportElement","getOption","cursor","cursorAccent","c","onWindowResize","onResize","onCharSizeChanged","documentFragment","_createSelectionElement","endCol_1","colStart","colEnd","rowCount","top","left","clear","refreshRows","cursorAbsoluteY","rowElement","emit","enumerable","configurable","_setCellUnderline","x1","x2","y1","y2","enabled","span","textDecoration","EventEmitter","HOVER_DURATION","MouseZoneManager","_zones","_areZonesActive","_tooltipTimeout","_currentZone","_lastHoverCoords","_onMouseDown","_mouseMoveListener","_onMouseMove","_clickListener","_onClick","_deactivate","zone","_activate","leaveCallback","pageX","pageY","_onHover","_findZoneEventAt","clearTimeout","hoverCallback","_onTooltip","tooltipCallback","willLinkActivate","clickCallback","coords","mouseHelper","getCoords","MouseZone","CircularList_1","BufferLine_1","DEFAULT_ATTR","MAX_BUFFER_SIZE","Buffer","_hasScrollback","markers","setBufferLineFactory","type","_bufferLineConstructor","_recreateLines","oldLine","getBlankLine","maxLength","absoluteY","relativeY","_getCorrectBufferLength","correctBufferLength","scrollback","fillViewportRows","fillAttr","experimentalBufferLineImpl","CircularList","scrollTop","scrollBottom","setupTabStops","newCols","newRows","newMaxLength","addToY","amountToTrim","trimStart","savedY","savedX","stringIndexToBufferIndex","stringIndex","rightWhitespaceIndex","search","getWrappedRangeForLine","first","last","tabs","prevStop","tabStopWidth","nextStop","addMarker","marker","Marker","amount","_removeMarker","iterator","startOverscan","endOverscan","BufferStringIterator","_id","_nextId","isDisposed","_buffer","_trimRight","_startIndex","_endIndex","_startOverscan","_endOverscan","_current","hasNext","next","content","node","useCapture","TextRenderLayer_1","SelectionRenderLayer_1","CursorRenderLayer_1","LinkRenderLayer_1","ScreenDprMonitor_1","CharacterJoinerRegistry_1","Renderer","_isPaused","_needsFullRefresh","_characterJoinerRegistry","_renderLayers","TextRenderLayer","LinkRenderLayer","CursorRenderLayer","_devicePixelRatio","_screenDprMonitor","ScreenDprMonitor","setListener","observer_1","IntersectionObserver","onIntersectionChange","threshold","observe","disconnect","l","entry","intersectionRatio","_runOperation","operation","EscapeSequences_1","KEYCODE_KEY_MAPPINGS","48","49","50","51","52","53","54","55","56","57","186","187","188","189","190","191","192","219","220","221","222","evaluateKeyboardEvent","ev","applicationCursorMode","macOptionIsMeta","cancel","modifiers","shiftKey","altKey","ctrlKey","metaKey","keyCode","C0","ESC","BS","DEL","HT","CR","keyMapping","DynamicCharAtlas_1","NoneCharAtlas_1","StaticCharAtlas_1","charAtlasImplementations","default","charAtlasCache","newConfig","generateConfig","ownedByIndex","ownedBy","configEquals","config","atlas","newEntry","experimentalCharAtlas","removeTerminalFromCache","DEFAULT_BELL_SOUND","SoundManager","_audioContext","audioContextCtor","AudioContext","webkitAudioContext","console","warn","playBellSound","ctx","audioContext","bellAudioSource","createBufferSource","decodeAudioData","_base64ToArrayBuffer","_removeMimeType","bellSound","connect","destination","base64","binaryString","atob","len","bytes","Uint8Array","dataURI","splitUri","split","BaseCharAtlas_1","CharAtlasGenerator_1","LRUMap_1","TEXTURE_WIDTH","TEXTURE_HEIGHT","TRANSPARENT_COLOR","rgba","FRAME_CACHE_DRAW_LIMIT","GLYPH_BITMAP_COMMIT_DELAY","getGlyphCacheKey","glyph","DynamicCharAtlas","_config","_drawToCacheCount","_glyphsWaitingOnBitmap","_bitmapCommitTimeout","_bitmap","_cacheCanvas","_cacheCtx","tmpCanvas","_tmpCtx","_width","_height","capacity","_cacheMap","prealloc","beginFrame","_canCache","glyphKey","cacheValue","_drawFromCache","size","peek","cacheValue_1","_drawToCache","_toCoordinateX","_toCoordinateY","isEmpty","cacheX","cacheY","drawImage","inBitmap","_getColorFromAnsiIndex","idx","DEFAULT_ANSI_COLORS","_getBackgroundColor","_getForegroundColor","backgroundColor","globalCompositeOperation","imageData","getImageData","clearColor","putImageData","_addGlyphToBitmap","isFirefox","isSafari","_generateBitmap","glyphsMovingToBitmap","createImageBitmap","then","bitmap","Terminal_1","Terminal","textarea","blur","listener","off","columns","writeln","open","parent","attachCustomKeyEventHandler","customKeyEventHandler","registerLinkMatcher","deregisterLinkMatcher","matcherId","cursorYOffset","hasSelection","selectAll","selectLines","destroy","scrollPages","pageCount","scrollToTop","scrollToBottom","scrollToLine","write","setOption","applyAddon","addon","CharMeasure","parentElement","_parentElement","_measureElement","measure","geometry","getBoundingClientRect","prepareTextForTerminal","replace","bracketTextForPaste","bracketedPasteMode","copyHandler","browser","isMSIE","clipboardData","setData","selectionText","pasteHandler","stopPropagation","dispatchPaste","getData","moveTextAreaUnderMouseCursor","clientX","clientY","rightClickHandler","shouldSelectWord","isClickInSelection","selectWordAtCursor","select","SearchHelper_1","addonTerminal","__searchHelper","terminalConstructor","isNode","navigator","userAgent","platform","contains","arr","test","isIpad","isIphone","isMSWindows","isLinux","array","fillFallback","NUL","SOH","STX","ETX","EOT","ENQ","ACK","BEL","LF","VT","FF","SO","SI","DLE","DC1","DC2","DC3","DC4","NAK","SYN","ETB","CAN","EM","SUB","FS","GS","RS","US","SP","C1","PAD","HOP","BPH","NBH","IND","NEL","SSA","ESA","HTS","HTJ","VTS","PLD","PLU","RI","SS2","SS3","DCS","PU1","PU2","STS","CCH","MW","SPA","EPA","SOS","SGCI","SCI","CSI","ST","OSC","PM","APC","NoneCharAtlas","BaseCharAtlas","_didWarmUp","_doWarmUp","promptLabel","_events","disposed","obj","removeAllListeners","args","listeners","MouseHelper_1","Browser","SelectionModel_1","AltClickHandler_1","DRAG_SCROLL_MAX_THRESHOLD","DRAG_SCROLL_MAX_SPEED","DRAG_SCROLL_INTERVAL","ALT_CLICK_MOVE_CURSOR_TIME","WORD_SEPARATORS","NON_BREAKING_SPACE_CHAR","ALL_NON_BREAKING_SPACE_REGEX","SelectionManager","_charMeasure","_enabled","_initListeners","enable","_model","SelectionModel","_activeSelectionMode","_removeMouseDownListeners","buffers","active","event","_mouseUpListener","_onMouseUp","_trimListener","_onTrim","initBuffersListeners","_onBufferActivate","disable","finalSelectionStart","finalSelectionEnd","lineText","bufferLine","formattedResult","map","join","isNewSelection","_refreshAnimationFrame","_refresh","_getMouseBufferCoords","_areCoordsInSelection","_selectWordAt","isSelectAllActive","needsRefresh","onTrim","_getMouseEventScrollAmount","offset","MouseHelper","getCoordsRelativeToElement","terminalHeight","abs","shouldForceSelection","macOptionClickForcesSelection","onMouseDown","_mouseDownTimeStamp","timeStamp","button","_dragScrollAmount","_onIncrementalClick","detail","_onSingleClick","_onDoubleClick","_onTripleClick","_addMouseDownListeners","ownerDocument","_dragScrollIntervalTimer","setInterval","_dragScroll","clearInterval","selectionStartLength","shouldColumnSelect","_selectLineAt","previousSelectionEnd","_selectToWordAt","timeElapsed","AltClickHandler","move","inactiveBuffer","activeBuffer","_convertViewportColToCharacterIndex","charIndex","_getWordAt","allowWhitespaceOnlySelection","followWrappedLinesAbove","followWrappedLinesBelow","charOffset","leftWideCharCount","rightWideCharCount","leftLongCharOffset","rightLongCharOffset","charAt","_isCharWordSeparator","trim","previousBufferLine","previousLineWordPosition","nextBufferLine","nextLineWordPosition","wordPosition","areSelectionValuesReversed","wrappedRange","StaticCharAtlas","_canvasFactory","canvas","generateStaticCharAtlasTexture","HTMLCanvasElement","_texture","texture","_isCached","colorIndex","isAscii","isBasicColor","isDefaultColor","isDefaultBackground","charAtlasCellWidth","CHAR_ATLAS_CELL_SPACING","charAtlasCellHeight","GridCache_1","characterJoinerRegistry","_characterOverlapCache","GridCache","terminalFont","_characterWidth","_characterFont","_forEachCell","firstRow","lastRow","joinerRegistry","callback","isJoined","lastCharX","Infinity","_isOverlapping","_drawBackground","startX","startY","prevFillStyle","nextFillStyle","_drawForeground","cache","overlaps","measureText","clonedColors","a","colorCode","_renderer","setRenderer","originalElement","offsetLeft","offsetTop","offsetParent","body","scrollLeft","colCount","isSelection","getRawByteCoords","protocolClause","domainCharacterSet","negatedDomainCharacterSet","domainBodyClause","tldClause","ipClause","localHostClause","portClause","hostClause","pathClause","queryStringHashFragmentCharacterSet","queryStringClause","hashFragmentClause","negatedPathCharacterSet","bodyClause","strictUrlRegex","handleLink","uri","webLinksInit","matchIndex","BLINK_INTERVAL","isFocused","_cursorRenderers","_renderBarCursor","_renderBlockCursor","_renderUnderlineCursor","_clearCursor","_cursorBlinkStateManager","pause","resume","cursorBlink","CursorBlinkStateManager","_render","restartBlinkAnimation","isPaused","triggeredByAnimationFrame","cursorState","cursorHidden","cursorY","viewportRelativeCursorY","_renderBlurCursor","isCursorVisible","strokeStyle","_renderCallback","_restartInterval","_blinkStartTimeout","_blinkInterval","_animationTimeRestarted","Date","now","timeToStart","time","context","canvasFactory","cellHeight","getFont","charAtlasImageData","color","r","g","CompositionHelper","_textarea","_compositionView","_isComposing","_isSendingComposition","_compositionPosition","compositionstart","compositionupdate","updateCompositionElements","compositionend","_finalizeComposition","keydown","_handleAnyTextareaChanges","waitForPropogation","_clearTextareaPosition","currentCompositionPosition_1","input","oldValue","newValue","diff","dontRecurse","isCursorInViewport","cursorTop","cursorLeft","compositionViewBounds","TypedArrayUtils_1","getStringCellWidth","s","wcwidth","second","opts","COMBINING_BMP","COMBINING_HIGH","bisearch","ucs","mid","wcwidthHigh","control","table","nul","num","CHARSETS","DEFAULT_CHARSET","BufferSet_1","CompositionHelper_1","Viewport_1","Clipboard_1","InputHandler_1","Renderer_1","Linkifier_1","SelectionManager_1","CharMeasure_1","Clone_1","SoundManager_1","MouseZoneManager_1","AccessibilityManager_1","DomRenderer_1","Keyboard_1","WRITE_BUFFER_PAUSE_THRESHOLD","WRITE_BATCH_SIZE","CONSTRUCTOR_ONLY_OPTIONS","DEFAULT_OPTIONS","convertEol","termName","bellStyle","screenKeys","screenReaderMode","debug","cancelEvents","disableStdin","useFlowControl","rightClickSelectsWord","rendererType","_blankLine","_setup","_customKeyEventHandler","keys","_parent","applicationKeypad","applicationCursor","originMode","insertMode","wraparoundMode","charset","gcharset","glevel","charsets","curAttr","params","currentParam","writeBuffer","_writeInProgress","_xoffSentToCatchUp","_userScrolling","_inputHandler","InputHandler","Linkifier","_mouseZoneManager","soundManager","BufferSet","eraseAttr","activeElement","hasFocus","Error","error","_setTheme","newBufferLength","unregister","_setupRenderer","_theme","viewport","syncScrollArea","_accessibilityManager","normal","alt","_onTextAreaFocus","sendFocus","updateCursorStyle","showCursor","_onTextAreaBlur","_initGlobal","_bindKeys","pasteHandlerWrapper","self","_keyDown","_keyPress","wasModifierKeyOnlyEvent","_keyUp","_compositionHelper","_queueLinkification","_context","defaultView","dir","_viewportScrollArea","_helperContainer","attachToDom","Viewport","bindMouse","pressed","sendButton","getButton","sendEvent","overrideType","sendMove","encode","utfMouse","_vt300Mouse","data_1","_decLocator","page","urxvtMouse","sgrMouse","meta","ctrl","mod","which","deltaY","vt200Mouse","normalMouse","mouseEvents","moveHandler","x10Mouse","hasScrollback","getLinesScrolled","sequence","onWheel","onTouchStart","onTouchMove","linkifyRows","scroll","useRecycling","topRow","bottomRow","willBufferBeTrimmed","isFull","recycle","scrollRegionHeight","shiftElements","updateRange","disp","suppressScrollEvent","oldYdisp","scrollAmount","_isDisposed","_innerWrite","writeBatch","_refreshStart","_refreshEnd","parse","scrollCount","_isThirdLevelShift","thirdLevelKey","setgLevel","setgCharset","charCode","bell","_soundBell","_visualBell","_visualBellTimer","log","isNaN","maxRange","cur","is","handleTitle","title","reverseIndex","inputHandler","tabSet","force","matchColor","r1","g1","b1","hash","matchColorCache","r2","g2","b2","ldiff","li","matchColorDistance","pow","_mouseEvent","_lines","_startCol","_startRow","coordinates","coordinate","_endCol","_endRow","_arrowSequences","_moveHorizontallyOnly","_resetStartingRow","_moveToRequestedRow","_moveToRequestedCol","repeat","_bufferLine","_wrappedRowsForRow","_sequence","rowsToMove","_wrappedRowsCount","_verticalDirection","direction","_horizontalDirection","wrappedRows","currentRow","lineWraps","forward","currentCol","bufferStr","count","str","rpt","low","high","TransitionTable","state","action","addMany","codes","PRINTABLES","EXECUTABLES","DEFAULT_TRANSITION","VT500_TRANSITION_TABLE","states","DcsDummy","hook","collect","flag","put","unhook","EscapeSequenceParser","TRANSITIONS","initialState","currentState","_osc","_params","_collect","_printHandlerFb","_executeHandlerFb","_csiHandlerFb","_escHandlerFb","_oscHandlerFb","identifier","_dcsHandlerFb","_errorHandlerFb","_printHandler","_executeHandlers","_csiHandlers","_escHandlers","_oscHandlers","_dcsHandlers","_activeDcsHandler","_errorHandler","setEscHandler","setPrintHandler","clearPrintHandler","setExecuteHandler","clearExecuteHandler","setExecuteHandlerFallback","setCsiHandler","clearCsiHandler","setCsiHandlerFallback","collectAndFlag","clearEscHandler","setEscHandlerFallback","setOscHandler","ident","clearOscHandler","setOscHandlerFallback","setDcsHandler","clearDcsHandler","setDcsHandlerFallback","setErrorHandler","clearErrorHandler","transition","print","dcs","osc","dcsHandler","inject","abort","parseInt","LRUMap","_map","_head","_tail","_nodePool","_unlinkNode","prev","_appendNode","tail","nodePool","peekValue","head","CharWidth_1","_linkMatchers","_nextLinkMatcherId","_rowsToLinkify","mouseZoneManager","_rowsTimeoutId","_linkifyRows","TIME_BEFORE_LINKIFY","absoluteRowIndexStart","absoluteRowIndexEnd","overscanLineLimit","OVERSCAN_CHAR_LIMIT","_doLinkifyRow","matcher","validationCallback","hoverTooltipCallback","hoverLeaveCallback","priority","_addLinkMatcherToList","rowIndex","match","rex","source","_loop_1","this_1","bufferIndex","isValid","_addLink","state_1","_createLinkHoverEvent","proposeGeometry","parentElementStyle","getComputedStyle","parentElementHeight","getPropertyValue","parentElementWidth","elementStyle","elementPadding","bottom","right","elementPaddingVer","elementPaddingHor","availableHeight","availableWidth","scrollBarWidth","fit","render","_vm","_h","$createElement","_c","_self","attrs","staticStyle","$t","selectedNamespace","nativeOn","$event","getNamespace","model","$$v","namespace","expression","_l","item","staticClass","current_page","page_sizes","page_size","total_count","handleSizeChange","handleCurrentChange","search_key","directives","name","rawName","table_data","filter","pod_name","includes","node_name","host_ip","prop","order","scopedSlots","_u","fn","scope","_v","_s","_e","State","list","ip","ref","openTerminal","slot","openFileBrowser","dialog_terminal_visible","doOpened","doClose","dialog_file_browser_visible","openFileDialog","global_path","createDir","uploadFileOrDir","bulkDownload","bulk_path","path","padding","file_browser_data","Name","handleSelectionChange","Path","Size","download","IsDir","openRenameDialog","removeFileOrDir","dialog_file_visible","create_for_path","create_name","saveFile","fileContent","staticRenderFns","toolbar_options","header","script","indent","align","defaultTheme","black","brightBlack","red","brightRed","green","brightGreen","yellow","brightYellow","magenta","brightMagenta","blue","brightBlue","cyan","brightCyan","white","brightWhite","bindTerminalResize","websocket","onTermResize","Base64","JSON","bindTerminal","bidirectional","bufferedTime","messageBuffer","handleWebSocketMessage","handleTerminalData","heartBeatTimer","socket","namespaces","table_datas","pods","continue","header_paths","ws_url","v","ws","thisV","is_new_file","editor_option","modules","toolbar","methods","GetNamespace","res","metadata","GetPods","limit","remainingItemCount","getTableData","err","$message","message","pod","tr","os","arch","create_time","pod_ips","containers","restart_count","getRestartTimes","status","containerStatuses","restartCount","shell","_p","_pa","FileBrowserList","FileBrowserOpen","FileBrowserCreateFile","success","$prompt","confirmButtonText","cancelButtonText","FileBrowserCreateDir","catch","info","FileBrowserRename","old_path","$confirm","FileBrowserRemove","Download","dest_paths","paths","files","formData","FormData","Upload","dest_path","showInput","clientHeight","doLink","close","$emit","_initialized","prompt","$refs","WebSocket","onerror","onclose","watch","visible","created","component","_maxLength","_array","_length","newArray","_getCyclicIndex","newLength","countToTrim","expandListBy","startPlusLength","DEFAULT_FOREGROUND","fromHex","DEFAULT_BACKGROUND","DEFAULT_CURSOR","DEFAULT_CURSOR_ACCENT","DEFAULT_SELECTION","toPaddedHex","_litmusColor","createLinearGradient","_parseColor","fallback","_clearCurrentLink","middleRowCount","Charsets_1","EscapeSequenceParser_1","GLEVEL","RequestTerminfo","DECRQSS","pt","STYLES","_parser","_surrogateFirst","insertChars","cursorUp","cursorDown","cursorForward","cursorBackward","cursorNextLine","cursorPrecedingLine","cursorCharAbsolute","cursorPosition","cursorForwardTab","eraseInDisplay","eraseInLine","insertLines","deleteLines","deleteChars","scrollUp","scrollDown","eraseChars","cursorBackwardTab","charPosAbsolute","hPositionRelative","repeatPrecedingCharacter","sendDeviceAttributes","linePosAbsolute","vPositionRelative","hVPosition","tabClear","setMode","resetMode","charAttributes","deviceStatus","softReset","setCursorStyle","setScrollRegion","saveCursor","restoreCursor","lineFeed","carriageReturn","backspace","tab","shiftOut","shiftIn","setTitle","keypadApplicationMode","keypadNumericMode","selectDefaultCharset","selectCharset","cursorStartX","cursorStartY","chWidth","bufferRow","stringPosition","lastCell","chMinusOne","chMinusTwo","originalX","param","_eraseInBufferLine","clearWrap","_resetBufferLine","scrollBackSize","scrollBottomRowsOffset","scrollBottomAbsolute","savedCols","activateAltBuffer","activateNormalBuffer","isBlinking","savedCurAttr","level","_disposables","version","VERSION","_hasatob","_hasbtoa","btoa","_hasBuffer","_TD","TextDecoder","_TE","TextEncoder","b64ch","b64chs","b64tab","b64re","_fromCC","_U8Afrom","from","it","_mkUriSafe","src","m0","_tidyB64","btoaPolyfill","bin","u32","c0","c1","c2","asc","pad","TypeError","_btoa","_fromUint8Array","u8a","maxargs","strs","fromUint8Array","urlsafe","cb_utob","cc","re_utob","utob","u","_encode","encodeURI","re_btou","cb_btou","cccc","cp","btou","atobPolyfill","u24","_atob","_toUint8Array","toUint8Array","_unURI","_decode","decode","_noEnum","writable","extendString","_add","extendUint8Array","extendBuiltins","gBase64","fromBase64","toBase64","encodeURL","_normal","_alt","_activeBuffer","_listener","clearListener","_outerListener","_currentDevicePixelRatio","_updateDpr","_resolutionMediaMatchList","removeListener","matchMedia","addListener","FALLBACK_SCROLL_BAR_WIDTH","_scrollArea","_currentRowHeight","_lastRecordedBufferLength","_lastRecordedViewportHeight","_lastRecordedBufferHeight","_lastScrollTop","_wheelPartialScroll","_ignoreNextScrollEvent","offsetWidth","_onScroll","offsetHeight","newBufferHeight","newScrollTop","newRow","_getPixelsScrolled","deltaMode","WheelEvent","DOM_DELTA_LINE","DOM_DELTA_PAGE","DOM_DELTA_PIXEL","_lastTouchY","touches"],"mappings":"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","file":"js/chunk-16105cfe.091467c2.js","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Buffer_1 = require(\"../Buffer\");\nvar CharacterJoinerRegistry = (function () {\n    function CharacterJoinerRegistry(_terminal) {\n        this._terminal = _terminal;\n        this._characterJoiners = [];\n        this._nextCharacterJoinerId = 0;\n    }\n    CharacterJoinerRegistry.prototype.registerCharacterJoiner = function (handler) {\n        var joiner = {\n            id: this._nextCharacterJoinerId++,\n            handler: handler\n        };\n        this._characterJoiners.push(joiner);\n        return joiner.id;\n    };\n    CharacterJoinerRegistry.prototype.deregisterCharacterJoiner = function (joinerId) {\n        for (var i = 0; i < this._characterJoiners.length; i++) {\n            if (this._characterJoiners[i].id === joinerId) {\n                this._characterJoiners.splice(i, 1);\n                return true;\n            }\n        }\n        return false;\n    };\n    CharacterJoinerRegistry.prototype.getJoinedCharacters = function (row) {\n        if (this._characterJoiners.length === 0) {\n            return [];\n        }\n        var line = this._terminal.buffer.lines.get(row);\n        if (line.length === 0) {\n            return [];\n        }\n        var ranges = [];\n        var lineStr = this._terminal.buffer.translateBufferLineToString(row, true);\n        var rangeStartColumn = 0;\n        var currentStringIndex = 0;\n        var rangeStartStringIndex = 0;\n        var rangeAttr = line.get(0)[Buffer_1.CHAR_DATA_ATTR_INDEX] >> 9;\n        for (var x = 0; x < this._terminal.cols; x++) {\n            var charData = line.get(x);\n            var chars = charData[Buffer_1.CHAR_DATA_CHAR_INDEX];\n            var width = charData[Buffer_1.CHAR_DATA_WIDTH_INDEX];\n            var attr = charData[Buffer_1.CHAR_DATA_ATTR_INDEX] >> 9;\n            if (width === 0) {\n                continue;\n            }\n            if (attr !== rangeAttr) {\n                if (x - rangeStartColumn > 1) {\n                    var joinedRanges = this._getJoinedRanges(lineStr, rangeStartStringIndex, currentStringIndex, line, rangeStartColumn);\n                    for (var i = 0; i < joinedRanges.length; i++) {\n                        ranges.push(joinedRanges[i]);\n                    }\n                }\n                rangeStartColumn = x;\n                rangeStartStringIndex = currentStringIndex;\n                rangeAttr = attr;\n            }\n            currentStringIndex += chars.length;\n        }\n        if (this._terminal.cols - rangeStartColumn > 1) {\n            var joinedRanges = this._getJoinedRanges(lineStr, rangeStartStringIndex, currentStringIndex, line, rangeStartColumn);\n            for (var i = 0; i < joinedRanges.length; i++) {\n                ranges.push(joinedRanges[i]);\n            }\n        }\n        return ranges;\n    };\n    CharacterJoinerRegistry.prototype._getJoinedRanges = function (line, startIndex, endIndex, lineData, startCol) {\n        var text = line.substring(startIndex, endIndex);\n        var joinedRanges = this._characterJoiners[0].handler(text);\n        for (var i = 1; i < this._characterJoiners.length; i++) {\n            var joinerRanges = this._characterJoiners[i].handler(text);\n            for (var j = 0; j < joinerRanges.length; j++) {\n                CharacterJoinerRegistry._mergeRanges(joinedRanges, joinerRanges[j]);\n            }\n        }\n        this._stringRangesToCellRanges(joinedRanges, lineData, startCol);\n        return joinedRanges;\n    };\n    CharacterJoinerRegistry.prototype._stringRangesToCellRanges = function (ranges, line, startCol) {\n        var currentRangeIndex = 0;\n        var currentRangeStarted = false;\n        var currentStringIndex = 0;\n        var currentRange = ranges[currentRangeIndex];\n        if (!currentRange) {\n            return;\n        }\n        for (var x = startCol; x < this._terminal.cols; x++) {\n            var charData = line.get(x);\n            var width = charData[Buffer_1.CHAR_DATA_WIDTH_INDEX];\n            var length_1 = charData[Buffer_1.CHAR_DATA_CHAR_INDEX].length;\n            if (width === 0) {\n                continue;\n            }\n            if (!currentRangeStarted && currentRange[0] <= currentStringIndex) {\n                currentRange[0] = x;\n                currentRangeStarted = true;\n            }\n            if (currentRange[1] <= currentStringIndex) {\n                currentRange[1] = x;\n                currentRange = ranges[++currentRangeIndex];\n                if (!currentRange) {\n                    break;\n                }\n                if (currentRange[0] <= currentStringIndex) {\n                    currentRange[0] = x;\n                    currentRangeStarted = true;\n                }\n                else {\n                    currentRangeStarted = false;\n                }\n            }\n            currentStringIndex += length_1;\n        }\n        if (currentRange) {\n            currentRange[1] = this._terminal.cols;\n        }\n    };\n    CharacterJoinerRegistry._mergeRanges = function (ranges, newRange) {\n        var inRange = false;\n        for (var i = 0; i < ranges.length; i++) {\n            var range = ranges[i];\n            if (!inRange) {\n                if (newRange[1] <= range[0]) {\n                    ranges.splice(i, 0, newRange);\n                    return ranges;\n                }\n                if (newRange[1] <= range[1]) {\n                    range[0] = Math.min(newRange[0], range[0]);\n                    return ranges;\n                }\n                if (newRange[0] < range[1]) {\n                    range[0] = Math.min(newRange[0], range[0]);\n                    inRange = true;\n                }\n                continue;\n            }\n            else {\n                if (newRange[1] <= range[0]) {\n                    ranges[i - 1][1] = newRange[1];\n                    return ranges;\n                }\n                if (newRange[1] <= range[1]) {\n                    ranges[i - 1][1] = Math.max(newRange[1], range[1]);\n                    ranges.splice(i, 1);\n                    inRange = false;\n                    return ranges;\n                }\n                ranges.splice(i, 1);\n                i--;\n            }\n        }\n        if (inRange) {\n            ranges[ranges.length - 1][1] = newRange[1];\n        }\n        else {\n            ranges.push(newRange);\n        }\n        return ranges;\n    };\n    return CharacterJoinerRegistry;\n}());\nexports.CharacterJoinerRegistry = CharacterJoinerRegistry;\n//# sourceMappingURL=CharacterJoinerRegistry.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.clone = function (val, depth) {\n    if (depth === void 0) { depth = 5; }\n    if (typeof val !== 'object') {\n        return val;\n    }\n    if (val === null) {\n        return null;\n    }\n    var clonedObject = Array.isArray(val) ? [] : {};\n    for (var key in val) {\n        clonedObject[key] = depth <= 1 ? val[key] : exports.clone(val[key], depth - 1);\n    }\n    return clonedObject;\n};\n//# sourceMappingURL=Clone.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Buffer_1 = require(\"../../Buffer\");\nvar Types_1 = require(\"../atlas/Types\");\nexports.BOLD_CLASS = 'xterm-bold';\nexports.ITALIC_CLASS = 'xterm-italic';\nexports.CURSOR_CLASS = 'xterm-cursor';\nexports.CURSOR_STYLE_BLOCK_CLASS = 'xterm-cursor-block';\nexports.CURSOR_STYLE_BAR_CLASS = 'xterm-cursor-bar';\nexports.CURSOR_STYLE_UNDERLINE_CLASS = 'xterm-cursor-underline';\nvar DomRendererRowFactory = (function () {\n    function DomRendererRowFactory(_document) {\n        this._document = _document;\n    }\n    DomRendererRowFactory.prototype.createRow = function (lineData, isCursorRow, cursorStyle, cursorX, cellWidth, cols) {\n        var fragment = this._document.createDocumentFragment();\n        var lineLength = 0;\n        for (var x = Math.min(lineData.length, cols) - 1; x >= 0; x--) {\n            var charData = lineData.get(x);\n            var code = charData[Buffer_1.CHAR_DATA_CODE_INDEX];\n            if (code !== Buffer_1.NULL_CELL_CODE || (isCursorRow && x === cursorX)) {\n                lineLength = x + 1;\n                break;\n            }\n        }\n        for (var x = 0; x < lineLength; x++) {\n            var charData = lineData.get(x);\n            var char = charData[Buffer_1.CHAR_DATA_CHAR_INDEX];\n            var attr = charData[Buffer_1.CHAR_DATA_ATTR_INDEX];\n            var width = charData[Buffer_1.CHAR_DATA_WIDTH_INDEX];\n            if (width === 0) {\n                continue;\n            }\n            var charElement = this._document.createElement('span');\n            if (width > 1) {\n                charElement.style.width = cellWidth * width + \"px\";\n            }\n            var flags = attr >> 18;\n            var bg = attr & 0x1ff;\n            var fg = (attr >> 9) & 0x1ff;\n            if (isCursorRow && x === cursorX) {\n                charElement.classList.add(exports.CURSOR_CLASS);\n                switch (cursorStyle) {\n                    case 'bar':\n                        charElement.classList.add(exports.CURSOR_STYLE_BAR_CLASS);\n                        break;\n                    case 'underline':\n                        charElement.classList.add(exports.CURSOR_STYLE_UNDERLINE_CLASS);\n                        break;\n                    default:\n                        charElement.classList.add(exports.CURSOR_STYLE_BLOCK_CLASS);\n                        break;\n                }\n            }\n            if (flags & 8) {\n                var temp = bg;\n                bg = fg;\n                fg = temp;\n                if (fg === Types_1.DEFAULT_COLOR) {\n                    fg = Types_1.INVERTED_DEFAULT_COLOR;\n                }\n                if (bg === Types_1.DEFAULT_COLOR) {\n                    bg = Types_1.INVERTED_DEFAULT_COLOR;\n                }\n            }\n            if (flags & 1) {\n                if (fg < 8) {\n                    fg += 8;\n                }\n                charElement.classList.add(exports.BOLD_CLASS);\n            }\n            if (flags & 64) {\n                charElement.classList.add(exports.ITALIC_CLASS);\n            }\n            charElement.textContent = char;\n            if (fg !== Types_1.DEFAULT_COLOR) {\n                charElement.classList.add(\"xterm-fg-\" + fg);\n            }\n            if (bg !== Types_1.DEFAULT_COLOR) {\n                charElement.classList.add(\"xterm-bg-\" + bg);\n            }\n            fragment.appendChild(charElement);\n        }\n        return fragment;\n    };\n    return DomRendererRowFactory;\n}());\nexports.DomRendererRowFactory = DomRendererRowFactory;\n//# sourceMappingURL=DomRendererRowFactory.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Types_1 = require(\"./atlas/Types\");\nvar CharAtlasCache_1 = require(\"./atlas/CharAtlasCache\");\nvar Buffer_1 = require(\"../Buffer\");\nvar CharAtlasUtils_1 = require(\"./atlas/CharAtlasUtils\");\nvar BaseRenderLayer = (function () {\n    function BaseRenderLayer(_container, id, zIndex, _alpha, _colors) {\n        this._container = _container;\n        this._alpha = _alpha;\n        this._colors = _colors;\n        this._scaledCharWidth = 0;\n        this._scaledCharHeight = 0;\n        this._scaledCellWidth = 0;\n        this._scaledCellHeight = 0;\n        this._scaledCharLeft = 0;\n        this._scaledCharTop = 0;\n        this._currentGlyphIdentifier = {\n            chars: '',\n            code: 0,\n            bg: 0,\n            fg: 0,\n            bold: false,\n            dim: false,\n            italic: false\n        };\n        this._canvas = document.createElement('canvas');\n        this._canvas.classList.add(\"xterm-\" + id + \"-layer\");\n        this._canvas.style.zIndex = zIndex.toString();\n        this._initCanvas();\n        this._container.appendChild(this._canvas);\n    }\n    BaseRenderLayer.prototype.dispose = function () {\n        this._container.removeChild(this._canvas);\n        if (this._charAtlas) {\n            this._charAtlas.dispose();\n        }\n    };\n    BaseRenderLayer.prototype._initCanvas = function () {\n        this._ctx = this._canvas.getContext('2d', { alpha: this._alpha });\n        if (!this._alpha) {\n            this.clearAll();\n        }\n    };\n    BaseRenderLayer.prototype.onOptionsChanged = function (terminal) { };\n    BaseRenderLayer.prototype.onBlur = function (terminal) { };\n    BaseRenderLayer.prototype.onFocus = function (terminal) { };\n    BaseRenderLayer.prototype.onCursorMove = function (terminal) { };\n    BaseRenderLayer.prototype.onGridChanged = function (terminal, startRow, endRow) { };\n    BaseRenderLayer.prototype.onSelectionChanged = function (terminal, start, end, columnSelectMode) {\n        if (columnSelectMode === void 0) { columnSelectMode = false; }\n    };\n    BaseRenderLayer.prototype.onThemeChanged = function (terminal, colorSet) {\n        this._refreshCharAtlas(terminal, colorSet);\n    };\n    BaseRenderLayer.prototype.setTransparency = function (terminal, alpha) {\n        if (alpha === this._alpha) {\n            return;\n        }\n        var oldCanvas = this._canvas;\n        this._alpha = alpha;\n        this._canvas = this._canvas.cloneNode();\n        this._initCanvas();\n        this._container.replaceChild(this._canvas, oldCanvas);\n        this._refreshCharAtlas(terminal, this._colors);\n        this.onGridChanged(terminal, 0, terminal.rows - 1);\n    };\n    BaseRenderLayer.prototype._refreshCharAtlas = function (terminal, colorSet) {\n        if (this._scaledCharWidth <= 0 && this._scaledCharHeight <= 0) {\n            return;\n        }\n        this._charAtlas = CharAtlasCache_1.acquireCharAtlas(terminal, colorSet, this._scaledCharWidth, this._scaledCharHeight);\n        this._charAtlas.warmUp();\n    };\n    BaseRenderLayer.prototype.resize = function (terminal, dim) {\n        this._scaledCellWidth = dim.scaledCellWidth;\n        this._scaledCellHeight = dim.scaledCellHeight;\n        this._scaledCharWidth = dim.scaledCharWidth;\n        this._scaledCharHeight = dim.scaledCharHeight;\n        this._scaledCharLeft = dim.scaledCharLeft;\n        this._scaledCharTop = dim.scaledCharTop;\n        this._canvas.width = dim.scaledCanvasWidth;\n        this._canvas.height = dim.scaledCanvasHeight;\n        this._canvas.style.width = dim.canvasWidth + \"px\";\n        this._canvas.style.height = dim.canvasHeight + \"px\";\n        if (!this._alpha) {\n            this.clearAll();\n        }\n        this._refreshCharAtlas(terminal, this._colors);\n    };\n    BaseRenderLayer.prototype.fillCells = function (x, y, width, height) {\n        this._ctx.fillRect(x * this._scaledCellWidth, y * this._scaledCellHeight, width * this._scaledCellWidth, height * this._scaledCellHeight);\n    };\n    BaseRenderLayer.prototype.fillBottomLineAtCells = function (x, y, width) {\n        if (width === void 0) { width = 1; }\n        this._ctx.fillRect(x * this._scaledCellWidth, (y + 1) * this._scaledCellHeight - window.devicePixelRatio - 1, width * this._scaledCellWidth, window.devicePixelRatio);\n    };\n    BaseRenderLayer.prototype.fillLeftLineAtCell = function (x, y) {\n        this._ctx.fillRect(x * this._scaledCellWidth, y * this._scaledCellHeight, window.devicePixelRatio, this._scaledCellHeight);\n    };\n    BaseRenderLayer.prototype.strokeRectAtCell = function (x, y, width, height) {\n        this._ctx.lineWidth = window.devicePixelRatio;\n        this._ctx.strokeRect(x * this._scaledCellWidth + window.devicePixelRatio / 2, y * this._scaledCellHeight + (window.devicePixelRatio / 2), width * this._scaledCellWidth - window.devicePixelRatio, (height * this._scaledCellHeight) - window.devicePixelRatio);\n    };\n    BaseRenderLayer.prototype.clearAll = function () {\n        if (this._alpha) {\n            this._ctx.clearRect(0, 0, this._canvas.width, this._canvas.height);\n        }\n        else {\n            this._ctx.fillStyle = this._colors.background.css;\n            this._ctx.fillRect(0, 0, this._canvas.width, this._canvas.height);\n        }\n    };\n    BaseRenderLayer.prototype.clearCells = function (x, y, width, height) {\n        if (this._alpha) {\n            this._ctx.clearRect(x * this._scaledCellWidth, y * this._scaledCellHeight, width * this._scaledCellWidth, height * this._scaledCellHeight);\n        }\n        else {\n            this._ctx.fillStyle = this._colors.background.css;\n            this._ctx.fillRect(x * this._scaledCellWidth, y * this._scaledCellHeight, width * this._scaledCellWidth, height * this._scaledCellHeight);\n        }\n    };\n    BaseRenderLayer.prototype.fillCharTrueColor = function (terminal, charData, x, y) {\n        this._ctx.font = this._getFont(terminal, false, false);\n        this._ctx.textBaseline = 'top';\n        this._clipRow(terminal, y);\n        this._ctx.fillText(charData[Buffer_1.CHAR_DATA_CHAR_INDEX], x * this._scaledCellWidth + this._scaledCharLeft, y * this._scaledCellHeight + this._scaledCharTop);\n    };\n    BaseRenderLayer.prototype.drawChars = function (terminal, chars, code, width, x, y, fg, bg, bold, dim, italic) {\n        var drawInBrightColor = terminal.options.drawBoldTextInBrightColors && bold && fg < 8 && fg !== Types_1.INVERTED_DEFAULT_COLOR;\n        fg += drawInBrightColor ? 8 : 0;\n        this._currentGlyphIdentifier.chars = chars;\n        this._currentGlyphIdentifier.code = code;\n        this._currentGlyphIdentifier.bg = bg;\n        this._currentGlyphIdentifier.fg = fg;\n        this._currentGlyphIdentifier.bold = bold && terminal.options.enableBold;\n        this._currentGlyphIdentifier.dim = dim;\n        this._currentGlyphIdentifier.italic = italic;\n        var atlasDidDraw = this._charAtlas && this._charAtlas.draw(this._ctx, this._currentGlyphIdentifier, x * this._scaledCellWidth + this._scaledCharLeft, y * this._scaledCellHeight + this._scaledCharTop);\n        if (!atlasDidDraw) {\n            this._drawUncachedChars(terminal, chars, width, fg, x, y, bold && terminal.options.enableBold, dim, italic);\n        }\n    };\n    BaseRenderLayer.prototype._drawUncachedChars = function (terminal, chars, width, fg, x, y, bold, dim, italic) {\n        this._ctx.save();\n        this._ctx.font = this._getFont(terminal, bold, italic);\n        this._ctx.textBaseline = 'top';\n        if (fg === Types_1.INVERTED_DEFAULT_COLOR) {\n            this._ctx.fillStyle = this._colors.background.css;\n        }\n        else if (CharAtlasUtils_1.is256Color(fg)) {\n            this._ctx.fillStyle = this._colors.ansi[fg].css;\n        }\n        else {\n            this._ctx.fillStyle = this._colors.foreground.css;\n        }\n        this._clipRow(terminal, y);\n        if (dim) {\n            this._ctx.globalAlpha = Types_1.DIM_OPACITY;\n        }\n        this._ctx.fillText(chars, x * this._scaledCellWidth + this._scaledCharLeft, y * this._scaledCellHeight + this._scaledCharTop);\n        this._ctx.restore();\n    };\n    BaseRenderLayer.prototype._clipRow = function (terminal, y) {\n        this._ctx.beginPath();\n        this._ctx.rect(0, y * this._scaledCellHeight, terminal.cols * this._scaledCellWidth, this._scaledCellHeight);\n        this._ctx.clip();\n    };\n    BaseRenderLayer.prototype._getFont = function (terminal, isBold, isItalic) {\n        var fontWeight = isBold ? terminal.options.fontWeightBold : terminal.options.fontWeight;\n        var fontStyle = isItalic ? 'italic' : '';\n        return fontStyle + \" \" + fontWeight + \" \" + terminal.options.fontSize * window.devicePixelRatio + \"px \" + terminal.options.fontFamily;\n    };\n    return BaseRenderLayer;\n}());\nexports.BaseRenderLayer = BaseRenderLayer;\n//# sourceMappingURL=BaseRenderLayer.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Buffer_1 = require(\"./Buffer\");\nvar BufferLineJSArray = (function () {\n    function BufferLineJSArray(cols, fillCharData, isWrapped) {\n        this.isWrapped = false;\n        this._data = [];\n        if (!fillCharData) {\n            fillCharData = [0, Buffer_1.NULL_CELL_CHAR, Buffer_1.NULL_CELL_WIDTH, Buffer_1.NULL_CELL_CODE];\n        }\n        for (var i = 0; i < cols; i++) {\n            this._push(fillCharData);\n        }\n        if (isWrapped) {\n            this.isWrapped = true;\n        }\n        this.length = this._data.length;\n    }\n    BufferLineJSArray.prototype._pop = function () {\n        var data = this._data.pop();\n        this.length = this._data.length;\n        return data;\n    };\n    BufferLineJSArray.prototype._push = function (data) {\n        this._data.push(data);\n        this.length = this._data.length;\n    };\n    BufferLineJSArray.prototype._splice = function (start, deleteCount) {\n        var items = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            items[_i - 2] = arguments[_i];\n        }\n        var _a;\n        var removed = (_a = this._data).splice.apply(_a, [start, deleteCount].concat(items));\n        this.length = this._data.length;\n        return removed;\n    };\n    BufferLineJSArray.prototype.get = function (index) {\n        return this._data[index];\n    };\n    BufferLineJSArray.prototype.set = function (index, data) {\n        this._data[index] = data;\n    };\n    BufferLineJSArray.prototype.insertCells = function (pos, n, ch) {\n        while (n--) {\n            this._splice(pos, 0, ch);\n            this._pop();\n        }\n    };\n    BufferLineJSArray.prototype.deleteCells = function (pos, n, fillCharData) {\n        while (n--) {\n            this._splice(pos, 1);\n            this._push(fillCharData);\n        }\n    };\n    BufferLineJSArray.prototype.replaceCells = function (start, end, fillCharData) {\n        while (start < end && start < this.length) {\n            this.set(start++, fillCharData);\n        }\n    };\n    BufferLineJSArray.prototype.resize = function (cols, fillCharData, shrink) {\n        if (shrink === void 0) { shrink = false; }\n        while (this._data.length < cols) {\n            this._data.push(fillCharData);\n        }\n        if (shrink) {\n            while (this._data.length > cols) {\n                this._data.pop();\n            }\n        }\n        this.length = this._data.length;\n    };\n    BufferLineJSArray.prototype.fill = function (fillCharData) {\n        for (var i = 0; i < this.length; ++i) {\n            this.set(i, fillCharData);\n        }\n    };\n    BufferLineJSArray.prototype.copyFrom = function (line) {\n        this._data = line._data.slice(0);\n        this.length = line.length;\n        this.isWrapped = line.isWrapped;\n    };\n    BufferLineJSArray.prototype.clone = function () {\n        var newLine = new BufferLineJSArray(0);\n        newLine.copyFrom(this);\n        return newLine;\n    };\n    return BufferLineJSArray;\n}());\nexports.BufferLineJSArray = BufferLineJSArray;\nvar CELL_SIZE = 3;\nvar BufferLine = (function () {\n    function BufferLine(cols, fillCharData, isWrapped) {\n        if (isWrapped === void 0) { isWrapped = false; }\n        this.isWrapped = isWrapped;\n        this._data = null;\n        this._combined = {};\n        if (!fillCharData) {\n            fillCharData = [0, Buffer_1.NULL_CELL_CHAR, Buffer_1.NULL_CELL_WIDTH, Buffer_1.NULL_CELL_CODE];\n        }\n        if (cols) {\n            this._data = new Uint32Array(cols * CELL_SIZE);\n            for (var i = 0; i < cols; ++i) {\n                this.set(i, fillCharData);\n            }\n        }\n        this.length = cols;\n    }\n    BufferLine.prototype.get = function (index) {\n        var stringData = this._data[index * CELL_SIZE + 1];\n        return [\n            this._data[index * CELL_SIZE + 0],\n            (stringData & 0x80000000)\n                ? this._combined[index]\n                : (stringData) ? String.fromCharCode(stringData) : '',\n            this._data[index * CELL_SIZE + 2],\n            (stringData & 0x80000000)\n                ? this._combined[index].charCodeAt(this._combined[index].length - 1)\n                : stringData\n        ];\n    };\n    BufferLine.prototype.set = function (index, value) {\n        this._data[index * CELL_SIZE + 0] = value[0];\n        if (value[1].length > 1) {\n            this._combined[index] = value[1];\n            this._data[index * CELL_SIZE + 1] = index | 0x80000000;\n        }\n        else {\n            this._data[index * CELL_SIZE + 1] = value[1].charCodeAt(0);\n        }\n        this._data[index * CELL_SIZE + 2] = value[2];\n    };\n    BufferLine.prototype.insertCells = function (pos, n, fillCharData) {\n        pos %= this.length;\n        if (n < this.length - pos) {\n            for (var i = this.length - pos - n - 1; i >= 0; --i) {\n                this.set(pos + n + i, this.get(pos + i));\n            }\n            for (var i = 0; i < n; ++i) {\n                this.set(pos + i, fillCharData);\n            }\n        }\n        else {\n            for (var i = pos; i < this.length; ++i) {\n                this.set(i, fillCharData);\n            }\n        }\n    };\n    BufferLine.prototype.deleteCells = function (pos, n, fillCharData) {\n        pos %= this.length;\n        if (n < this.length - pos) {\n            for (var i = 0; i < this.length - pos - n; ++i) {\n                this.set(pos + i, this.get(pos + n + i));\n            }\n            for (var i = this.length - n; i < this.length; ++i) {\n                this.set(i, fillCharData);\n            }\n        }\n        else {\n            for (var i = pos; i < this.length; ++i) {\n                this.set(i, fillCharData);\n            }\n        }\n    };\n    BufferLine.prototype.replaceCells = function (start, end, fillCharData) {\n        while (start < end && start < this.length) {\n            this.set(start++, fillCharData);\n        }\n    };\n    BufferLine.prototype.resize = function (cols, fillCharData, shrink) {\n        if (shrink === void 0) { shrink = false; }\n        if (cols === this.length || (!shrink && cols < this.length)) {\n            return;\n        }\n        if (cols > this.length) {\n            var data = new Uint32Array(cols * CELL_SIZE);\n            if (this.length) {\n                if (cols * CELL_SIZE < this._data.length) {\n                    data.set(this._data.subarray(0, cols * CELL_SIZE));\n                }\n                else {\n                    data.set(this._data);\n                }\n            }\n            this._data = data;\n            for (var i = this.length; i < cols; ++i) {\n                this.set(i, fillCharData);\n            }\n        }\n        else if (shrink) {\n            if (cols) {\n                var data = new Uint32Array(cols * CELL_SIZE);\n                data.set(this._data.subarray(0, cols * CELL_SIZE));\n                this._data = data;\n            }\n            else {\n                this._data = null;\n            }\n        }\n        this.length = cols;\n    };\n    BufferLine.prototype.fill = function (fillCharData) {\n        this._combined = {};\n        for (var i = 0; i < this.length; ++i) {\n            this.set(i, fillCharData);\n        }\n    };\n    BufferLine.prototype.copyFrom = function (line) {\n        if (this.length !== line.length) {\n            this._data = new Uint32Array(line._data);\n        }\n        else {\n            this._data.set(line._data);\n        }\n        this.length = line.length;\n        this._combined = {};\n        for (var el in line._combined) {\n            this._combined[el] = line._combined[el];\n        }\n        this.isWrapped = line.isWrapped;\n    };\n    BufferLine.prototype.clone = function () {\n        var newLine = new BufferLine(0);\n        newLine._data = new Uint32Array(this._data);\n        newLine.length = this.length;\n        for (var el in this._combined) {\n            newLine._combined[el] = this._combined[el];\n        }\n        newLine.isWrapped = this.isWrapped;\n        return newLine;\n    };\n    return BufferLine;\n}());\nexports.BufferLine = BufferLine;\n//# sourceMappingURL=BufferLine.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Strings = require(\"./Strings\");\nvar Platform_1 = require(\"./core/Platform\");\nvar RenderDebouncer_1 = require(\"./ui/RenderDebouncer\");\nvar Lifecycle_1 = require(\"./ui/Lifecycle\");\nvar Lifecycle_2 = require(\"./common/Lifecycle\");\nvar MAX_ROWS_TO_READ = 20;\nvar AccessibilityManager = (function (_super) {\n    __extends(AccessibilityManager, _super);\n    function AccessibilityManager(_terminal) {\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._liveRegionLineCount = 0;\n        _this._charsToConsume = [];\n        _this._accessibilityTreeRoot = document.createElement('div');\n        _this._accessibilityTreeRoot.classList.add('xterm-accessibility');\n        _this._rowContainer = document.createElement('div');\n        _this._rowContainer.classList.add('xterm-accessibility-tree');\n        _this._rowElements = [];\n        for (var i = 0; i < _this._terminal.rows; i++) {\n            _this._rowElements[i] = _this._createAccessibilityTreeNode();\n            _this._rowContainer.appendChild(_this._rowElements[i]);\n        }\n        _this._topBoundaryFocusListener = function (e) { return _this._onBoundaryFocus(e, 0); };\n        _this._bottomBoundaryFocusListener = function (e) { return _this._onBoundaryFocus(e, 1); };\n        _this._rowElements[0].addEventListener('focus', _this._topBoundaryFocusListener);\n        _this._rowElements[_this._rowElements.length - 1].addEventListener('focus', _this._bottomBoundaryFocusListener);\n        _this._refreshRowsDimensions();\n        _this._accessibilityTreeRoot.appendChild(_this._rowContainer);\n        _this._renderRowsDebouncer = new RenderDebouncer_1.RenderDebouncer(_this._terminal, _this._renderRows.bind(_this));\n        _this._refreshRows();\n        _this._liveRegion = document.createElement('div');\n        _this._liveRegion.classList.add('live-region');\n        _this._liveRegion.setAttribute('aria-live', 'assertive');\n        _this._accessibilityTreeRoot.appendChild(_this._liveRegion);\n        _this._terminal.element.insertAdjacentElement('afterbegin', _this._accessibilityTreeRoot);\n        _this.register(_this._renderRowsDebouncer);\n        _this.register(_this._terminal.addDisposableListener('resize', function (data) { return _this._onResize(data.rows); }));\n        _this.register(_this._terminal.addDisposableListener('refresh', function (data) { return _this._refreshRows(data.start, data.end); }));\n        _this.register(_this._terminal.addDisposableListener('scroll', function (data) { return _this._refreshRows(); }));\n        _this.register(_this._terminal.addDisposableListener('a11y.char', function (char) { return _this._onChar(char); }));\n        _this.register(_this._terminal.addDisposableListener('linefeed', function () { return _this._onChar('\\n'); }));\n        _this.register(_this._terminal.addDisposableListener('a11y.tab', function (spaceCount) { return _this._onTab(spaceCount); }));\n        _this.register(_this._terminal.addDisposableListener('key', function (keyChar) { return _this._onKey(keyChar); }));\n        _this.register(_this._terminal.addDisposableListener('blur', function () { return _this._clearLiveRegion(); }));\n        _this.register(_this._terminal.addDisposableListener('dprchange', function () { return _this._refreshRowsDimensions(); }));\n        _this.register(_this._terminal.renderer.addDisposableListener('resize', function () { return _this._refreshRowsDimensions(); }));\n        _this.register(Lifecycle_1.addDisposableDomListener(window, 'resize', function () { return _this._refreshRowsDimensions(); }));\n        return _this;\n    }\n    AccessibilityManager.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this._terminal.element.removeChild(this._accessibilityTreeRoot);\n        this._rowElements.length = 0;\n    };\n    AccessibilityManager.prototype._onBoundaryFocus = function (e, position) {\n        var boundaryElement = e.target;\n        var beforeBoundaryElement = this._rowElements[position === 0 ? 1 : this._rowElements.length - 2];\n        var posInSet = boundaryElement.getAttribute('aria-posinset');\n        var lastRowPos = position === 0 ? '1' : \"\" + this._terminal.buffer.lines.length;\n        if (posInSet === lastRowPos) {\n            return;\n        }\n        if (e.relatedTarget !== beforeBoundaryElement) {\n            return;\n        }\n        var topBoundaryElement;\n        var bottomBoundaryElement;\n        if (position === 0) {\n            topBoundaryElement = boundaryElement;\n            bottomBoundaryElement = this._rowElements.pop();\n            this._rowContainer.removeChild(bottomBoundaryElement);\n        }\n        else {\n            topBoundaryElement = this._rowElements.shift();\n            bottomBoundaryElement = boundaryElement;\n            this._rowContainer.removeChild(topBoundaryElement);\n        }\n        topBoundaryElement.removeEventListener('focus', this._topBoundaryFocusListener);\n        bottomBoundaryElement.removeEventListener('focus', this._bottomBoundaryFocusListener);\n        if (position === 0) {\n            var newElement = this._createAccessibilityTreeNode();\n            this._rowElements.unshift(newElement);\n            this._rowContainer.insertAdjacentElement('afterbegin', newElement);\n        }\n        else {\n            var newElement = this._createAccessibilityTreeNode();\n            this._rowElements.push(newElement);\n            this._rowContainer.appendChild(newElement);\n        }\n        this._rowElements[0].addEventListener('focus', this._topBoundaryFocusListener);\n        this._rowElements[this._rowElements.length - 1].addEventListener('focus', this._bottomBoundaryFocusListener);\n        this._terminal.scrollLines(position === 0 ? -1 : 1);\n        this._rowElements[position === 0 ? 1 : this._rowElements.length - 2].focus();\n        e.preventDefault();\n        e.stopImmediatePropagation();\n    };\n    AccessibilityManager.prototype._onResize = function (rows) {\n        this._rowElements[this._rowElements.length - 1].removeEventListener('focus', this._bottomBoundaryFocusListener);\n        for (var i = this._rowContainer.children.length; i < this._terminal.rows; i++) {\n            this._rowElements[i] = this._createAccessibilityTreeNode();\n            this._rowContainer.appendChild(this._rowElements[i]);\n        }\n        while (this._rowElements.length > rows) {\n            this._rowContainer.removeChild(this._rowElements.pop());\n        }\n        this._rowElements[this._rowElements.length - 1].addEventListener('focus', this._bottomBoundaryFocusListener);\n        this._refreshRowsDimensions();\n    };\n    AccessibilityManager.prototype._createAccessibilityTreeNode = function () {\n        var element = document.createElement('div');\n        element.setAttribute('role', 'listitem');\n        element.tabIndex = -1;\n        this._refreshRowDimensions(element);\n        return element;\n    };\n    AccessibilityManager.prototype._onTab = function (spaceCount) {\n        for (var i = 0; i < spaceCount; i++) {\n            this._onChar(' ');\n        }\n    };\n    AccessibilityManager.prototype._onChar = function (char) {\n        var _this = this;\n        if (this._liveRegionLineCount < MAX_ROWS_TO_READ + 1) {\n            if (this._charsToConsume.length > 0) {\n                var shiftedChar = this._charsToConsume.shift();\n                if (shiftedChar !== char) {\n                    this._announceCharacter(char);\n                }\n            }\n            else {\n                this._announceCharacter(char);\n            }\n            if (char === '\\n') {\n                this._liveRegionLineCount++;\n                if (this._liveRegionLineCount === MAX_ROWS_TO_READ + 1) {\n                    this._liveRegion.textContent += Strings.tooMuchOutput;\n                }\n            }\n            if (Platform_1.isMac) {\n                if (this._liveRegion.textContent && this._liveRegion.textContent.length > 0 && !this._liveRegion.parentNode) {\n                    setTimeout(function () {\n                        _this._accessibilityTreeRoot.appendChild(_this._liveRegion);\n                    }, 0);\n                }\n            }\n        }\n    };\n    AccessibilityManager.prototype._clearLiveRegion = function () {\n        this._liveRegion.textContent = '';\n        this._liveRegionLineCount = 0;\n        if (Platform_1.isMac) {\n            if (this._liveRegion.parentNode) {\n                this._accessibilityTreeRoot.removeChild(this._liveRegion);\n            }\n        }\n    };\n    AccessibilityManager.prototype._onKey = function (keyChar) {\n        this._clearLiveRegion();\n        this._charsToConsume.push(keyChar);\n    };\n    AccessibilityManager.prototype._refreshRows = function (start, end) {\n        this._renderRowsDebouncer.refresh(start, end);\n    };\n    AccessibilityManager.prototype._renderRows = function (start, end) {\n        var buffer = this._terminal.buffer;\n        var setSize = buffer.lines.length.toString();\n        for (var i = start; i <= end; i++) {\n            var lineData = buffer.translateBufferLineToString(buffer.ydisp + i, true);\n            var posInSet = (buffer.ydisp + i + 1).toString();\n            var element = this._rowElements[i];\n            element.textContent = lineData.length === 0 ? Strings.blankLine : lineData;\n            element.setAttribute('aria-posinset', posInSet);\n            element.setAttribute('aria-setsize', setSize);\n        }\n    };\n    AccessibilityManager.prototype._refreshRowsDimensions = function () {\n        if (!this._terminal.renderer.dimensions.actualCellHeight) {\n            return;\n        }\n        if (this._rowElements.length !== this._terminal.rows) {\n            this._onResize(this._terminal.rows);\n        }\n        for (var i = 0; i < this._terminal.rows; i++) {\n            this._refreshRowDimensions(this._rowElements[i]);\n        }\n    };\n    AccessibilityManager.prototype._refreshRowDimensions = function (element) {\n        element.style.height = this._terminal.renderer.dimensions.actualCellHeight + \"px\";\n    };\n    AccessibilityManager.prototype._announceCharacter = function (char) {\n        if (char === ' ') {\n            this._liveRegion.innerHTML += '&nbsp;';\n        }\n        else {\n            this._liveRegion.textContent += char;\n        }\n    };\n    return AccessibilityManager;\n}(Lifecycle_2.Disposable));\nexports.AccessibilityManager = AccessibilityManager;\n//# sourceMappingURL=AccessibilityManager.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseRenderLayer_1 = require(\"./BaseRenderLayer\");\nvar SelectionRenderLayer = (function (_super) {\n    __extends(SelectionRenderLayer, _super);\n    function SelectionRenderLayer(container, zIndex, colors) {\n        var _this = _super.call(this, container, 'selection', zIndex, true, colors) || this;\n        _this._clearState();\n        return _this;\n    }\n    SelectionRenderLayer.prototype._clearState = function () {\n        this._state = {\n            start: null,\n            end: null,\n            columnSelectMode: null,\n            ydisp: null\n        };\n    };\n    SelectionRenderLayer.prototype.resize = function (terminal, dim) {\n        _super.prototype.resize.call(this, terminal, dim);\n        this._clearState();\n    };\n    SelectionRenderLayer.prototype.reset = function (terminal) {\n        if (this._state.start && this._state.end) {\n            this._clearState();\n            this.clearAll();\n        }\n    };\n    SelectionRenderLayer.prototype.onSelectionChanged = function (terminal, start, end, columnSelectMode) {\n        if (!this._didStateChange(start, end, columnSelectMode, terminal.buffer.ydisp)) {\n            return;\n        }\n        this.clearAll();\n        if (!start || !end) {\n            return;\n        }\n        var viewportStartRow = start[1] - terminal.buffer.ydisp;\n        var viewportEndRow = end[1] - terminal.buffer.ydisp;\n        var viewportCappedStartRow = Math.max(viewportStartRow, 0);\n        var viewportCappedEndRow = Math.min(viewportEndRow, terminal.rows - 1);\n        if (viewportCappedStartRow >= terminal.rows || viewportCappedEndRow < 0) {\n            return;\n        }\n        this._ctx.fillStyle = this._colors.selection.css;\n        if (columnSelectMode) {\n            var startCol = start[0];\n            var width = end[0] - startCol;\n            var height = viewportCappedEndRow - viewportCappedStartRow + 1;\n            this.fillCells(startCol, viewportCappedStartRow, width, height);\n        }\n        else {\n            var startCol = viewportStartRow === viewportCappedStartRow ? start[0] : 0;\n            var startRowEndCol = viewportCappedStartRow === viewportCappedEndRow ? end[0] : terminal.cols;\n            this.fillCells(startCol, viewportCappedStartRow, startRowEndCol - startCol, 1);\n            var middleRowsCount = Math.max(viewportCappedEndRow - viewportCappedStartRow - 1, 0);\n            this.fillCells(0, viewportCappedStartRow + 1, terminal.cols, middleRowsCount);\n            if (viewportCappedStartRow !== viewportCappedEndRow) {\n                var endCol = viewportEndRow === viewportCappedEndRow ? end[0] : terminal.cols;\n                this.fillCells(0, viewportCappedEndRow, endCol, 1);\n            }\n        }\n        this._state.start = [start[0], start[1]];\n        this._state.end = [end[0], end[1]];\n        this._state.columnSelectMode = columnSelectMode;\n        this._state.ydisp = terminal.buffer.ydisp;\n    };\n    SelectionRenderLayer.prototype._didStateChange = function (start, end, columnSelectMode, ydisp) {\n        return !this._areCoordinatesEqual(start, this._state.start) ||\n            !this._areCoordinatesEqual(end, this._state.end) ||\n            columnSelectMode !== this._state.columnSelectMode ||\n            ydisp !== this._state.ydisp;\n    };\n    SelectionRenderLayer.prototype._areCoordinatesEqual = function (coord1, coord2) {\n        if (!coord1 || !coord2) {\n            return false;\n        }\n        return coord1[0] === coord2[0] && coord1[1] === coord2[1];\n    };\n    return SelectionRenderLayer;\n}(BaseRenderLayer_1.BaseRenderLayer));\nexports.SelectionRenderLayer = SelectionRenderLayer;\n//# sourceMappingURL=SelectionRenderLayer.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar nonWordCharacters = ' ~!@#$%^&*()+`-=[]{}|\\;:\"\\',./<>?';\nvar SearchHelper = (function () {\n    function SearchHelper(_terminal) {\n        this._terminal = _terminal;\n    }\n    SearchHelper.prototype.findNext = function (term, searchOptions) {\n        if (!term || term.length === 0) {\n            return false;\n        }\n        var result;\n        var startRow = this._terminal._core.buffer.ydisp;\n        if (this._terminal._core.selectionManager.selectionEnd) {\n            if (this._terminal.getSelection().length !== 0) {\n                startRow = this._terminal._core.selectionManager.selectionEnd[1];\n            }\n        }\n        for (var y = startRow + 1; y < this._terminal._core.buffer.ybase + this._terminal.rows; y++) {\n            result = this._findInLine(term, y, searchOptions);\n            if (result) {\n                break;\n            }\n        }\n        if (!result) {\n            for (var y = 0; y < startRow; y++) {\n                result = this._findInLine(term, y, searchOptions);\n                if (result) {\n                    break;\n                }\n            }\n        }\n        return this._selectResult(result);\n    };\n    SearchHelper.prototype.findPrevious = function (term, searchOptions) {\n        if (!term || term.length === 0) {\n            return false;\n        }\n        var result;\n        var startRow = this._terminal._core.buffer.ydisp;\n        if (this._terminal._core.selectionManager.selectionStart) {\n            if (this._terminal.getSelection().length !== 0) {\n                startRow = this._terminal._core.selectionManager.selectionStart[1];\n            }\n        }\n        for (var y = startRow - 1; y >= 0; y--) {\n            result = this._findInLine(term, y, searchOptions);\n            if (result) {\n                break;\n            }\n        }\n        if (!result) {\n            for (var y = this._terminal._core.buffer.ybase + this._terminal.rows - 1; y > startRow; y--) {\n                result = this._findInLine(term, y, searchOptions);\n                if (result) {\n                    break;\n                }\n            }\n        }\n        return this._selectResult(result);\n    };\n    SearchHelper.prototype._isWholeWord = function (searchIndex, line, term) {\n        return (((searchIndex === 0) || (nonWordCharacters.indexOf(line[searchIndex - 1]) !== -1)) &&\n            (((searchIndex + term.length) === line.length) || (nonWordCharacters.indexOf(line[searchIndex + term.length]) !== -1)));\n    };\n    SearchHelper.prototype._findInLine = function (term, y, searchOptions) {\n        if (searchOptions === void 0) { searchOptions = {}; }\n        if (this._terminal._core.buffer.lines.get(y).isWrapped) {\n            return;\n        }\n        var stringLine = this.translateBufferLineToStringWithWrap(y, true);\n        var searchStringLine = searchOptions.caseSensitive ? stringLine : stringLine.toLowerCase();\n        var searchTerm = searchOptions.caseSensitive ? term : term.toLowerCase();\n        var searchIndex = -1;\n        if (searchOptions.regex) {\n            var searchRegex = RegExp(searchTerm, 'g');\n            var foundTerm = searchRegex.exec(searchStringLine);\n            if (foundTerm && foundTerm[0].length > 0) {\n                searchIndex = searchRegex.lastIndex - foundTerm[0].length;\n                term = foundTerm[0];\n            }\n        }\n        else {\n            searchIndex = searchStringLine.indexOf(searchTerm);\n        }\n        if (searchIndex >= 0) {\n            if (searchIndex >= this._terminal.cols) {\n                y += Math.floor(searchIndex / this._terminal.cols);\n                searchIndex = searchIndex % this._terminal.cols;\n            }\n            if (searchOptions.wholeWord && !this._isWholeWord(searchIndex, searchStringLine, term)) {\n                return;\n            }\n            var line = this._terminal._core.buffer.lines.get(y);\n            for (var i = 0; i < searchIndex; i++) {\n                var charData = line.get(i);\n                var char = charData[1];\n                if (char.length > 1) {\n                    searchIndex -= char.length - 1;\n                }\n                var charWidth = charData[2];\n                if (charWidth === 0) {\n                    searchIndex++;\n                }\n            }\n            return {\n                term: term,\n                col: searchIndex,\n                row: y\n            };\n        }\n    };\n    SearchHelper.prototype.translateBufferLineToStringWithWrap = function (lineIndex, trimRight) {\n        var lineString = '';\n        var lineWrapsToNext;\n        do {\n            var nextLine = this._terminal._core.buffer.lines.get(lineIndex + 1);\n            lineWrapsToNext = nextLine ? nextLine.isWrapped : false;\n            lineString += this._terminal._core.buffer.translateBufferLineToString(lineIndex, !lineWrapsToNext && trimRight).substring(0, this._terminal.cols);\n            lineIndex++;\n        } while (lineWrapsToNext);\n        return lineString;\n    };\n    SearchHelper.prototype._selectResult = function (result) {\n        if (!result) {\n            this._terminal.clearSelection();\n            return false;\n        }\n        this._terminal._core.selectionManager.setSelection(result.col, result.row, result.term.length);\n        this._terminal.scrollLines(result.row - this._terminal._core.buffer.ydisp);\n        return true;\n    };\n    return SearchHelper;\n}());\nexports.SearchHelper = SearchHelper;\n//# sourceMappingURL=SearchHelper.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RenderDebouncer = (function () {\n    function RenderDebouncer(_terminal, _callback) {\n        this._terminal = _terminal;\n        this._callback = _callback;\n        this._animationFrame = null;\n    }\n    RenderDebouncer.prototype.dispose = function () {\n        if (this._animationFrame) {\n            window.cancelAnimationFrame(this._animationFrame);\n            this._animationFrame = null;\n        }\n    };\n    RenderDebouncer.prototype.refresh = function (rowStart, rowEnd) {\n        var _this = this;\n        rowStart = rowStart !== null && rowStart !== undefined ? rowStart : 0;\n        rowEnd = rowEnd !== null && rowEnd !== undefined ? rowEnd : this._terminal.rows - 1;\n        var isRowStartSet = this._rowStart !== undefined && this._rowStart !== null;\n        var isRowEndSet = this._rowEnd !== undefined && this._rowEnd !== null;\n        this._rowStart = isRowStartSet ? Math.min(this._rowStart, rowStart) : rowStart;\n        this._rowEnd = isRowEndSet ? Math.max(this._rowEnd, rowEnd) : rowEnd;\n        if (this._animationFrame) {\n            return;\n        }\n        this._animationFrame = window.requestAnimationFrame(function () { return _this._innerRefresh(); });\n    };\n    RenderDebouncer.prototype._innerRefresh = function () {\n        this._rowStart = Math.max(this._rowStart, 0);\n        this._rowEnd = Math.min(this._rowEnd, this._terminal.rows - 1);\n        this._callback(this._rowStart, this._rowEnd);\n        this._rowStart = null;\n        this._rowEnd = null;\n        this._animationFrame = null;\n    };\n    return RenderDebouncer;\n}());\nexports.RenderDebouncer = RenderDebouncer;\n//# sourceMappingURL=RenderDebouncer.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EventEmitter_1 = require(\"../../common/EventEmitter\");\nvar ColorManager_1 = require(\"../ColorManager\");\nvar RenderDebouncer_1 = require(\"../../ui/RenderDebouncer\");\nvar DomRendererRowFactory_1 = require(\"./DomRendererRowFactory\");\nvar Types_1 = require(\"../atlas/Types\");\nvar TERMINAL_CLASS_PREFIX = 'xterm-dom-renderer-owner-';\nvar ROW_CONTAINER_CLASS = 'xterm-rows';\nvar FG_CLASS_PREFIX = 'xterm-fg-';\nvar BG_CLASS_PREFIX = 'xterm-bg-';\nvar FOCUS_CLASS = 'xterm-focus';\nvar SELECTION_CLASS = 'xterm-selection';\nvar nextTerminalId = 1;\nvar DomRenderer = (function (_super) {\n    __extends(DomRenderer, _super);\n    function DomRenderer(_terminal, theme) {\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._terminalClass = nextTerminalId++;\n        _this._rowElements = [];\n        var allowTransparency = _this._terminal.options.allowTransparency;\n        _this.colorManager = new ColorManager_1.ColorManager(document, allowTransparency);\n        _this.setTheme(theme);\n        _this._rowContainer = document.createElement('div');\n        _this._rowContainer.classList.add(ROW_CONTAINER_CLASS);\n        _this._rowContainer.style.lineHeight = 'normal';\n        _this._rowContainer.setAttribute('aria-hidden', 'true');\n        _this._refreshRowElements(_this._terminal.cols, _this._terminal.rows);\n        _this._selectionContainer = document.createElement('div');\n        _this._selectionContainer.classList.add(SELECTION_CLASS);\n        _this._selectionContainer.setAttribute('aria-hidden', 'true');\n        _this.dimensions = {\n            scaledCharWidth: null,\n            scaledCharHeight: null,\n            scaledCellWidth: null,\n            scaledCellHeight: null,\n            scaledCharLeft: null,\n            scaledCharTop: null,\n            scaledCanvasWidth: null,\n            scaledCanvasHeight: null,\n            canvasWidth: null,\n            canvasHeight: null,\n            actualCellWidth: null,\n            actualCellHeight: null\n        };\n        _this._updateDimensions();\n        _this._renderDebouncer = new RenderDebouncer_1.RenderDebouncer(_this._terminal, _this._renderRows.bind(_this));\n        _this._rowFactory = new DomRendererRowFactory_1.DomRendererRowFactory(document);\n        _this._terminal.element.classList.add(TERMINAL_CLASS_PREFIX + _this._terminalClass);\n        _this._terminal.screenElement.appendChild(_this._rowContainer);\n        _this._terminal.screenElement.appendChild(_this._selectionContainer);\n        _this._terminal.linkifier.on(\"linkhover\", function (e) { return _this._onLinkHover(e); });\n        _this._terminal.linkifier.on(\"linkleave\", function (e) { return _this._onLinkLeave(e); });\n        return _this;\n    }\n    DomRenderer.prototype.dispose = function () {\n        this._terminal.element.classList.remove(TERMINAL_CLASS_PREFIX + this._terminalClass);\n        this._terminal.screenElement.removeChild(this._rowContainer);\n        this._terminal.screenElement.removeChild(this._selectionContainer);\n        this._terminal.screenElement.removeChild(this._themeStyleElement);\n        this._terminal.screenElement.removeChild(this._dimensionsStyleElement);\n        _super.prototype.dispose.call(this);\n    };\n    DomRenderer.prototype._updateDimensions = function () {\n        var _this = this;\n        this.dimensions.scaledCharWidth = Math.floor(this._terminal.charMeasure.width * window.devicePixelRatio);\n        this.dimensions.scaledCharHeight = Math.ceil(this._terminal.charMeasure.height * window.devicePixelRatio);\n        this.dimensions.scaledCellWidth = this.dimensions.scaledCharWidth + Math.round(this._terminal.options.letterSpacing);\n        this.dimensions.scaledCellHeight = Math.floor(this.dimensions.scaledCharHeight * this._terminal.options.lineHeight);\n        this.dimensions.scaledCharLeft = 0;\n        this.dimensions.scaledCharTop = 0;\n        this.dimensions.scaledCanvasWidth = this.dimensions.scaledCellWidth * this._terminal.cols;\n        this.dimensions.scaledCanvasHeight = this.dimensions.scaledCellHeight * this._terminal.rows;\n        this.dimensions.canvasWidth = Math.round(this.dimensions.scaledCanvasWidth / window.devicePixelRatio);\n        this.dimensions.canvasHeight = Math.round(this.dimensions.scaledCanvasHeight / window.devicePixelRatio);\n        this.dimensions.actualCellWidth = this.dimensions.canvasWidth / this._terminal.cols;\n        this.dimensions.actualCellHeight = this.dimensions.canvasHeight / this._terminal.rows;\n        this._rowElements.forEach(function (element) {\n            element.style.width = _this.dimensions.canvasWidth + \"px\";\n            element.style.height = _this.dimensions.actualCellHeight + \"px\";\n            element.style.lineHeight = _this.dimensions.actualCellHeight + \"px\";\n            element.style.overflow = 'hidden';\n        });\n        if (!this._dimensionsStyleElement) {\n            this._dimensionsStyleElement = document.createElement('style');\n            this._terminal.screenElement.appendChild(this._dimensionsStyleElement);\n        }\n        var styles = this._terminalSelector + \" .\" + ROW_CONTAINER_CLASS + \" span {\" +\n            \" display: inline-block;\" +\n            \" height: 100%;\" +\n            \" vertical-align: top;\" +\n            (\" width: \" + this.dimensions.actualCellWidth + \"px\") +\n            \"}\";\n        this._dimensionsStyleElement.innerHTML = styles;\n        this._selectionContainer.style.height = this._terminal._viewportElement.style.height;\n        this._terminal.screenElement.style.width = this.dimensions.canvasWidth + \"px\";\n        this._terminal.screenElement.style.height = this.dimensions.canvasHeight + \"px\";\n    };\n    DomRenderer.prototype.setTheme = function (theme) {\n        var _this = this;\n        if (theme) {\n            this.colorManager.setTheme(theme);\n        }\n        if (!this._themeStyleElement) {\n            this._themeStyleElement = document.createElement('style');\n            this._terminal.screenElement.appendChild(this._themeStyleElement);\n        }\n        var styles = this._terminalSelector + \" .\" + ROW_CONTAINER_CLASS + \" {\" +\n            (\" color: \" + this.colorManager.colors.foreground.css + \";\") +\n            (\" background-color: \" + this.colorManager.colors.background.css + \";\") +\n            (\" font-family: \" + this._terminal.getOption('fontFamily') + \";\") +\n            (\" font-size: \" + this._terminal.getOption('fontSize') + \"px;\") +\n            \"}\";\n        styles +=\n            this._terminalSelector + \" span:not(.\" + DomRendererRowFactory_1.BOLD_CLASS + \") {\" +\n                (\" font-weight: \" + this._terminal.options.fontWeight + \";\") +\n                \"}\" +\n                (this._terminalSelector + \" span.\" + DomRendererRowFactory_1.BOLD_CLASS + \" {\") +\n                (\" font-weight: \" + this._terminal.options.fontWeightBold + \";\") +\n                \"}\" +\n                (this._terminalSelector + \" span.\" + DomRendererRowFactory_1.ITALIC_CLASS + \" {\") +\n                \" font-style: italic;\" +\n                \"}\";\n        styles +=\n            this._terminalSelector + \" .\" + ROW_CONTAINER_CLASS + \":not(.\" + FOCUS_CLASS + \") .\" + DomRendererRowFactory_1.CURSOR_CLASS + \" {\" +\n                (\" outline: 1px solid \" + this.colorManager.colors.cursor.css + \";\") +\n                \" outline-offset: -1px;\" +\n                \"}\" +\n                (this._terminalSelector + \" .\" + ROW_CONTAINER_CLASS + \".\" + FOCUS_CLASS + \" .\" + DomRendererRowFactory_1.CURSOR_CLASS + \".\" + DomRendererRowFactory_1.CURSOR_STYLE_BLOCK_CLASS + \" {\") +\n                (\" background-color: \" + this.colorManager.colors.cursor.css + \";\") +\n                (\" color: \" + this.colorManager.colors.cursorAccent.css + \";\") +\n                \"}\" +\n                (this._terminalSelector + \" .\" + ROW_CONTAINER_CLASS + \".\" + FOCUS_CLASS + \" .\" + DomRendererRowFactory_1.CURSOR_CLASS + \".\" + DomRendererRowFactory_1.CURSOR_STYLE_BAR_CLASS + \" {\") +\n                (\" box-shadow: 1px 0 0 \" + this.colorManager.colors.cursor.css + \" inset;\") +\n                \"}\" +\n                (this._terminalSelector + \" .\" + ROW_CONTAINER_CLASS + \".\" + FOCUS_CLASS + \" .\" + DomRendererRowFactory_1.CURSOR_CLASS + \".\" + DomRendererRowFactory_1.CURSOR_STYLE_UNDERLINE_CLASS + \" {\") +\n                (\" box-shadow: 0 -1px 0 \" + this.colorManager.colors.cursor.css + \" inset;\") +\n                \"}\";\n        styles +=\n            this._terminalSelector + \" .\" + SELECTION_CLASS + \" {\" +\n                \" position: absolute;\" +\n                \" top: 0;\" +\n                \" left: 0;\" +\n                \" z-index: 1;\" +\n                \" pointer-events: none;\" +\n                \"}\" +\n                (this._terminalSelector + \" .\" + SELECTION_CLASS + \" div {\") +\n                \" position: absolute;\" +\n                (\" background-color: \" + this.colorManager.colors.selection.css + \";\") +\n                \"}\";\n        this.colorManager.colors.ansi.forEach(function (c, i) {\n            styles +=\n                _this._terminalSelector + \" .\" + FG_CLASS_PREFIX + i + \" { color: \" + c.css + \"; }\" +\n                    (_this._terminalSelector + \" .\" + BG_CLASS_PREFIX + i + \" { background-color: \" + c.css + \"; }\");\n        });\n        styles +=\n            this._terminalSelector + \" .\" + FG_CLASS_PREFIX + Types_1.INVERTED_DEFAULT_COLOR + \" { color: \" + this.colorManager.colors.background.css + \"; }\" +\n                (this._terminalSelector + \" .\" + BG_CLASS_PREFIX + Types_1.INVERTED_DEFAULT_COLOR + \" { background-color: \" + this.colorManager.colors.foreground.css + \"; }\");\n        this._themeStyleElement.innerHTML = styles;\n        return this.colorManager.colors;\n    };\n    DomRenderer.prototype.onWindowResize = function (devicePixelRatio) {\n        this._updateDimensions();\n    };\n    DomRenderer.prototype._refreshRowElements = function (cols, rows) {\n        for (var i = this._rowElements.length; i <= rows; i++) {\n            var row = document.createElement('div');\n            this._rowContainer.appendChild(row);\n            this._rowElements.push(row);\n        }\n        while (this._rowElements.length > rows) {\n            this._rowContainer.removeChild(this._rowElements.pop());\n        }\n    };\n    DomRenderer.prototype.onResize = function (cols, rows) {\n        this._refreshRowElements(cols, rows);\n        this._updateDimensions();\n    };\n    DomRenderer.prototype.onCharSizeChanged = function () {\n        this._updateDimensions();\n    };\n    DomRenderer.prototype.onBlur = function () {\n        this._rowContainer.classList.remove(FOCUS_CLASS);\n    };\n    DomRenderer.prototype.onFocus = function () {\n        this._rowContainer.classList.add(FOCUS_CLASS);\n    };\n    DomRenderer.prototype.onSelectionChanged = function (start, end, columnSelectMode) {\n        while (this._selectionContainer.children.length) {\n            this._selectionContainer.removeChild(this._selectionContainer.children[0]);\n        }\n        if (!start || !end) {\n            return;\n        }\n        var viewportStartRow = start[1] - this._terminal.buffer.ydisp;\n        var viewportEndRow = end[1] - this._terminal.buffer.ydisp;\n        var viewportCappedStartRow = Math.max(viewportStartRow, 0);\n        var viewportCappedEndRow = Math.min(viewportEndRow, this._terminal.rows - 1);\n        if (viewportCappedStartRow >= this._terminal.rows || viewportCappedEndRow < 0) {\n            return;\n        }\n        var documentFragment = document.createDocumentFragment();\n        if (columnSelectMode) {\n            documentFragment.appendChild(this._createSelectionElement(viewportCappedStartRow, start[0], end[0], viewportCappedEndRow - viewportCappedStartRow + 1));\n        }\n        else {\n            var startCol = viewportStartRow === viewportCappedStartRow ? start[0] : 0;\n            var endCol = viewportCappedStartRow === viewportCappedEndRow ? end[0] : this._terminal.cols;\n            documentFragment.appendChild(this._createSelectionElement(viewportCappedStartRow, startCol, endCol));\n            var middleRowsCount = viewportCappedEndRow - viewportCappedStartRow - 1;\n            documentFragment.appendChild(this._createSelectionElement(viewportCappedStartRow + 1, 0, this._terminal.cols, middleRowsCount));\n            if (viewportCappedStartRow !== viewportCappedEndRow) {\n                var endCol_1 = viewportEndRow === viewportCappedEndRow ? end[0] : this._terminal.cols;\n                documentFragment.appendChild(this._createSelectionElement(viewportCappedEndRow, 0, endCol_1));\n            }\n        }\n        this._selectionContainer.appendChild(documentFragment);\n    };\n    DomRenderer.prototype._createSelectionElement = function (row, colStart, colEnd, rowCount) {\n        if (rowCount === void 0) { rowCount = 1; }\n        var element = document.createElement('div');\n        element.style.height = rowCount * this.dimensions.actualCellHeight + \"px\";\n        element.style.top = row * this.dimensions.actualCellHeight + \"px\";\n        element.style.left = colStart * this.dimensions.actualCellWidth + \"px\";\n        element.style.width = this.dimensions.actualCellWidth * (colEnd - colStart) + \"px\";\n        return element;\n    };\n    DomRenderer.prototype.onCursorMove = function () {\n    };\n    DomRenderer.prototype.onOptionsChanged = function () {\n        this._updateDimensions();\n        this.setTheme(undefined);\n        this._terminal.refresh(0, this._terminal.rows - 1);\n    };\n    DomRenderer.prototype.clear = function () {\n        this._rowElements.forEach(function (e) { return e.innerHTML = ''; });\n    };\n    DomRenderer.prototype.refreshRows = function (start, end) {\n        this._renderDebouncer.refresh(start, end);\n    };\n    DomRenderer.prototype._renderRows = function (start, end) {\n        var terminal = this._terminal;\n        var cursorAbsoluteY = terminal.buffer.ybase + terminal.buffer.y;\n        var cursorX = this._terminal.buffer.x;\n        for (var y = start; y <= end; y++) {\n            var rowElement = this._rowElements[y];\n            rowElement.innerHTML = '';\n            var row = y + terminal.buffer.ydisp;\n            var lineData = terminal.buffer.lines.get(row);\n            var cursorStyle = terminal.options.cursorStyle;\n            rowElement.appendChild(this._rowFactory.createRow(lineData, row === cursorAbsoluteY, cursorStyle, cursorX, this.dimensions.actualCellWidth, terminal.cols));\n        }\n        this._terminal.emit('refresh', { start: start, end: end });\n    };\n    Object.defineProperty(DomRenderer.prototype, \"_terminalSelector\", {\n        get: function () {\n            return \".\" + TERMINAL_CLASS_PREFIX + this._terminalClass;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    DomRenderer.prototype.registerCharacterJoiner = function (handler) { return -1; };\n    DomRenderer.prototype.deregisterCharacterJoiner = function (joinerId) { return false; };\n    DomRenderer.prototype._onLinkHover = function (e) {\n        this._setCellUnderline(e.x1, e.x2, e.y1, e.y2, e.cols, true);\n    };\n    DomRenderer.prototype._onLinkLeave = function (e) {\n        this._setCellUnderline(e.x1, e.x2, e.y1, e.y2, e.cols, false);\n    };\n    DomRenderer.prototype._setCellUnderline = function (x, x2, y, y2, cols, enabled) {\n        while (x !== x2 || y !== y2) {\n            var row = this._rowElements[y];\n            if (!row) {\n                return;\n            }\n            var span = row.children[x];\n            span.style.textDecoration = enabled ? 'underline' : 'none';\n            x = (x + 1) % cols;\n            if (x === 0) {\n                y++;\n            }\n        }\n    };\n    return DomRenderer;\n}(EventEmitter_1.EventEmitter));\nexports.DomRenderer = DomRenderer;\n//# sourceMappingURL=DomRenderer.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Lifecycle_1 = require(\"../common/Lifecycle\");\nvar Lifecycle_2 = require(\"./Lifecycle\");\nvar HOVER_DURATION = 500;\nvar MouseZoneManager = (function (_super) {\n    __extends(MouseZoneManager, _super);\n    function MouseZoneManager(_terminal) {\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._zones = [];\n        _this._areZonesActive = false;\n        _this._tooltipTimeout = null;\n        _this._currentZone = null;\n        _this._lastHoverCoords = [null, null];\n        _this.register(Lifecycle_2.addDisposableDomListener(_this._terminal.element, 'mousedown', function (e) { return _this._onMouseDown(e); }));\n        _this._mouseMoveListener = function (e) { return _this._onMouseMove(e); };\n        _this._clickListener = function (e) { return _this._onClick(e); };\n        return _this;\n    }\n    MouseZoneManager.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this._deactivate();\n    };\n    MouseZoneManager.prototype.add = function (zone) {\n        this._zones.push(zone);\n        if (this._zones.length === 1) {\n            this._activate();\n        }\n    };\n    MouseZoneManager.prototype.clearAll = function (start, end) {\n        if (this._zones.length === 0) {\n            return;\n        }\n        if (!end) {\n            start = 0;\n            end = this._terminal.rows - 1;\n        }\n        for (var i = 0; i < this._zones.length; i++) {\n            var zone = this._zones[i];\n            if ((zone.y1 > start && zone.y1 <= end + 1) ||\n                (zone.y2 > start && zone.y2 <= end + 1) ||\n                (zone.y1 < start && zone.y2 > end + 1)) {\n                if (this._currentZone && this._currentZone === zone) {\n                    this._currentZone.leaveCallback();\n                    this._currentZone = null;\n                }\n                this._zones.splice(i--, 1);\n            }\n        }\n        if (this._zones.length === 0) {\n            this._deactivate();\n        }\n    };\n    MouseZoneManager.prototype._activate = function () {\n        if (!this._areZonesActive) {\n            this._areZonesActive = true;\n            this._terminal.element.addEventListener('mousemove', this._mouseMoveListener);\n            this._terminal.element.addEventListener('click', this._clickListener);\n        }\n    };\n    MouseZoneManager.prototype._deactivate = function () {\n        if (this._areZonesActive) {\n            this._areZonesActive = false;\n            this._terminal.element.removeEventListener('mousemove', this._mouseMoveListener);\n            this._terminal.element.removeEventListener('click', this._clickListener);\n        }\n    };\n    MouseZoneManager.prototype._onMouseMove = function (e) {\n        if (this._lastHoverCoords[0] !== e.pageX || this._lastHoverCoords[1] !== e.pageY) {\n            this._onHover(e);\n            this._lastHoverCoords = [e.pageX, e.pageY];\n        }\n    };\n    MouseZoneManager.prototype._onHover = function (e) {\n        var _this = this;\n        var zone = this._findZoneEventAt(e);\n        if (zone === this._currentZone) {\n            return;\n        }\n        if (this._currentZone) {\n            this._currentZone.leaveCallback();\n            this._currentZone = null;\n            if (this._tooltipTimeout) {\n                clearTimeout(this._tooltipTimeout);\n            }\n        }\n        if (!zone) {\n            return;\n        }\n        this._currentZone = zone;\n        if (zone.hoverCallback) {\n            zone.hoverCallback(e);\n        }\n        this._tooltipTimeout = setTimeout(function () { return _this._onTooltip(e); }, HOVER_DURATION);\n    };\n    MouseZoneManager.prototype._onTooltip = function (e) {\n        this._tooltipTimeout = null;\n        var zone = this._findZoneEventAt(e);\n        if (zone && zone.tooltipCallback) {\n            zone.tooltipCallback(e);\n        }\n    };\n    MouseZoneManager.prototype._onMouseDown = function (e) {\n        if (!this._areZonesActive) {\n            return;\n        }\n        var zone = this._findZoneEventAt(e);\n        if (zone) {\n            if (zone.willLinkActivate(e)) {\n                e.preventDefault();\n                e.stopImmediatePropagation();\n            }\n        }\n    };\n    MouseZoneManager.prototype._onClick = function (e) {\n        var zone = this._findZoneEventAt(e);\n        if (zone) {\n            zone.clickCallback(e);\n            e.preventDefault();\n            e.stopImmediatePropagation();\n        }\n    };\n    MouseZoneManager.prototype._findZoneEventAt = function (e) {\n        var coords = this._terminal.mouseHelper.getCoords(e, this._terminal.screenElement, this._terminal.charMeasure, this._terminal.cols, this._terminal.rows);\n        if (!coords) {\n            return null;\n        }\n        var x = coords[0];\n        var y = coords[1];\n        for (var i = 0; i < this._zones.length; i++) {\n            var zone = this._zones[i];\n            if (zone.y1 === zone.y2) {\n                if (y === zone.y1 && x >= zone.x1 && x < zone.x2) {\n                    return zone;\n                }\n            }\n            else {\n                if ((y === zone.y1 && x >= zone.x1) ||\n                    (y === zone.y2 && x < zone.x2) ||\n                    (y > zone.y1 && y < zone.y2)) {\n                    return zone;\n                }\n            }\n        }\n        return null;\n    };\n    return MouseZoneManager;\n}(Lifecycle_1.Disposable));\nexports.MouseZoneManager = MouseZoneManager;\nvar MouseZone = (function () {\n    function MouseZone(x1, y1, x2, y2, clickCallback, hoverCallback, tooltipCallback, leaveCallback, willLinkActivate) {\n        this.x1 = x1;\n        this.y1 = y1;\n        this.x2 = x2;\n        this.y2 = y2;\n        this.clickCallback = clickCallback;\n        this.hoverCallback = hoverCallback;\n        this.tooltipCallback = tooltipCallback;\n        this.leaveCallback = leaveCallback;\n        this.willLinkActivate = willLinkActivate;\n    }\n    return MouseZone;\n}());\nexports.MouseZone = MouseZone;\n//# sourceMappingURL=MouseZoneManager.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CircularList_1 = require(\"./common/CircularList\");\nvar EventEmitter_1 = require(\"./common/EventEmitter\");\nvar BufferLine_1 = require(\"./BufferLine\");\nvar Types_1 = require(\"./renderer/atlas/Types\");\nexports.DEFAULT_ATTR = (0 << 18) | (Types_1.DEFAULT_COLOR << 9) | (256 << 0);\nexports.CHAR_DATA_ATTR_INDEX = 0;\nexports.CHAR_DATA_CHAR_INDEX = 1;\nexports.CHAR_DATA_WIDTH_INDEX = 2;\nexports.CHAR_DATA_CODE_INDEX = 3;\nexports.MAX_BUFFER_SIZE = 4294967295;\nexports.NULL_CELL_CHAR = ' ';\nexports.NULL_CELL_WIDTH = 1;\nexports.NULL_CELL_CODE = 32;\nvar Buffer = (function () {\n    function Buffer(_terminal, _hasScrollback) {\n        this._terminal = _terminal;\n        this._hasScrollback = _hasScrollback;\n        this.markers = [];\n        this.clear();\n    }\n    Buffer.prototype.setBufferLineFactory = function (type) {\n        if (type === 'JsArray') {\n            if (this._bufferLineConstructor !== BufferLine_1.BufferLineJSArray) {\n                this._bufferLineConstructor = BufferLine_1.BufferLineJSArray;\n                this._recreateLines();\n            }\n        }\n        else {\n            if (this._bufferLineConstructor !== BufferLine_1.BufferLine) {\n                this._bufferLineConstructor = BufferLine_1.BufferLine;\n                this._recreateLines();\n            }\n        }\n    };\n    Buffer.prototype._recreateLines = function () {\n        if (!this.lines)\n            return;\n        for (var i = 0; i < this.lines.length; ++i) {\n            var oldLine = this.lines.get(i);\n            var newLine = new this._bufferLineConstructor(oldLine.length);\n            for (var j = 0; j < oldLine.length; ++j) {\n                newLine.set(j, oldLine.get(j));\n            }\n            this.lines.set(i, newLine);\n        }\n    };\n    Buffer.prototype.getBlankLine = function (attr, isWrapped) {\n        var fillCharData = [attr, exports.NULL_CELL_CHAR, exports.NULL_CELL_WIDTH, exports.NULL_CELL_CODE];\n        return new this._bufferLineConstructor(this._terminal.cols, fillCharData, isWrapped);\n    };\n    Object.defineProperty(Buffer.prototype, \"hasScrollback\", {\n        get: function () {\n            return this._hasScrollback && this.lines.maxLength > this._terminal.rows;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Buffer.prototype, \"isCursorInViewport\", {\n        get: function () {\n            var absoluteY = this.ybase + this.y;\n            var relativeY = absoluteY - this.ydisp;\n            return (relativeY >= 0 && relativeY < this._terminal.rows);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Buffer.prototype._getCorrectBufferLength = function (rows) {\n        if (!this._hasScrollback) {\n            return rows;\n        }\n        var correctBufferLength = rows + this._terminal.options.scrollback;\n        return correctBufferLength > exports.MAX_BUFFER_SIZE ? exports.MAX_BUFFER_SIZE : correctBufferLength;\n    };\n    Buffer.prototype.fillViewportRows = function (fillAttr) {\n        if (this.lines.length === 0) {\n            if (fillAttr === undefined) {\n                fillAttr = exports.DEFAULT_ATTR;\n            }\n            var i = this._terminal.rows;\n            while (i--) {\n                this.lines.push(this.getBlankLine(fillAttr));\n            }\n        }\n    };\n    Buffer.prototype.clear = function () {\n        this.setBufferLineFactory(this._terminal.options.experimentalBufferLineImpl);\n        this.ydisp = 0;\n        this.ybase = 0;\n        this.y = 0;\n        this.x = 0;\n        this.lines = new CircularList_1.CircularList(this._getCorrectBufferLength(this._terminal.rows));\n        this.scrollTop = 0;\n        this.scrollBottom = this._terminal.rows - 1;\n        this.setupTabStops();\n    };\n    Buffer.prototype.resize = function (newCols, newRows) {\n        var newMaxLength = this._getCorrectBufferLength(newRows);\n        if (newMaxLength > this.lines.maxLength) {\n            this.lines.maxLength = newMaxLength;\n        }\n        if (this.lines.length > 0) {\n            if (this._terminal.cols < newCols) {\n                var ch = [exports.DEFAULT_ATTR, exports.NULL_CELL_CHAR, exports.NULL_CELL_WIDTH, exports.NULL_CELL_CODE];\n                for (var i = 0; i < this.lines.length; i++) {\n                    this.lines.get(i).resize(newCols, ch);\n                }\n            }\n            var addToY = 0;\n            if (this._terminal.rows < newRows) {\n                for (var y = this._terminal.rows; y < newRows; y++) {\n                    if (this.lines.length < newRows + this.ybase) {\n                        if (this.ybase > 0 && this.lines.length <= this.ybase + this.y + addToY + 1) {\n                            this.ybase--;\n                            addToY++;\n                            if (this.ydisp > 0) {\n                                this.ydisp--;\n                            }\n                        }\n                        else {\n                            var fillCharData = [exports.DEFAULT_ATTR, exports.NULL_CELL_CHAR, exports.NULL_CELL_WIDTH, exports.NULL_CELL_CODE];\n                            this.lines.push(new this._bufferLineConstructor(newCols, fillCharData));\n                        }\n                    }\n                }\n            }\n            else {\n                for (var y = this._terminal.rows; y > newRows; y--) {\n                    if (this.lines.length > newRows + this.ybase) {\n                        if (this.lines.length > this.ybase + this.y + 1) {\n                            this.lines.pop();\n                        }\n                        else {\n                            this.ybase++;\n                            this.ydisp++;\n                        }\n                    }\n                }\n            }\n            if (newMaxLength < this.lines.maxLength) {\n                var amountToTrim = this.lines.length - newMaxLength;\n                if (amountToTrim > 0) {\n                    this.lines.trimStart(amountToTrim);\n                    this.ybase = Math.max(this.ybase - amountToTrim, 0);\n                    this.ydisp = Math.max(this.ydisp - amountToTrim, 0);\n                }\n                this.lines.maxLength = newMaxLength;\n            }\n            this.x = Math.min(this.x, newCols - 1);\n            this.y = Math.min(this.y, newRows - 1);\n            if (addToY) {\n                this.y += addToY;\n            }\n            this.savedY = Math.min(this.savedY, newRows - 1);\n            this.savedX = Math.min(this.savedX, newCols - 1);\n            this.scrollTop = 0;\n        }\n        this.scrollBottom = newRows - 1;\n    };\n    Buffer.prototype.stringIndexToBufferIndex = function (lineIndex, stringIndex) {\n        while (stringIndex) {\n            var line = this.lines.get(lineIndex);\n            if (!line) {\n                [-1, -1];\n            }\n            for (var i = 0; i < line.length; ++i) {\n                stringIndex -= line.get(i)[exports.CHAR_DATA_CHAR_INDEX].length;\n                if (stringIndex < 0) {\n                    return [lineIndex, i];\n                }\n            }\n            lineIndex++;\n        }\n        return [lineIndex, 0];\n    };\n    Buffer.prototype.translateBufferLineToString = function (lineIndex, trimRight, startCol, endCol) {\n        if (startCol === void 0) { startCol = 0; }\n        if (endCol === void 0) { endCol = null; }\n        var lineString = '';\n        var line = this.lines.get(lineIndex);\n        if (!line) {\n            return '';\n        }\n        var startIndex = startCol;\n        if (endCol === null) {\n            endCol = line.length;\n        }\n        var endIndex = endCol;\n        for (var i = 0; i < line.length; i++) {\n            var char = line.get(i);\n            lineString += char[exports.CHAR_DATA_CHAR_INDEX];\n            if (char[exports.CHAR_DATA_WIDTH_INDEX] === 0) {\n                if (startCol >= i) {\n                    startIndex--;\n                }\n                if (endCol > i) {\n                    endIndex--;\n                }\n            }\n            else {\n                if (char[exports.CHAR_DATA_CHAR_INDEX].length > 1) {\n                    if (startCol > i) {\n                        startIndex += char[exports.CHAR_DATA_CHAR_INDEX].length - 1;\n                    }\n                    if (endCol > i) {\n                        endIndex += char[exports.CHAR_DATA_CHAR_INDEX].length - 1;\n                    }\n                }\n            }\n        }\n        if (trimRight) {\n            var rightWhitespaceIndex = lineString.search(/\\s+$/);\n            if (rightWhitespaceIndex !== -1) {\n                endIndex = Math.min(endIndex, rightWhitespaceIndex);\n            }\n            if (endIndex <= startIndex) {\n                return '';\n            }\n        }\n        return lineString.substring(startIndex, endIndex);\n    };\n    Buffer.prototype.getWrappedRangeForLine = function (y) {\n        var first = y;\n        var last = y;\n        while (first > 0 && this.lines.get(first).isWrapped) {\n            first--;\n        }\n        while (last + 1 < this.lines.length && this.lines.get(last + 1).isWrapped) {\n            last++;\n        }\n        return { first: first, last: last };\n    };\n    Buffer.prototype.setupTabStops = function (i) {\n        if (i !== null && i !== undefined) {\n            if (!this.tabs[i]) {\n                i = this.prevStop(i);\n            }\n        }\n        else {\n            this.tabs = {};\n            i = 0;\n        }\n        for (; i < this._terminal.cols; i += this._terminal.options.tabStopWidth) {\n            this.tabs[i] = true;\n        }\n    };\n    Buffer.prototype.prevStop = function (x) {\n        if (x === null || x === undefined) {\n            x = this.x;\n        }\n        while (!this.tabs[--x] && x > 0)\n            ;\n        return x >= this._terminal.cols ? this._terminal.cols - 1 : x < 0 ? 0 : x;\n    };\n    Buffer.prototype.nextStop = function (x) {\n        if (x === null || x === undefined) {\n            x = this.x;\n        }\n        while (!this.tabs[++x] && x < this._terminal.cols)\n            ;\n        return x >= this._terminal.cols ? this._terminal.cols - 1 : x < 0 ? 0 : x;\n    };\n    Buffer.prototype.addMarker = function (y) {\n        var _this = this;\n        var marker = new Marker(y);\n        this.markers.push(marker);\n        marker.register(this.lines.addDisposableListener('trim', function (amount) {\n            marker.line -= amount;\n            if (marker.line < 0) {\n                marker.dispose();\n            }\n        }));\n        marker.register(marker.addDisposableListener('dispose', function () { return _this._removeMarker(marker); }));\n        return marker;\n    };\n    Buffer.prototype._removeMarker = function (marker) {\n        this.markers.splice(this.markers.indexOf(marker), 1);\n    };\n    Buffer.prototype.iterator = function (trimRight, startIndex, endIndex, startOverscan, endOverscan) {\n        return new BufferStringIterator(this, trimRight, startIndex, endIndex, startOverscan, endOverscan);\n    };\n    return Buffer;\n}());\nexports.Buffer = Buffer;\nvar Marker = (function (_super) {\n    __extends(Marker, _super);\n    function Marker(line) {\n        var _this = _super.call(this) || this;\n        _this.line = line;\n        _this._id = Marker._nextId++;\n        _this.isDisposed = false;\n        return _this;\n    }\n    Object.defineProperty(Marker.prototype, \"id\", {\n        get: function () { return this._id; },\n        enumerable: true,\n        configurable: true\n    });\n    Marker.prototype.dispose = function () {\n        if (this.isDisposed) {\n            return;\n        }\n        this.isDisposed = true;\n        this.emit('dispose');\n        _super.prototype.dispose.call(this);\n    };\n    Marker._nextId = 1;\n    return Marker;\n}(EventEmitter_1.EventEmitter));\nexports.Marker = Marker;\nvar BufferStringIterator = (function () {\n    function BufferStringIterator(_buffer, _trimRight, _startIndex, _endIndex, _startOverscan, _endOverscan) {\n        if (_startIndex === void 0) { _startIndex = 0; }\n        if (_endIndex === void 0) { _endIndex = _buffer.lines.length; }\n        if (_startOverscan === void 0) { _startOverscan = 0; }\n        if (_endOverscan === void 0) { _endOverscan = 0; }\n        this._buffer = _buffer;\n        this._trimRight = _trimRight;\n        this._startIndex = _startIndex;\n        this._endIndex = _endIndex;\n        this._startOverscan = _startOverscan;\n        this._endOverscan = _endOverscan;\n        if (this._startIndex < 0) {\n            this._startIndex = 0;\n        }\n        if (this._endIndex > this._buffer.lines.length) {\n            this._endIndex = this._buffer.lines.length;\n        }\n        this._current = this._startIndex;\n    }\n    BufferStringIterator.prototype.hasNext = function () {\n        return this._current < this._endIndex;\n    };\n    BufferStringIterator.prototype.next = function () {\n        var range = this._buffer.getWrappedRangeForLine(this._current);\n        if (range.first < this._startIndex - this._startOverscan) {\n            range.first = this._startIndex - this._startOverscan;\n        }\n        if (range.last > this._endIndex + this._endOverscan) {\n            range.last = this._endIndex + this._endOverscan;\n        }\n        range.first = Math.max(range.first, 0);\n        range.last = Math.min(range.last, this._buffer.lines.length);\n        var result = '';\n        for (var i = range.first; i <= range.last; ++i) {\n            result += this._buffer.translateBufferLineToString(i, (this._trimRight) ? i === range.last : false);\n        }\n        this._current = range.last + 1;\n        return { range: range, content: result };\n    };\n    return BufferStringIterator;\n}());\nexports.BufferStringIterator = BufferStringIterator;\n//# sourceMappingURL=Buffer.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction addDisposableDomListener(node, type, handler, useCapture) {\n    node.addEventListener(type, handler, useCapture);\n    return {\n        dispose: function () {\n            if (!handler) {\n                return;\n            }\n            node.removeEventListener(type, handler, useCapture);\n            node = null;\n            handler = null;\n        }\n    };\n}\nexports.addDisposableDomListener = addDisposableDomListener;\n//# sourceMappingURL=Lifecycle.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TextRenderLayer_1 = require(\"./TextRenderLayer\");\nvar SelectionRenderLayer_1 = require(\"./SelectionRenderLayer\");\nvar CursorRenderLayer_1 = require(\"./CursorRenderLayer\");\nvar ColorManager_1 = require(\"./ColorManager\");\nvar LinkRenderLayer_1 = require(\"./LinkRenderLayer\");\nvar EventEmitter_1 = require(\"../common/EventEmitter\");\nvar RenderDebouncer_1 = require(\"../ui/RenderDebouncer\");\nvar ScreenDprMonitor_1 = require(\"../ui/ScreenDprMonitor\");\nvar CharacterJoinerRegistry_1 = require(\"../renderer/CharacterJoinerRegistry\");\nvar Renderer = (function (_super) {\n    __extends(Renderer, _super);\n    function Renderer(_terminal, theme) {\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._isPaused = false;\n        _this._needsFullRefresh = false;\n        var allowTransparency = _this._terminal.options.allowTransparency;\n        _this.colorManager = new ColorManager_1.ColorManager(document, allowTransparency);\n        _this._characterJoinerRegistry = new CharacterJoinerRegistry_1.CharacterJoinerRegistry(_terminal);\n        if (theme) {\n            _this.colorManager.setTheme(theme);\n        }\n        _this._renderLayers = [\n            new TextRenderLayer_1.TextRenderLayer(_this._terminal.screenElement, 0, _this.colorManager.colors, _this._characterJoinerRegistry, allowTransparency),\n            new SelectionRenderLayer_1.SelectionRenderLayer(_this._terminal.screenElement, 1, _this.colorManager.colors),\n            new LinkRenderLayer_1.LinkRenderLayer(_this._terminal.screenElement, 2, _this.colorManager.colors, _this._terminal),\n            new CursorRenderLayer_1.CursorRenderLayer(_this._terminal.screenElement, 3, _this.colorManager.colors)\n        ];\n        _this.dimensions = {\n            scaledCharWidth: null,\n            scaledCharHeight: null,\n            scaledCellWidth: null,\n            scaledCellHeight: null,\n            scaledCharLeft: null,\n            scaledCharTop: null,\n            scaledCanvasWidth: null,\n            scaledCanvasHeight: null,\n            canvasWidth: null,\n            canvasHeight: null,\n            actualCellWidth: null,\n            actualCellHeight: null\n        };\n        _this._devicePixelRatio = window.devicePixelRatio;\n        _this._updateDimensions();\n        _this.onOptionsChanged();\n        _this._renderDebouncer = new RenderDebouncer_1.RenderDebouncer(_this._terminal, _this._renderRows.bind(_this));\n        _this._screenDprMonitor = new ScreenDprMonitor_1.ScreenDprMonitor();\n        _this._screenDprMonitor.setListener(function () { return _this.onWindowResize(window.devicePixelRatio); });\n        _this.register(_this._screenDprMonitor);\n        if ('IntersectionObserver' in window) {\n            var observer_1 = new IntersectionObserver(function (e) { return _this.onIntersectionChange(e[0]); }, { threshold: 0 });\n            observer_1.observe(_this._terminal.element);\n            _this.register({ dispose: function () { return observer_1.disconnect(); } });\n        }\n        return _this;\n    }\n    Renderer.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this._renderLayers.forEach(function (l) { return l.dispose(); });\n    };\n    Renderer.prototype.onIntersectionChange = function (entry) {\n        this._isPaused = entry.intersectionRatio === 0;\n        if (!this._isPaused && this._needsFullRefresh) {\n            this._terminal.refresh(0, this._terminal.rows - 1);\n        }\n    };\n    Renderer.prototype.onWindowResize = function (devicePixelRatio) {\n        if (this._devicePixelRatio !== devicePixelRatio) {\n            this._devicePixelRatio = devicePixelRatio;\n            this.onResize(this._terminal.cols, this._terminal.rows);\n        }\n    };\n    Renderer.prototype.setTheme = function (theme) {\n        var _this = this;\n        this.colorManager.setTheme(theme);\n        this._renderLayers.forEach(function (l) {\n            l.onThemeChanged(_this._terminal, _this.colorManager.colors);\n            l.reset(_this._terminal);\n        });\n        if (this._isPaused) {\n            this._needsFullRefresh = true;\n        }\n        else {\n            this._terminal.refresh(0, this._terminal.rows - 1);\n        }\n        return this.colorManager.colors;\n    };\n    Renderer.prototype.onResize = function (cols, rows) {\n        var _this = this;\n        this._updateDimensions();\n        this._renderLayers.forEach(function (l) { return l.resize(_this._terminal, _this.dimensions); });\n        if (this._isPaused) {\n            this._needsFullRefresh = true;\n        }\n        else {\n            this._terminal.refresh(0, this._terminal.rows - 1);\n        }\n        this._terminal.screenElement.style.width = this.dimensions.canvasWidth + \"px\";\n        this._terminal.screenElement.style.height = this.dimensions.canvasHeight + \"px\";\n        this.emit('resize', {\n            width: this.dimensions.canvasWidth,\n            height: this.dimensions.canvasHeight\n        });\n    };\n    Renderer.prototype.onCharSizeChanged = function () {\n        this.onResize(this._terminal.cols, this._terminal.rows);\n    };\n    Renderer.prototype.onBlur = function () {\n        var _this = this;\n        this._runOperation(function (l) { return l.onBlur(_this._terminal); });\n    };\n    Renderer.prototype.onFocus = function () {\n        var _this = this;\n        this._runOperation(function (l) { return l.onFocus(_this._terminal); });\n    };\n    Renderer.prototype.onSelectionChanged = function (start, end, columnSelectMode) {\n        var _this = this;\n        if (columnSelectMode === void 0) { columnSelectMode = false; }\n        this._runOperation(function (l) { return l.onSelectionChanged(_this._terminal, start, end, columnSelectMode); });\n    };\n    Renderer.prototype.onCursorMove = function () {\n        var _this = this;\n        this._runOperation(function (l) { return l.onCursorMove(_this._terminal); });\n    };\n    Renderer.prototype.onOptionsChanged = function () {\n        var _this = this;\n        this.colorManager.allowTransparency = this._terminal.options.allowTransparency;\n        this._runOperation(function (l) { return l.onOptionsChanged(_this._terminal); });\n    };\n    Renderer.prototype.clear = function () {\n        var _this = this;\n        this._runOperation(function (l) { return l.reset(_this._terminal); });\n    };\n    Renderer.prototype._runOperation = function (operation) {\n        if (this._isPaused) {\n            this._needsFullRefresh = true;\n        }\n        else {\n            this._renderLayers.forEach(function (l) { return operation(l); });\n        }\n    };\n    Renderer.prototype.refreshRows = function (start, end) {\n        if (this._isPaused) {\n            this._needsFullRefresh = true;\n            return;\n        }\n        this._renderDebouncer.refresh(start, end);\n    };\n    Renderer.prototype._renderRows = function (start, end) {\n        var _this = this;\n        this._renderLayers.forEach(function (l) { return l.onGridChanged(_this._terminal, start, end); });\n        this._terminal.emit('refresh', { start: start, end: end });\n    };\n    Renderer.prototype._updateDimensions = function () {\n        if (!this._terminal.charMeasure.width || !this._terminal.charMeasure.height) {\n            return;\n        }\n        this.dimensions.scaledCharWidth = Math.floor(this._terminal.charMeasure.width * window.devicePixelRatio);\n        this.dimensions.scaledCharHeight = Math.ceil(this._terminal.charMeasure.height * window.devicePixelRatio);\n        this.dimensions.scaledCellHeight = Math.floor(this.dimensions.scaledCharHeight * this._terminal.options.lineHeight);\n        this.dimensions.scaledCharTop = this._terminal.options.lineHeight === 1 ? 0 : Math.round((this.dimensions.scaledCellHeight - this.dimensions.scaledCharHeight) / 2);\n        this.dimensions.scaledCellWidth = this.dimensions.scaledCharWidth + Math.round(this._terminal.options.letterSpacing);\n        this.dimensions.scaledCharLeft = Math.floor(this._terminal.options.letterSpacing / 2);\n        this.dimensions.scaledCanvasHeight = this._terminal.rows * this.dimensions.scaledCellHeight;\n        this.dimensions.scaledCanvasWidth = this._terminal.cols * this.dimensions.scaledCellWidth;\n        this.dimensions.canvasHeight = Math.round(this.dimensions.scaledCanvasHeight / window.devicePixelRatio);\n        this.dimensions.canvasWidth = Math.round(this.dimensions.scaledCanvasWidth / window.devicePixelRatio);\n        this.dimensions.actualCellHeight = this.dimensions.canvasHeight / this._terminal.rows;\n        this.dimensions.actualCellWidth = this.dimensions.canvasWidth / this._terminal.cols;\n    };\n    Renderer.prototype.registerCharacterJoiner = function (handler) {\n        return this._characterJoinerRegistry.registerCharacterJoiner(handler);\n    };\n    Renderer.prototype.deregisterCharacterJoiner = function (joinerId) {\n        return this._characterJoinerRegistry.deregisterCharacterJoiner(joinerId);\n    };\n    return Renderer;\n}(EventEmitter_1.EventEmitter));\nexports.Renderer = Renderer;\n//# sourceMappingURL=Renderer.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EscapeSequences_1 = require(\"../../common/data/EscapeSequences\");\nvar KEYCODE_KEY_MAPPINGS = {\n    48: ['0', ')'],\n    49: ['1', '!'],\n    50: ['2', '@'],\n    51: ['3', '#'],\n    52: ['4', '$'],\n    53: ['5', '%'],\n    54: ['6', '^'],\n    55: ['7', '&'],\n    56: ['8', '*'],\n    57: ['9', '('],\n    186: [';', ':'],\n    187: ['=', '+'],\n    188: [',', '<'],\n    189: ['-', '_'],\n    190: ['.', '>'],\n    191: ['/', '?'],\n    192: ['`', '~'],\n    219: ['[', '{'],\n    220: ['\\\\', '|'],\n    221: [']', '}'],\n    222: ['\\'', '\"']\n};\nfunction evaluateKeyboardEvent(ev, applicationCursorMode, isMac, macOptionIsMeta) {\n    var result = {\n        type: 0,\n        cancel: false,\n        key: undefined\n    };\n    var modifiers = (ev.shiftKey ? 1 : 0) | (ev.altKey ? 2 : 0) | (ev.ctrlKey ? 4 : 0) | (ev.metaKey ? 8 : 0);\n    switch (ev.keyCode) {\n        case 0:\n            if (ev.key === 'UIKeyInputUpArrow') {\n                if (applicationCursorMode) {\n                    result.key = EscapeSequences_1.C0.ESC + 'OA';\n                }\n                else {\n                    result.key = EscapeSequences_1.C0.ESC + '[A';\n                }\n            }\n            else if (ev.key === 'UIKeyInputLeftArrow') {\n                if (applicationCursorMode) {\n                    result.key = EscapeSequences_1.C0.ESC + 'OD';\n                }\n                else {\n                    result.key = EscapeSequences_1.C0.ESC + '[D';\n                }\n            }\n            else if (ev.key === 'UIKeyInputRightArrow') {\n                if (applicationCursorMode) {\n                    result.key = EscapeSequences_1.C0.ESC + 'OC';\n                }\n                else {\n                    result.key = EscapeSequences_1.C0.ESC + '[C';\n                }\n            }\n            else if (ev.key === 'UIKeyInputDownArrow') {\n                if (applicationCursorMode) {\n                    result.key = EscapeSequences_1.C0.ESC + 'OB';\n                }\n                else {\n                    result.key = EscapeSequences_1.C0.ESC + '[B';\n                }\n            }\n            break;\n        case 8:\n            if (ev.shiftKey) {\n                result.key = EscapeSequences_1.C0.BS;\n                break;\n            }\n            else if (ev.altKey) {\n                result.key = EscapeSequences_1.C0.ESC + EscapeSequences_1.C0.DEL;\n                break;\n            }\n            result.key = EscapeSequences_1.C0.DEL;\n            break;\n        case 9:\n            if (ev.shiftKey) {\n                result.key = EscapeSequences_1.C0.ESC + '[Z';\n                break;\n            }\n            result.key = EscapeSequences_1.C0.HT;\n            result.cancel = true;\n            break;\n        case 13:\n            result.key = EscapeSequences_1.C0.CR;\n            result.cancel = true;\n            break;\n        case 27:\n            result.key = EscapeSequences_1.C0.ESC;\n            result.cancel = true;\n            break;\n        case 37:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'D';\n                if (result.key === EscapeSequences_1.C0.ESC + '[1;3D') {\n                    result.key = isMac ? EscapeSequences_1.C0.ESC + 'b' : EscapeSequences_1.C0.ESC + '[1;5D';\n                }\n            }\n            else if (applicationCursorMode) {\n                result.key = EscapeSequences_1.C0.ESC + 'OD';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[D';\n            }\n            break;\n        case 39:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'C';\n                if (result.key === EscapeSequences_1.C0.ESC + '[1;3C') {\n                    result.key = isMac ? EscapeSequences_1.C0.ESC + 'f' : EscapeSequences_1.C0.ESC + '[1;5C';\n                }\n            }\n            else if (applicationCursorMode) {\n                result.key = EscapeSequences_1.C0.ESC + 'OC';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[C';\n            }\n            break;\n        case 38:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'A';\n                if (result.key === EscapeSequences_1.C0.ESC + '[1;3A') {\n                    result.key = EscapeSequences_1.C0.ESC + '[1;5A';\n                }\n            }\n            else if (applicationCursorMode) {\n                result.key = EscapeSequences_1.C0.ESC + 'OA';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[A';\n            }\n            break;\n        case 40:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'B';\n                if (result.key === EscapeSequences_1.C0.ESC + '[1;3B') {\n                    result.key = EscapeSequences_1.C0.ESC + '[1;5B';\n                }\n            }\n            else if (applicationCursorMode) {\n                result.key = EscapeSequences_1.C0.ESC + 'OB';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[B';\n            }\n            break;\n        case 45:\n            if (!ev.shiftKey && !ev.ctrlKey) {\n                result.key = EscapeSequences_1.C0.ESC + '[2~';\n            }\n            break;\n        case 46:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[3;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[3~';\n            }\n            break;\n        case 36:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'H';\n            }\n            else if (applicationCursorMode) {\n                result.key = EscapeSequences_1.C0.ESC + 'OH';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[H';\n            }\n            break;\n        case 35:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'F';\n            }\n            else if (applicationCursorMode) {\n                result.key = EscapeSequences_1.C0.ESC + 'OF';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[F';\n            }\n            break;\n        case 33:\n            if (ev.shiftKey) {\n                result.type = 2;\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[5~';\n            }\n            break;\n        case 34:\n            if (ev.shiftKey) {\n                result.type = 3;\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[6~';\n            }\n            break;\n        case 112:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'P';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + 'OP';\n            }\n            break;\n        case 113:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'Q';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + 'OQ';\n            }\n            break;\n        case 114:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'R';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + 'OR';\n            }\n            break;\n        case 115:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'S';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + 'OS';\n            }\n            break;\n        case 116:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[15;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[15~';\n            }\n            break;\n        case 117:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[17;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[17~';\n            }\n            break;\n        case 118:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[18;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[18~';\n            }\n            break;\n        case 119:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[19;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[19~';\n            }\n            break;\n        case 120:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[20;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[20~';\n            }\n            break;\n        case 121:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[21;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[21~';\n            }\n            break;\n        case 122:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[23;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[23~';\n            }\n            break;\n        case 123:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[24;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[24~';\n            }\n            break;\n        default:\n            if (ev.ctrlKey && !ev.shiftKey && !ev.altKey && !ev.metaKey) {\n                if (ev.keyCode >= 65 && ev.keyCode <= 90) {\n                    result.key = String.fromCharCode(ev.keyCode - 64);\n                }\n                else if (ev.keyCode === 32) {\n                    result.key = String.fromCharCode(0);\n                }\n                else if (ev.keyCode >= 51 && ev.keyCode <= 55) {\n                    result.key = String.fromCharCode(ev.keyCode - 51 + 27);\n                }\n                else if (ev.keyCode === 56) {\n                    result.key = String.fromCharCode(127);\n                }\n                else if (ev.keyCode === 219) {\n                    result.key = String.fromCharCode(27);\n                }\n                else if (ev.keyCode === 220) {\n                    result.key = String.fromCharCode(28);\n                }\n                else if (ev.keyCode === 221) {\n                    result.key = String.fromCharCode(29);\n                }\n            }\n            else if ((!isMac || macOptionIsMeta) && ev.altKey && !ev.metaKey) {\n                var keyMapping = KEYCODE_KEY_MAPPINGS[ev.keyCode];\n                var key = keyMapping && keyMapping[!ev.shiftKey ? 0 : 1];\n                if (key) {\n                    result.key = EscapeSequences_1.C0.ESC + key;\n                }\n                else if (ev.keyCode >= 65 && ev.keyCode <= 90) {\n                    var keyCode = ev.ctrlKey ? ev.keyCode - 64 : ev.keyCode + 32;\n                    result.key = EscapeSequences_1.C0.ESC + String.fromCharCode(keyCode);\n                }\n            }\n            else if (isMac && !ev.altKey && !ev.ctrlKey && ev.metaKey) {\n                if (ev.keyCode === 65) {\n                    result.type = 1;\n                }\n            }\n            break;\n    }\n    return result;\n}\nexports.evaluateKeyboardEvent = evaluateKeyboardEvent;\n//# sourceMappingURL=Keyboard.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CharAtlasUtils_1 = require(\"./CharAtlasUtils\");\nvar DynamicCharAtlas_1 = require(\"./DynamicCharAtlas\");\nvar NoneCharAtlas_1 = require(\"./NoneCharAtlas\");\nvar StaticCharAtlas_1 = require(\"./StaticCharAtlas\");\nvar charAtlasImplementations = {\n    'none': NoneCharAtlas_1.default,\n    'static': StaticCharAtlas_1.default,\n    'dynamic': DynamicCharAtlas_1.default\n};\nvar charAtlasCache = [];\nfunction acquireCharAtlas(terminal, colors, scaledCharWidth, scaledCharHeight) {\n    var newConfig = CharAtlasUtils_1.generateConfig(scaledCharWidth, scaledCharHeight, terminal, colors);\n    for (var i = 0; i < charAtlasCache.length; i++) {\n        var entry = charAtlasCache[i];\n        var ownedByIndex = entry.ownedBy.indexOf(terminal);\n        if (ownedByIndex >= 0) {\n            if (CharAtlasUtils_1.configEquals(entry.config, newConfig)) {\n                return entry.atlas;\n            }\n            if (entry.ownedBy.length === 1) {\n                charAtlasCache.splice(i, 1);\n            }\n            else {\n                entry.ownedBy.splice(ownedByIndex, 1);\n            }\n            break;\n        }\n    }\n    for (var i = 0; i < charAtlasCache.length; i++) {\n        var entry = charAtlasCache[i];\n        if (CharAtlasUtils_1.configEquals(entry.config, newConfig)) {\n            entry.ownedBy.push(terminal);\n            return entry.atlas;\n        }\n    }\n    var newEntry = {\n        atlas: new charAtlasImplementations[terminal.options.experimentalCharAtlas](document, newConfig),\n        config: newConfig,\n        ownedBy: [terminal]\n    };\n    charAtlasCache.push(newEntry);\n    return newEntry.atlas;\n}\nexports.acquireCharAtlas = acquireCharAtlas;\nfunction removeTerminalFromCache(terminal) {\n    for (var i = 0; i < charAtlasCache.length; i++) {\n        var index = charAtlasCache[i].ownedBy.indexOf(terminal);\n        if (index !== -1) {\n            if (charAtlasCache[i].ownedBy.length === 1) {\n                charAtlasCache.splice(i, 1);\n            }\n            else {\n                charAtlasCache[i].ownedBy.splice(index, 1);\n            }\n            break;\n        }\n    }\n}\nexports.removeTerminalFromCache = removeTerminalFromCache;\n//# sourceMappingURL=CharAtlasCache.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEFAULT_BELL_SOUND = 'data:audio/wav;base64,UklGRigBAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQQBAADpAFgCwAMlBZoG/wdmCcoKRAypDQ8PbRDBEQQTOxRtFYcWlBePGIUZXhoiG88bcBz7HHIdzh0WHlMeZx51HmkeUx4WHs8dah0AHXwc3hs9G4saxRnyGBIYGBcQFv8U4RPAEoYRQBACD70NWwwHC6gJOwjWBloF7gOBAhABkf8b/qv8R/ve+Xf4Ife79W/0JfPZ8Z/wde9N7ijtE+wU6xvqM+lb6H7nw+YX5mrlxuQz5Mzje+Ma49fioeKD4nXiYeJy4pHitOL04j/jn+MN5IPkFOWs5U3mDefM55/ogOl36m7rdOyE7abuyu8D8Unyj/Pg9D/2qfcb+Yn6/vuK/Qj/lAAlAg==';\nvar SoundManager = (function () {\n    function SoundManager(_terminal) {\n        this._terminal = _terminal;\n    }\n    Object.defineProperty(SoundManager, \"audioContext\", {\n        get: function () {\n            if (!SoundManager._audioContext) {\n                var audioContextCtor = window.AudioContext || window.webkitAudioContext;\n                if (!audioContextCtor) {\n                    console.warn('Web Audio API is not supported by this browser. Consider upgrading to the latest version');\n                    return null;\n                }\n                SoundManager._audioContext = new audioContextCtor();\n            }\n            return SoundManager._audioContext;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SoundManager.prototype.playBellSound = function () {\n        var ctx = SoundManager.audioContext;\n        if (!ctx) {\n            return;\n        }\n        var bellAudioSource = ctx.createBufferSource();\n        ctx.decodeAudioData(this._base64ToArrayBuffer(this._removeMimeType(this._terminal.options.bellSound)), function (buffer) {\n            bellAudioSource.buffer = buffer;\n            bellAudioSource.connect(ctx.destination);\n            bellAudioSource.start(0);\n        });\n    };\n    SoundManager.prototype._base64ToArrayBuffer = function (base64) {\n        var binaryString = window.atob(base64);\n        var len = binaryString.length;\n        var bytes = new Uint8Array(len);\n        for (var i = 0; i < len; i++) {\n            bytes[i] = binaryString.charCodeAt(i);\n        }\n        return bytes.buffer;\n    };\n    SoundManager.prototype._removeMimeType = function (dataURI) {\n        var splitUri = dataURI.split(',');\n        return splitUri[1];\n    };\n    return SoundManager;\n}());\nexports.SoundManager = SoundManager;\n//# sourceMappingURL=SoundManager.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Types_1 = require(\"./Types\");\nvar BaseCharAtlas_1 = require(\"./BaseCharAtlas\");\nvar ColorManager_1 = require(\"../ColorManager\");\nvar CharAtlasGenerator_1 = require(\"./CharAtlasGenerator\");\nvar LRUMap_1 = require(\"./LRUMap\");\nvar Platform_1 = require(\"../../core/Platform\");\nvar TEXTURE_WIDTH = 1024;\nvar TEXTURE_HEIGHT = 1024;\nvar TRANSPARENT_COLOR = {\n    css: 'rgba(0, 0, 0, 0)',\n    rgba: 0\n};\nvar FRAME_CACHE_DRAW_LIMIT = 100;\nvar GLYPH_BITMAP_COMMIT_DELAY = 100;\nfunction getGlyphCacheKey(glyph) {\n    return glyph.code << 21 | glyph.bg << 12 | glyph.fg << 3 | (glyph.bold ? 0 : 4) + (glyph.dim ? 0 : 2) + (glyph.italic ? 0 : 1);\n}\nexports.getGlyphCacheKey = getGlyphCacheKey;\nvar DynamicCharAtlas = (function (_super) {\n    __extends(DynamicCharAtlas, _super);\n    function DynamicCharAtlas(document, _config) {\n        var _this = _super.call(this) || this;\n        _this._config = _config;\n        _this._drawToCacheCount = 0;\n        _this._glyphsWaitingOnBitmap = [];\n        _this._bitmapCommitTimeout = null;\n        _this._bitmap = null;\n        _this._cacheCanvas = document.createElement('canvas');\n        _this._cacheCanvas.width = TEXTURE_WIDTH;\n        _this._cacheCanvas.height = TEXTURE_HEIGHT;\n        _this._cacheCtx = _this._cacheCanvas.getContext('2d', { alpha: true });\n        var tmpCanvas = document.createElement('canvas');\n        tmpCanvas.width = _this._config.scaledCharWidth;\n        tmpCanvas.height = _this._config.scaledCharHeight;\n        _this._tmpCtx = tmpCanvas.getContext('2d', { alpha: _this._config.allowTransparency });\n        _this._width = Math.floor(TEXTURE_WIDTH / _this._config.scaledCharWidth);\n        _this._height = Math.floor(TEXTURE_HEIGHT / _this._config.scaledCharHeight);\n        var capacity = _this._width * _this._height;\n        _this._cacheMap = new LRUMap_1.default(capacity);\n        _this._cacheMap.prealloc(capacity);\n        return _this;\n    }\n    DynamicCharAtlas.prototype.dispose = function () {\n        if (this._bitmapCommitTimeout !== null) {\n            window.clearTimeout(this._bitmapCommitTimeout);\n            this._bitmapCommitTimeout = null;\n        }\n    };\n    DynamicCharAtlas.prototype.beginFrame = function () {\n        this._drawToCacheCount = 0;\n    };\n    DynamicCharAtlas.prototype.draw = function (ctx, glyph, x, y) {\n        if (glyph.code === 32) {\n            return true;\n        }\n        if (!this._canCache(glyph)) {\n            return false;\n        }\n        var glyphKey = getGlyphCacheKey(glyph);\n        var cacheValue = this._cacheMap.get(glyphKey);\n        if (cacheValue !== null && cacheValue !== undefined) {\n            this._drawFromCache(ctx, cacheValue, x, y);\n            return true;\n        }\n        else if (this._drawToCacheCount < FRAME_CACHE_DRAW_LIMIT) {\n            var index = void 0;\n            if (this._cacheMap.size < this._cacheMap.capacity) {\n                index = this._cacheMap.size;\n            }\n            else {\n                index = this._cacheMap.peek().index;\n            }\n            var cacheValue_1 = this._drawToCache(glyph, index);\n            this._cacheMap.set(glyphKey, cacheValue_1);\n            this._drawFromCache(ctx, cacheValue_1, x, y);\n            return true;\n        }\n        return false;\n    };\n    DynamicCharAtlas.prototype._canCache = function (glyph) {\n        return glyph.code < 256;\n    };\n    DynamicCharAtlas.prototype._toCoordinateX = function (index) {\n        return (index % this._width) * this._config.scaledCharWidth;\n    };\n    DynamicCharAtlas.prototype._toCoordinateY = function (index) {\n        return Math.floor(index / this._width) * this._config.scaledCharHeight;\n    };\n    DynamicCharAtlas.prototype._drawFromCache = function (ctx, cacheValue, x, y) {\n        if (cacheValue.isEmpty) {\n            return;\n        }\n        var cacheX = this._toCoordinateX(cacheValue.index);\n        var cacheY = this._toCoordinateY(cacheValue.index);\n        ctx.drawImage(cacheValue.inBitmap ? this._bitmap : this._cacheCanvas, cacheX, cacheY, this._config.scaledCharWidth, this._config.scaledCharHeight, x, y, this._config.scaledCharWidth, this._config.scaledCharHeight);\n    };\n    DynamicCharAtlas.prototype._getColorFromAnsiIndex = function (idx) {\n        if (idx < this._config.colors.ansi.length) {\n            return this._config.colors.ansi[idx];\n        }\n        return ColorManager_1.DEFAULT_ANSI_COLORS[idx];\n    };\n    DynamicCharAtlas.prototype._getBackgroundColor = function (glyph) {\n        if (this._config.allowTransparency) {\n            return TRANSPARENT_COLOR;\n        }\n        else if (glyph.bg === Types_1.INVERTED_DEFAULT_COLOR) {\n            return this._config.colors.foreground;\n        }\n        else if (glyph.bg < 256) {\n            return this._getColorFromAnsiIndex(glyph.bg);\n        }\n        return this._config.colors.background;\n    };\n    DynamicCharAtlas.prototype._getForegroundColor = function (glyph) {\n        if (glyph.fg === Types_1.INVERTED_DEFAULT_COLOR) {\n            return this._config.colors.background;\n        }\n        else if (glyph.fg < 256) {\n            return this._getColorFromAnsiIndex(glyph.fg);\n        }\n        return this._config.colors.foreground;\n    };\n    DynamicCharAtlas.prototype._drawToCache = function (glyph, index) {\n        this._drawToCacheCount++;\n        this._tmpCtx.save();\n        var backgroundColor = this._getBackgroundColor(glyph);\n        this._tmpCtx.globalCompositeOperation = 'copy';\n        this._tmpCtx.fillStyle = backgroundColor.css;\n        this._tmpCtx.fillRect(0, 0, this._config.scaledCharWidth, this._config.scaledCharHeight);\n        this._tmpCtx.globalCompositeOperation = 'source-over';\n        var fontWeight = glyph.bold ? this._config.fontWeightBold : this._config.fontWeight;\n        var fontStyle = glyph.italic ? 'italic' : '';\n        this._tmpCtx.font =\n            fontStyle + \" \" + fontWeight + \" \" + this._config.fontSize * this._config.devicePixelRatio + \"px \" + this._config.fontFamily;\n        this._tmpCtx.textBaseline = 'top';\n        this._tmpCtx.fillStyle = this._getForegroundColor(glyph).css;\n        if (glyph.dim) {\n            this._tmpCtx.globalAlpha = Types_1.DIM_OPACITY;\n        }\n        this._tmpCtx.fillText(glyph.chars, 0, 0);\n        this._tmpCtx.restore();\n        var imageData = this._tmpCtx.getImageData(0, 0, this._config.scaledCharWidth, this._config.scaledCharHeight);\n        var isEmpty = false;\n        if (!this._config.allowTransparency) {\n            isEmpty = CharAtlasGenerator_1.clearColor(imageData, backgroundColor);\n        }\n        var x = this._toCoordinateX(index);\n        var y = this._toCoordinateY(index);\n        this._cacheCtx.putImageData(imageData, x, y);\n        var cacheValue = {\n            index: index,\n            isEmpty: isEmpty,\n            inBitmap: false\n        };\n        this._addGlyphToBitmap(cacheValue);\n        return cacheValue;\n    };\n    DynamicCharAtlas.prototype._addGlyphToBitmap = function (cacheValue) {\n        var _this = this;\n        if (!('createImageBitmap' in window) || Platform_1.isFirefox || Platform_1.isSafari) {\n            return;\n        }\n        this._glyphsWaitingOnBitmap.push(cacheValue);\n        if (this._bitmapCommitTimeout !== null) {\n            return;\n        }\n        this._bitmapCommitTimeout = window.setTimeout(function () { return _this._generateBitmap(); }, GLYPH_BITMAP_COMMIT_DELAY);\n    };\n    DynamicCharAtlas.prototype._generateBitmap = function () {\n        var _this = this;\n        var glyphsMovingToBitmap = this._glyphsWaitingOnBitmap;\n        this._glyphsWaitingOnBitmap = [];\n        window.createImageBitmap(this._cacheCanvas).then(function (bitmap) {\n            _this._bitmap = bitmap;\n            for (var i = 0; i < glyphsMovingToBitmap.length; i++) {\n                var value = glyphsMovingToBitmap[i];\n                value.inBitmap = true;\n            }\n        });\n        this._bitmapCommitTimeout = null;\n    };\n    return DynamicCharAtlas;\n}(BaseCharAtlas_1.default));\nexports.default = DynamicCharAtlas;\n//# sourceMappingURL=DynamicCharAtlas.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Terminal_1 = require(\"../Terminal\");\nvar Strings = require(\"../Strings\");\nvar Terminal = (function () {\n    function Terminal(options) {\n        this._core = new Terminal_1.Terminal(options);\n    }\n    Object.defineProperty(Terminal.prototype, \"element\", {\n        get: function () { return this._core.element; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"textarea\", {\n        get: function () { return this._core.textarea; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"rows\", {\n        get: function () { return this._core.rows; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"cols\", {\n        get: function () { return this._core.cols; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"markers\", {\n        get: function () { return this._core.markers; },\n        enumerable: true,\n        configurable: true\n    });\n    Terminal.prototype.blur = function () {\n        this._core.blur();\n    };\n    Terminal.prototype.focus = function () {\n        this._core.focus();\n    };\n    Terminal.prototype.on = function (type, listener) {\n        this._core.on(type, listener);\n    };\n    Terminal.prototype.off = function (type, listener) {\n        this._core.off(type, listener);\n    };\n    Terminal.prototype.emit = function (type, data) {\n        this._core.emit(type, data);\n    };\n    Terminal.prototype.addDisposableListener = function (type, handler) {\n        return this._core.addDisposableListener(type, handler);\n    };\n    Terminal.prototype.resize = function (columns, rows) {\n        this._core.resize(columns, rows);\n    };\n    Terminal.prototype.writeln = function (data) {\n        this._core.writeln(data);\n    };\n    Terminal.prototype.open = function (parent) {\n        this._core.open(parent);\n    };\n    Terminal.prototype.attachCustomKeyEventHandler = function (customKeyEventHandler) {\n        this._core.attachCustomKeyEventHandler(customKeyEventHandler);\n    };\n    Terminal.prototype.registerLinkMatcher = function (regex, handler, options) {\n        return this._core.registerLinkMatcher(regex, handler, options);\n    };\n    Terminal.prototype.deregisterLinkMatcher = function (matcherId) {\n        this._core.deregisterLinkMatcher(matcherId);\n    };\n    Terminal.prototype.registerCharacterJoiner = function (handler) {\n        return this._core.registerCharacterJoiner(handler);\n    };\n    Terminal.prototype.deregisterCharacterJoiner = function (joinerId) {\n        this._core.deregisterCharacterJoiner(joinerId);\n    };\n    Terminal.prototype.addMarker = function (cursorYOffset) {\n        return this._core.addMarker(cursorYOffset);\n    };\n    Terminal.prototype.hasSelection = function () {\n        return this._core.hasSelection();\n    };\n    Terminal.prototype.getSelection = function () {\n        return this._core.getSelection();\n    };\n    Terminal.prototype.clearSelection = function () {\n        this._core.clearSelection();\n    };\n    Terminal.prototype.selectAll = function () {\n        this._core.selectAll();\n    };\n    Terminal.prototype.selectLines = function (start, end) {\n        this._core.selectLines(start, end);\n    };\n    Terminal.prototype.dispose = function () {\n        this._core.dispose();\n    };\n    Terminal.prototype.destroy = function () {\n        this._core.destroy();\n    };\n    Terminal.prototype.scrollLines = function (amount) {\n        this._core.scrollLines(amount);\n    };\n    Terminal.prototype.scrollPages = function (pageCount) {\n        this._core.scrollPages(pageCount);\n    };\n    Terminal.prototype.scrollToTop = function () {\n        this._core.scrollToTop();\n    };\n    Terminal.prototype.scrollToBottom = function () {\n        this._core.scrollToBottom();\n    };\n    Terminal.prototype.scrollToLine = function (line) {\n        this._core.scrollToLine(line);\n    };\n    Terminal.prototype.clear = function () {\n        this._core.clear();\n    };\n    Terminal.prototype.write = function (data) {\n        this._core.write(data);\n    };\n    Terminal.prototype.getOption = function (key) {\n        return this._core.getOption(key);\n    };\n    Terminal.prototype.setOption = function (key, value) {\n        this._core.setOption(key, value);\n    };\n    Terminal.prototype.refresh = function (start, end) {\n        this._core.refresh(start, end);\n    };\n    Terminal.prototype.reset = function () {\n        this._core.reset();\n    };\n    Terminal.applyAddon = function (addon) {\n        addon.apply(Terminal);\n    };\n    Object.defineProperty(Terminal, \"strings\", {\n        get: function () {\n            return Strings;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Terminal;\n}());\nexports.Terminal = Terminal;\n//# sourceMappingURL=Terminal.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EventEmitter_1 = require(\"../common/EventEmitter\");\nvar CharMeasure = (function (_super) {\n    __extends(CharMeasure, _super);\n    function CharMeasure(document, parentElement) {\n        var _this = _super.call(this) || this;\n        _this._document = document;\n        _this._parentElement = parentElement;\n        _this._measureElement = _this._document.createElement('span');\n        _this._measureElement.classList.add('xterm-char-measure-element');\n        _this._measureElement.textContent = 'W';\n        _this._measureElement.setAttribute('aria-hidden', 'true');\n        _this._parentElement.appendChild(_this._measureElement);\n        return _this;\n    }\n    Object.defineProperty(CharMeasure.prototype, \"width\", {\n        get: function () {\n            return this._width;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CharMeasure.prototype, \"height\", {\n        get: function () {\n            return this._height;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CharMeasure.prototype.measure = function (options) {\n        this._measureElement.style.fontFamily = options.fontFamily;\n        this._measureElement.style.fontSize = options.fontSize + \"px\";\n        var geometry = this._measureElement.getBoundingClientRect();\n        if (geometry.width === 0 || geometry.height === 0) {\n            return;\n        }\n        if (this._width !== geometry.width || this._height !== geometry.height) {\n            this._width = geometry.width;\n            this._height = Math.ceil(geometry.height);\n            this.emit('charsizechanged');\n        }\n    };\n    return CharMeasure;\n}(EventEmitter_1.EventEmitter));\nexports.CharMeasure = CharMeasure;\n//# sourceMappingURL=CharMeasure.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction prepareTextForTerminal(text) {\n    return text.replace(/\\r?\\n/g, '\\r');\n}\nexports.prepareTextForTerminal = prepareTextForTerminal;\nfunction bracketTextForPaste(text, bracketedPasteMode) {\n    if (bracketedPasteMode) {\n        return '\\x1b[200~' + text + '\\x1b[201~';\n    }\n    return text;\n}\nexports.bracketTextForPaste = bracketTextForPaste;\nfunction copyHandler(ev, term, selectionManager) {\n    if (term.browser.isMSIE) {\n        window.clipboardData.setData('Text', selectionManager.selectionText);\n    }\n    else {\n        ev.clipboardData.setData('text/plain', selectionManager.selectionText);\n    }\n    ev.preventDefault();\n}\nexports.copyHandler = copyHandler;\nfunction pasteHandler(ev, term) {\n    ev.stopPropagation();\n    var text;\n    var dispatchPaste = function (text) {\n        text = prepareTextForTerminal(text);\n        text = bracketTextForPaste(text, term.bracketedPasteMode);\n        term.handler(text);\n        term.textarea.value = '';\n        term.emit('paste', text);\n        term.cancel(ev);\n    };\n    if (term.browser.isMSIE) {\n        if (window.clipboardData) {\n            text = window.clipboardData.getData('Text');\n            dispatchPaste(text);\n        }\n    }\n    else {\n        if (ev.clipboardData) {\n            text = ev.clipboardData.getData('text/plain');\n            dispatchPaste(text);\n        }\n    }\n}\nexports.pasteHandler = pasteHandler;\nfunction moveTextAreaUnderMouseCursor(ev, textarea) {\n    textarea.style.position = 'fixed';\n    textarea.style.width = '20px';\n    textarea.style.height = '20px';\n    textarea.style.left = (ev.clientX - 10) + 'px';\n    textarea.style.top = (ev.clientY - 10) + 'px';\n    textarea.style.zIndex = '1000';\n    textarea.focus();\n    setTimeout(function () {\n        textarea.style.position = null;\n        textarea.style.width = null;\n        textarea.style.height = null;\n        textarea.style.left = null;\n        textarea.style.top = null;\n        textarea.style.zIndex = null;\n    }, 200);\n}\nexports.moveTextAreaUnderMouseCursor = moveTextAreaUnderMouseCursor;\nfunction rightClickHandler(ev, textarea, selectionManager, shouldSelectWord) {\n    moveTextAreaUnderMouseCursor(ev, textarea);\n    if (shouldSelectWord && !selectionManager.isClickInSelection(ev)) {\n        selectionManager.selectWordAtCursor(ev);\n    }\n    textarea.value = selectionManager.selectionText;\n    textarea.select();\n}\nexports.rightClickHandler = rightClickHandler;\n//# sourceMappingURL=Clipboard.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar SearchHelper_1 = require(\"./SearchHelper\");\nfunction findNext(terminal, term, searchOptions) {\n    if (searchOptions === void 0) { searchOptions = {}; }\n    var addonTerminal = terminal;\n    if (!addonTerminal.__searchHelper) {\n        addonTerminal.__searchHelper = new SearchHelper_1.SearchHelper(addonTerminal);\n    }\n    return addonTerminal.__searchHelper.findNext(term, searchOptions);\n}\nexports.findNext = findNext;\nfunction findPrevious(terminal, term, searchOptions) {\n    var addonTerminal = terminal;\n    if (!addonTerminal.__searchHelper) {\n        addonTerminal.__searchHelper = new SearchHelper_1.SearchHelper(addonTerminal);\n    }\n    return addonTerminal.__searchHelper.findPrevious(term, searchOptions);\n}\nexports.findPrevious = findPrevious;\nfunction apply(terminalConstructor) {\n    terminalConstructor.prototype.findNext = function (term, searchOptions) {\n        return findNext(this, term, searchOptions);\n    };\n    terminalConstructor.prototype.findPrevious = function (term, searchOptions) {\n        return findPrevious(this, term, searchOptions);\n    };\n}\nexports.apply = apply;\n//# sourceMappingURL=search.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isNode = (typeof navigator === 'undefined') ? true : false;\nvar userAgent = (isNode) ? 'node' : navigator.userAgent;\nvar platform = (isNode) ? 'node' : navigator.platform;\nexports.isFirefox = !!~userAgent.indexOf('Firefox');\nexports.isSafari = /^((?!chrome|android).)*safari/i.test(userAgent);\nexports.isMSIE = !!~userAgent.indexOf('MSIE') || !!~userAgent.indexOf('Trident');\nexports.isMac = contains(['Macintosh', 'MacIntel', 'MacPPC', 'Mac68K'], platform);\nexports.isIpad = platform === 'iPad';\nexports.isIphone = platform === 'iPhone';\nexports.isMSWindows = contains(['Windows', 'Win16', 'Win32', 'WinCE'], platform);\nexports.isLinux = platform.indexOf('Linux') >= 0;\nfunction contains(arr, el) {\n    return arr.indexOf(el) >= 0;\n}\n//# sourceMappingURL=Platform.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction fill(array, value, start, end) {\n    if (array.fill) {\n        return array.fill(value, start, end);\n    }\n    return fillFallback(array, value, start, end);\n}\nexports.fill = fill;\nfunction fillFallback(array, value, start, end) {\n    if (start === void 0) { start = 0; }\n    if (end === void 0) { end = array.length; }\n    if (start >= array.length) {\n        return array;\n    }\n    start = (array.length + start) % array.length;\n    if (end >= array.length) {\n        end = array.length;\n    }\n    else {\n        end = (array.length + end) % array.length;\n    }\n    for (var i = start; i < end; ++i) {\n        array[i] = value;\n    }\n    return array;\n}\nexports.fillFallback = fillFallback;\n//# sourceMappingURL=TypedArrayUtils.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar C0;\n(function (C0) {\n    C0.NUL = '\\x00';\n    C0.SOH = '\\x01';\n    C0.STX = '\\x02';\n    C0.ETX = '\\x03';\n    C0.EOT = '\\x04';\n    C0.ENQ = '\\x05';\n    C0.ACK = '\\x06';\n    C0.BEL = '\\x07';\n    C0.BS = '\\x08';\n    C0.HT = '\\x09';\n    C0.LF = '\\x0a';\n    C0.VT = '\\x0b';\n    C0.FF = '\\x0c';\n    C0.CR = '\\x0d';\n    C0.SO = '\\x0e';\n    C0.SI = '\\x0f';\n    C0.DLE = '\\x10';\n    C0.DC1 = '\\x11';\n    C0.DC2 = '\\x12';\n    C0.DC3 = '\\x13';\n    C0.DC4 = '\\x14';\n    C0.NAK = '\\x15';\n    C0.SYN = '\\x16';\n    C0.ETB = '\\x17';\n    C0.CAN = '\\x18';\n    C0.EM = '\\x19';\n    C0.SUB = '\\x1a';\n    C0.ESC = '\\x1b';\n    C0.FS = '\\x1c';\n    C0.GS = '\\x1d';\n    C0.RS = '\\x1e';\n    C0.US = '\\x1f';\n    C0.SP = '\\x20';\n    C0.DEL = '\\x7f';\n})(C0 = exports.C0 || (exports.C0 = {}));\nvar C1;\n(function (C1) {\n    C1.PAD = '\\x80';\n    C1.HOP = '\\x81';\n    C1.BPH = '\\x82';\n    C1.NBH = '\\x83';\n    C1.IND = '\\x84';\n    C1.NEL = '\\x85';\n    C1.SSA = '\\x86';\n    C1.ESA = '\\x87';\n    C1.HTS = '\\x88';\n    C1.HTJ = '\\x89';\n    C1.VTS = '\\x8a';\n    C1.PLD = '\\x8b';\n    C1.PLU = '\\x8c';\n    C1.RI = '\\x8d';\n    C1.SS2 = '\\x8e';\n    C1.SS3 = '\\x8f';\n    C1.DCS = '\\x90';\n    C1.PU1 = '\\x91';\n    C1.PU2 = '\\x92';\n    C1.STS = '\\x93';\n    C1.CCH = '\\x94';\n    C1.MW = '\\x95';\n    C1.SPA = '\\x96';\n    C1.EPA = '\\x97';\n    C1.SOS = '\\x98';\n    C1.SGCI = '\\x99';\n    C1.SCI = '\\x9a';\n    C1.CSI = '\\x9b';\n    C1.ST = '\\x9c';\n    C1.OSC = '\\x9d';\n    C1.PM = '\\x9e';\n    C1.APC = '\\x9f';\n})(C1 = exports.C1 || (exports.C1 = {}));\n//# sourceMappingURL=EscapeSequences.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseCharAtlas_1 = require(\"./BaseCharAtlas\");\nvar NoneCharAtlas = (function (_super) {\n    __extends(NoneCharAtlas, _super);\n    function NoneCharAtlas(document, config) {\n        return _super.call(this) || this;\n    }\n    NoneCharAtlas.prototype.draw = function (ctx, glyph, x, y) {\n        return false;\n    };\n    return NoneCharAtlas;\n}(BaseCharAtlas_1.default));\nexports.default = NoneCharAtlas;\n//# sourceMappingURL=NoneCharAtlas.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseCharAtlas = (function () {\n    function BaseCharAtlas() {\n        this._didWarmUp = false;\n    }\n    BaseCharAtlas.prototype.dispose = function () { };\n    BaseCharAtlas.prototype.warmUp = function () {\n        if (!this._didWarmUp) {\n            this._doWarmUp();\n            this._didWarmUp = true;\n        }\n    };\n    BaseCharAtlas.prototype._doWarmUp = function () { };\n    BaseCharAtlas.prototype.beginFrame = function () { };\n    return BaseCharAtlas;\n}());\nexports.default = BaseCharAtlas;\n//# sourceMappingURL=BaseCharAtlas.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.blankLine = 'Blank line';\nexports.promptLabel = 'Terminal input';\nexports.tooMuchOutput = 'Too much output to announce, navigate to rows manually to read';\n//# sourceMappingURL=Strings.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Lifecycle_1 = require(\"./Lifecycle\");\nvar EventEmitter = (function (_super) {\n    __extends(EventEmitter, _super);\n    function EventEmitter() {\n        var _this = _super.call(this) || this;\n        _this._events = _this._events || {};\n        return _this;\n    }\n    EventEmitter.prototype.on = function (type, listener) {\n        this._events[type] = this._events[type] || [];\n        this._events[type].push(listener);\n    };\n    EventEmitter.prototype.addDisposableListener = function (type, handler) {\n        var _this = this;\n        this.on(type, handler);\n        var disposed = false;\n        return {\n            dispose: function () {\n                if (disposed) {\n                    return;\n                }\n                _this.off(type, handler);\n                disposed = true;\n            }\n        };\n    };\n    EventEmitter.prototype.off = function (type, listener) {\n        if (!this._events[type]) {\n            return;\n        }\n        var obj = this._events[type];\n        var i = obj.length;\n        while (i--) {\n            if (obj[i] === listener) {\n                obj.splice(i, 1);\n                return;\n            }\n        }\n    };\n    EventEmitter.prototype.removeAllListeners = function (type) {\n        if (this._events[type]) {\n            delete this._events[type];\n        }\n    };\n    EventEmitter.prototype.emit = function (type) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        if (!this._events[type]) {\n            return;\n        }\n        var obj = this._events[type];\n        for (var i = 0; i < obj.length; i++) {\n            obj[i].apply(this, args);\n        }\n    };\n    EventEmitter.prototype.listeners = function (type) {\n        return this._events[type] || [];\n    };\n    EventEmitter.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this._events = {};\n    };\n    return EventEmitter;\n}(Lifecycle_1.Disposable));\nexports.EventEmitter = EventEmitter;\n//# sourceMappingURL=EventEmitter.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MouseHelper_1 = require(\"./utils/MouseHelper\");\nvar Browser = require(\"./core/Platform\");\nvar EventEmitter_1 = require(\"./common/EventEmitter\");\nvar SelectionModel_1 = require(\"./SelectionModel\");\nvar Buffer_1 = require(\"./Buffer\");\nvar AltClickHandler_1 = require(\"./handlers/AltClickHandler\");\nvar DRAG_SCROLL_MAX_THRESHOLD = 50;\nvar DRAG_SCROLL_MAX_SPEED = 15;\nvar DRAG_SCROLL_INTERVAL = 50;\nvar ALT_CLICK_MOVE_CURSOR_TIME = 500;\nvar WORD_SEPARATORS = ' ()[]{}\\'\"';\nvar NON_BREAKING_SPACE_CHAR = String.fromCharCode(160);\nvar ALL_NON_BREAKING_SPACE_REGEX = new RegExp(NON_BREAKING_SPACE_CHAR, 'g');\nvar SelectionManager = (function (_super) {\n    __extends(SelectionManager, _super);\n    function SelectionManager(_terminal, _charMeasure) {\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._charMeasure = _charMeasure;\n        _this._enabled = true;\n        _this._initListeners();\n        _this.enable();\n        _this._model = new SelectionModel_1.SelectionModel(_terminal);\n        _this._activeSelectionMode = 0;\n        return _this;\n    }\n    SelectionManager.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this._removeMouseDownListeners();\n    };\n    Object.defineProperty(SelectionManager.prototype, \"_buffer\", {\n        get: function () {\n            return this._terminal.buffers.active;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SelectionManager.prototype._initListeners = function () {\n        var _this = this;\n        this._mouseMoveListener = function (event) { return _this._onMouseMove(event); };\n        this._mouseUpListener = function (event) { return _this._onMouseUp(event); };\n        this._trimListener = function (amount) { return _this._onTrim(amount); };\n        this.initBuffersListeners();\n    };\n    SelectionManager.prototype.initBuffersListeners = function () {\n        var _this = this;\n        this._terminal.buffer.lines.on('trim', this._trimListener);\n        this._terminal.buffers.on('activate', function (e) { return _this._onBufferActivate(e); });\n    };\n    SelectionManager.prototype.disable = function () {\n        this.clearSelection();\n        this._enabled = false;\n    };\n    SelectionManager.prototype.enable = function () {\n        this._enabled = true;\n    };\n    Object.defineProperty(SelectionManager.prototype, \"selectionStart\", {\n        get: function () { return this._model.finalSelectionStart; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectionManager.prototype, \"selectionEnd\", {\n        get: function () { return this._model.finalSelectionEnd; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectionManager.prototype, \"hasSelection\", {\n        get: function () {\n            var start = this._model.finalSelectionStart;\n            var end = this._model.finalSelectionEnd;\n            if (!start || !end) {\n                return false;\n            }\n            return start[0] !== end[0] || start[1] !== end[1];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectionManager.prototype, \"selectionText\", {\n        get: function () {\n            var start = this._model.finalSelectionStart;\n            var end = this._model.finalSelectionEnd;\n            if (!start || !end) {\n                return '';\n            }\n            var result = [];\n            if (this._activeSelectionMode === 3) {\n                if (start[0] === end[0]) {\n                    return '';\n                }\n                for (var i = start[1]; i <= end[1]; i++) {\n                    var lineText = this._buffer.translateBufferLineToString(i, true, start[0], end[0]);\n                    result.push(lineText);\n                }\n            }\n            else {\n                var startRowEndCol = start[1] === end[1] ? end[0] : null;\n                result.push(this._buffer.translateBufferLineToString(start[1], true, start[0], startRowEndCol));\n                for (var i = start[1] + 1; i <= end[1] - 1; i++) {\n                    var bufferLine = this._buffer.lines.get(i);\n                    var lineText = this._buffer.translateBufferLineToString(i, true);\n                    if (bufferLine.isWrapped) {\n                        result[result.length - 1] += lineText;\n                    }\n                    else {\n                        result.push(lineText);\n                    }\n                }\n                if (start[1] !== end[1]) {\n                    var bufferLine = this._buffer.lines.get(end[1]);\n                    var lineText = this._buffer.translateBufferLineToString(end[1], true, 0, end[0]);\n                    if (bufferLine.isWrapped) {\n                        result[result.length - 1] += lineText;\n                    }\n                    else {\n                        result.push(lineText);\n                    }\n                }\n            }\n            var formattedResult = result.map(function (line) {\n                return line.replace(ALL_NON_BREAKING_SPACE_REGEX, ' ');\n            }).join(Browser.isMSWindows ? '\\r\\n' : '\\n');\n            return formattedResult;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SelectionManager.prototype.clearSelection = function () {\n        this._model.clearSelection();\n        this._removeMouseDownListeners();\n        this.refresh();\n    };\n    SelectionManager.prototype.refresh = function (isNewSelection) {\n        var _this = this;\n        if (!this._refreshAnimationFrame) {\n            this._refreshAnimationFrame = window.requestAnimationFrame(function () { return _this._refresh(); });\n        }\n        if (Browser.isLinux && isNewSelection) {\n            var selectionText = this.selectionText;\n            if (selectionText.length) {\n                this.emit('newselection', this.selectionText);\n            }\n        }\n    };\n    SelectionManager.prototype._refresh = function () {\n        this._refreshAnimationFrame = null;\n        this.emit('refresh', {\n            start: this._model.finalSelectionStart,\n            end: this._model.finalSelectionEnd,\n            columnSelectMode: this._activeSelectionMode === 3\n        });\n    };\n    SelectionManager.prototype.isClickInSelection = function (event) {\n        var coords = this._getMouseBufferCoords(event);\n        var start = this._model.finalSelectionStart;\n        var end = this._model.finalSelectionEnd;\n        if (!start || !end) {\n            return false;\n        }\n        return this._areCoordsInSelection(coords, start, end);\n    };\n    SelectionManager.prototype._areCoordsInSelection = function (coords, start, end) {\n        return (coords[1] > start[1] && coords[1] < end[1]) ||\n            (start[1] === end[1] && coords[1] === start[1] && coords[0] >= start[0] && coords[0] < end[0]) ||\n            (start[1] < end[1] && coords[1] === end[1] && coords[0] < end[0]) ||\n            (start[1] < end[1] && coords[1] === start[1] && coords[0] >= start[0]);\n    };\n    SelectionManager.prototype.selectWordAtCursor = function (event) {\n        var coords = this._getMouseBufferCoords(event);\n        if (coords) {\n            this._selectWordAt(coords, false);\n            this._model.selectionEnd = null;\n            this.refresh(true);\n        }\n    };\n    SelectionManager.prototype.selectAll = function () {\n        this._model.isSelectAllActive = true;\n        this.refresh();\n        this._terminal.emit('selection');\n    };\n    SelectionManager.prototype.selectLines = function (start, end) {\n        this._model.clearSelection();\n        start = Math.max(start, 0);\n        end = Math.min(end, this._terminal.buffer.lines.length - 1);\n        this._model.selectionStart = [0, start];\n        this._model.selectionEnd = [this._terminal.cols, end];\n        this.refresh();\n        this._terminal.emit('selection');\n    };\n    SelectionManager.prototype._onTrim = function (amount) {\n        var needsRefresh = this._model.onTrim(amount);\n        if (needsRefresh) {\n            this.refresh();\n        }\n    };\n    SelectionManager.prototype._getMouseBufferCoords = function (event) {\n        var coords = this._terminal.mouseHelper.getCoords(event, this._terminal.screenElement, this._charMeasure, this._terminal.cols, this._terminal.rows, true);\n        if (!coords) {\n            return null;\n        }\n        coords[0]--;\n        coords[1]--;\n        coords[1] += this._terminal.buffer.ydisp;\n        return coords;\n    };\n    SelectionManager.prototype._getMouseEventScrollAmount = function (event) {\n        var offset = MouseHelper_1.MouseHelper.getCoordsRelativeToElement(event, this._terminal.screenElement)[1];\n        var terminalHeight = this._terminal.rows * Math.ceil(this._charMeasure.height * this._terminal.options.lineHeight);\n        if (offset >= 0 && offset <= terminalHeight) {\n            return 0;\n        }\n        if (offset > terminalHeight) {\n            offset -= terminalHeight;\n        }\n        offset = Math.min(Math.max(offset, -DRAG_SCROLL_MAX_THRESHOLD), DRAG_SCROLL_MAX_THRESHOLD);\n        offset /= DRAG_SCROLL_MAX_THRESHOLD;\n        return (offset / Math.abs(offset)) + Math.round(offset * (DRAG_SCROLL_MAX_SPEED - 1));\n    };\n    SelectionManager.prototype.shouldForceSelection = function (event) {\n        if (Browser.isMac) {\n            return event.altKey && this._terminal.options.macOptionClickForcesSelection;\n        }\n        return event.shiftKey;\n    };\n    SelectionManager.prototype.onMouseDown = function (event) {\n        this._mouseDownTimeStamp = event.timeStamp;\n        if (event.button === 2 && this.hasSelection) {\n            return;\n        }\n        if (event.button !== 0) {\n            return;\n        }\n        if (!this._enabled) {\n            if (!this.shouldForceSelection(event)) {\n                return;\n            }\n            event.stopPropagation();\n        }\n        event.preventDefault();\n        this._dragScrollAmount = 0;\n        if (this._enabled && event.shiftKey) {\n            this._onIncrementalClick(event);\n        }\n        else {\n            if (event.detail === 1) {\n                this._onSingleClick(event);\n            }\n            else if (event.detail === 2) {\n                this._onDoubleClick(event);\n            }\n            else if (event.detail === 3) {\n                this._onTripleClick(event);\n            }\n        }\n        this._addMouseDownListeners();\n        this.refresh(true);\n    };\n    SelectionManager.prototype._addMouseDownListeners = function () {\n        var _this = this;\n        this._terminal.element.ownerDocument.addEventListener('mousemove', this._mouseMoveListener);\n        this._terminal.element.ownerDocument.addEventListener('mouseup', this._mouseUpListener);\n        this._dragScrollIntervalTimer = setInterval(function () { return _this._dragScroll(); }, DRAG_SCROLL_INTERVAL);\n    };\n    SelectionManager.prototype._removeMouseDownListeners = function () {\n        if (this._terminal.element.ownerDocument) {\n            this._terminal.element.ownerDocument.removeEventListener('mousemove', this._mouseMoveListener);\n            this._terminal.element.ownerDocument.removeEventListener('mouseup', this._mouseUpListener);\n        }\n        clearInterval(this._dragScrollIntervalTimer);\n        this._dragScrollIntervalTimer = null;\n    };\n    SelectionManager.prototype._onIncrementalClick = function (event) {\n        if (this._model.selectionStart) {\n            this._model.selectionEnd = this._getMouseBufferCoords(event);\n        }\n    };\n    SelectionManager.prototype._onSingleClick = function (event) {\n        this._model.selectionStartLength = 0;\n        this._model.isSelectAllActive = false;\n        this._activeSelectionMode = this.shouldColumnSelect(event) ? 3 : 0;\n        this._model.selectionStart = this._getMouseBufferCoords(event);\n        if (!this._model.selectionStart) {\n            return;\n        }\n        this._model.selectionEnd = null;\n        var line = this._buffer.lines.get(this._model.selectionStart[1]);\n        if (!line) {\n            return;\n        }\n        if (line.length >= this._model.selectionStart[0]) {\n            return;\n        }\n        var char = line.get(this._model.selectionStart[0]);\n        if (char[Buffer_1.CHAR_DATA_WIDTH_INDEX] === 0) {\n            this._model.selectionStart[0]++;\n        }\n    };\n    SelectionManager.prototype._onDoubleClick = function (event) {\n        var coords = this._getMouseBufferCoords(event);\n        if (coords) {\n            this._activeSelectionMode = 1;\n            this._selectWordAt(coords, true);\n        }\n    };\n    SelectionManager.prototype._onTripleClick = function (event) {\n        var coords = this._getMouseBufferCoords(event);\n        if (coords) {\n            this._activeSelectionMode = 2;\n            this._selectLineAt(coords[1]);\n        }\n    };\n    SelectionManager.prototype.shouldColumnSelect = function (event) {\n        return event.altKey && !(Browser.isMac && this._terminal.options.macOptionClickForcesSelection);\n    };\n    SelectionManager.prototype._onMouseMove = function (event) {\n        event.stopImmediatePropagation();\n        var previousSelectionEnd = this._model.selectionEnd ? [this._model.selectionEnd[0], this._model.selectionEnd[1]] : null;\n        this._model.selectionEnd = this._getMouseBufferCoords(event);\n        if (!this._model.selectionEnd) {\n            this.refresh(true);\n            return;\n        }\n        if (this._activeSelectionMode === 2) {\n            if (this._model.selectionEnd[1] < this._model.selectionStart[1]) {\n                this._model.selectionEnd[0] = 0;\n            }\n            else {\n                this._model.selectionEnd[0] = this._terminal.cols;\n            }\n        }\n        else if (this._activeSelectionMode === 1) {\n            this._selectToWordAt(this._model.selectionEnd);\n        }\n        this._dragScrollAmount = this._getMouseEventScrollAmount(event);\n        if (this._activeSelectionMode !== 3) {\n            if (this._dragScrollAmount > 0) {\n                this._model.selectionEnd[0] = this._terminal.cols;\n            }\n            else if (this._dragScrollAmount < 0) {\n                this._model.selectionEnd[0] = 0;\n            }\n        }\n        if (this._model.selectionEnd[1] < this._buffer.lines.length) {\n            var char = this._buffer.lines.get(this._model.selectionEnd[1]).get(this._model.selectionEnd[0]);\n            if (char && char[Buffer_1.CHAR_DATA_WIDTH_INDEX] === 0) {\n                this._model.selectionEnd[0]++;\n            }\n        }\n        if (!previousSelectionEnd ||\n            previousSelectionEnd[0] !== this._model.selectionEnd[0] ||\n            previousSelectionEnd[1] !== this._model.selectionEnd[1]) {\n            this.refresh(true);\n        }\n    };\n    SelectionManager.prototype._dragScroll = function () {\n        if (this._dragScrollAmount) {\n            this._terminal.scrollLines(this._dragScrollAmount, false);\n            if (this._dragScrollAmount > 0) {\n                if (this._activeSelectionMode !== 3) {\n                    this._model.selectionEnd[0] = this._terminal.cols;\n                }\n                this._model.selectionEnd[1] = Math.min(this._terminal.buffer.ydisp + this._terminal.rows, this._terminal.buffer.lines.length - 1);\n            }\n            else {\n                if (this._activeSelectionMode !== 3) {\n                    this._model.selectionEnd[0] = 0;\n                }\n                this._model.selectionEnd[1] = this._terminal.buffer.ydisp;\n            }\n            this.refresh();\n        }\n    };\n    SelectionManager.prototype._onMouseUp = function (event) {\n        var timeElapsed = event.timeStamp - this._mouseDownTimeStamp;\n        this._removeMouseDownListeners();\n        if (this.selectionText.length <= 1 && timeElapsed < ALT_CLICK_MOVE_CURSOR_TIME) {\n            (new AltClickHandler_1.AltClickHandler(event, this._terminal)).move();\n        }\n        else if (this.hasSelection) {\n            this._terminal.emit('selection');\n        }\n    };\n    SelectionManager.prototype._onBufferActivate = function (e) {\n        this.clearSelection();\n        e.inactiveBuffer.lines.off('trim', this._trimListener);\n        e.activeBuffer.lines.on('trim', this._trimListener);\n    };\n    SelectionManager.prototype._convertViewportColToCharacterIndex = function (bufferLine, coords) {\n        var charIndex = coords[0];\n        for (var i = 0; coords[0] >= i; i++) {\n            var char = bufferLine.get(i);\n            if (char[Buffer_1.CHAR_DATA_WIDTH_INDEX] === 0) {\n                charIndex--;\n            }\n            else if (char[Buffer_1.CHAR_DATA_CHAR_INDEX].length > 1 && coords[0] !== i) {\n                charIndex += char[Buffer_1.CHAR_DATA_CHAR_INDEX].length - 1;\n            }\n        }\n        return charIndex;\n    };\n    SelectionManager.prototype.setSelection = function (col, row, length) {\n        this._model.clearSelection();\n        this._removeMouseDownListeners();\n        this._model.selectionStart = [col, row];\n        this._model.selectionStartLength = length;\n        this.refresh();\n    };\n    SelectionManager.prototype._getWordAt = function (coords, allowWhitespaceOnlySelection, followWrappedLinesAbove, followWrappedLinesBelow) {\n        if (followWrappedLinesAbove === void 0) { followWrappedLinesAbove = true; }\n        if (followWrappedLinesBelow === void 0) { followWrappedLinesBelow = true; }\n        if (coords[0] >= this._terminal.cols) {\n            return null;\n        }\n        var bufferLine = this._buffer.lines.get(coords[1]);\n        if (!bufferLine) {\n            return null;\n        }\n        var line = this._buffer.translateBufferLineToString(coords[1], false);\n        var startIndex = this._convertViewportColToCharacterIndex(bufferLine, coords);\n        var endIndex = startIndex;\n        var charOffset = coords[0] - startIndex;\n        var leftWideCharCount = 0;\n        var rightWideCharCount = 0;\n        var leftLongCharOffset = 0;\n        var rightLongCharOffset = 0;\n        if (line.charAt(startIndex) === ' ') {\n            while (startIndex > 0 && line.charAt(startIndex - 1) === ' ') {\n                startIndex--;\n            }\n            while (endIndex < line.length && line.charAt(endIndex + 1) === ' ') {\n                endIndex++;\n            }\n        }\n        else {\n            var startCol = coords[0];\n            var endCol = coords[0];\n            if (bufferLine.get(startCol)[Buffer_1.CHAR_DATA_WIDTH_INDEX] === 0) {\n                leftWideCharCount++;\n                startCol--;\n            }\n            if (bufferLine.get(endCol)[Buffer_1.CHAR_DATA_WIDTH_INDEX] === 2) {\n                rightWideCharCount++;\n                endCol++;\n            }\n            if (bufferLine.get(endCol)[Buffer_1.CHAR_DATA_CHAR_INDEX].length > 1) {\n                rightLongCharOffset += bufferLine.get(endCol)[Buffer_1.CHAR_DATA_CHAR_INDEX].length - 1;\n                endIndex += bufferLine.get(endCol)[Buffer_1.CHAR_DATA_CHAR_INDEX].length - 1;\n            }\n            while (startCol > 0 && startIndex > 0 && !this._isCharWordSeparator(bufferLine.get(startCol - 1))) {\n                var char = bufferLine.get(startCol - 1);\n                if (char[Buffer_1.CHAR_DATA_WIDTH_INDEX] === 0) {\n                    leftWideCharCount++;\n                    startCol--;\n                }\n                else if (char[Buffer_1.CHAR_DATA_CHAR_INDEX].length > 1) {\n                    leftLongCharOffset += char[Buffer_1.CHAR_DATA_CHAR_INDEX].length - 1;\n                    startIndex -= char[Buffer_1.CHAR_DATA_CHAR_INDEX].length - 1;\n                }\n                startIndex--;\n                startCol--;\n            }\n            while (endCol < bufferLine.length && endIndex + 1 < line.length && !this._isCharWordSeparator(bufferLine.get(endCol + 1))) {\n                var char = bufferLine.get(endCol + 1);\n                if (char[Buffer_1.CHAR_DATA_WIDTH_INDEX] === 2) {\n                    rightWideCharCount++;\n                    endCol++;\n                }\n                else if (char[Buffer_1.CHAR_DATA_CHAR_INDEX].length > 1) {\n                    rightLongCharOffset += char[Buffer_1.CHAR_DATA_CHAR_INDEX].length - 1;\n                    endIndex += char[Buffer_1.CHAR_DATA_CHAR_INDEX].length - 1;\n                }\n                endIndex++;\n                endCol++;\n            }\n        }\n        endIndex++;\n        var start = startIndex\n            + charOffset\n            - leftWideCharCount\n            + leftLongCharOffset;\n        var length = Math.min(this._terminal.cols, endIndex\n            - startIndex\n            + leftWideCharCount\n            + rightWideCharCount\n            - leftLongCharOffset\n            - rightLongCharOffset);\n        if (!allowWhitespaceOnlySelection && line.slice(startIndex, endIndex).trim() === '') {\n            return null;\n        }\n        if (followWrappedLinesAbove) {\n            if (start === 0 && bufferLine.get(0)[Buffer_1.CHAR_DATA_CODE_INDEX] !== 32) {\n                var previousBufferLine = this._buffer.lines.get(coords[1] - 1);\n                if (previousBufferLine && bufferLine.isWrapped && previousBufferLine.get(this._terminal.cols - 1)[Buffer_1.CHAR_DATA_CODE_INDEX] !== 32) {\n                    var previousLineWordPosition = this._getWordAt([this._terminal.cols - 1, coords[1] - 1], false, true, false);\n                    if (previousLineWordPosition) {\n                        var offset = this._terminal.cols - previousLineWordPosition.start;\n                        start -= offset;\n                        length += offset;\n                    }\n                }\n            }\n        }\n        if (followWrappedLinesBelow) {\n            if (start + length === this._terminal.cols && bufferLine.get(this._terminal.cols - 1)[Buffer_1.CHAR_DATA_CODE_INDEX] !== 32) {\n                var nextBufferLine = this._buffer.lines.get(coords[1] + 1);\n                if (nextBufferLine && nextBufferLine.isWrapped && nextBufferLine.get(0)[Buffer_1.CHAR_DATA_CODE_INDEX] !== 32) {\n                    var nextLineWordPosition = this._getWordAt([0, coords[1] + 1], false, false, true);\n                    if (nextLineWordPosition) {\n                        length += nextLineWordPosition.length;\n                    }\n                }\n            }\n        }\n        return { start: start, length: length };\n    };\n    SelectionManager.prototype._selectWordAt = function (coords, allowWhitespaceOnlySelection) {\n        var wordPosition = this._getWordAt(coords, allowWhitespaceOnlySelection);\n        if (wordPosition) {\n            while (wordPosition.start < 0) {\n                wordPosition.start += this._terminal.cols;\n                coords[1]--;\n            }\n            this._model.selectionStart = [wordPosition.start, coords[1]];\n            this._model.selectionStartLength = wordPosition.length;\n        }\n    };\n    SelectionManager.prototype._selectToWordAt = function (coords) {\n        var wordPosition = this._getWordAt(coords, true);\n        if (wordPosition) {\n            var endRow = coords[1];\n            while (wordPosition.start < 0) {\n                wordPosition.start += this._terminal.cols;\n                endRow--;\n            }\n            if (!this._model.areSelectionValuesReversed()) {\n                while (wordPosition.start + wordPosition.length > this._terminal.cols) {\n                    wordPosition.length -= this._terminal.cols;\n                    endRow++;\n                }\n            }\n            this._model.selectionEnd = [this._model.areSelectionValuesReversed() ? wordPosition.start : wordPosition.start + wordPosition.length, endRow];\n        }\n    };\n    SelectionManager.prototype._isCharWordSeparator = function (charData) {\n        if (charData[Buffer_1.CHAR_DATA_WIDTH_INDEX] === 0) {\n            return false;\n        }\n        return WORD_SEPARATORS.indexOf(charData[Buffer_1.CHAR_DATA_CHAR_INDEX]) >= 0;\n    };\n    SelectionManager.prototype._selectLineAt = function (line) {\n        var wrappedRange = this._buffer.getWrappedRangeForLine(line);\n        this._model.selectionStart = [0, wrappedRange.first];\n        this._model.selectionEnd = [this._terminal.cols, wrappedRange.last];\n        this._model.selectionStartLength = 0;\n    };\n    return SelectionManager;\n}(EventEmitter_1.EventEmitter));\nexports.SelectionManager = SelectionManager;\n//# sourceMappingURL=SelectionManager.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Types_1 = require(\"./Types\");\nvar CharAtlasGenerator_1 = require(\"./CharAtlasGenerator\");\nvar BaseCharAtlas_1 = require(\"./BaseCharAtlas\");\nvar CharAtlasUtils_1 = require(\"./CharAtlasUtils\");\nvar StaticCharAtlas = (function (_super) {\n    __extends(StaticCharAtlas, _super);\n    function StaticCharAtlas(_document, _config) {\n        var _this = _super.call(this) || this;\n        _this._document = _document;\n        _this._config = _config;\n        _this._canvasFactory = function (width, height) {\n            var canvas = _this._document.createElement('canvas');\n            canvas.width = width;\n            canvas.height = height;\n            return canvas;\n        };\n        return _this;\n    }\n    StaticCharAtlas.prototype._doWarmUp = function () {\n        var _this = this;\n        var result = CharAtlasGenerator_1.generateStaticCharAtlasTexture(window, this._canvasFactory, this._config);\n        if (result instanceof HTMLCanvasElement) {\n            this._texture = result;\n        }\n        else {\n            result.then(function (texture) {\n                _this._texture = texture;\n            });\n        }\n    };\n    StaticCharAtlas.prototype._isCached = function (glyph, colorIndex) {\n        var isAscii = glyph.code < 256;\n        var isBasicColor = glyph.fg < 16;\n        var isDefaultColor = glyph.fg === Types_1.DEFAULT_COLOR;\n        var isDefaultBackground = glyph.bg === Types_1.DEFAULT_COLOR;\n        return isAscii && (isBasicColor || isDefaultColor) && isDefaultBackground && !glyph.italic;\n    };\n    StaticCharAtlas.prototype.draw = function (ctx, glyph, x, y) {\n        if (this._texture === null || this._texture === undefined) {\n            return false;\n        }\n        var colorIndex = 0;\n        if (CharAtlasUtils_1.is256Color(glyph.fg)) {\n            colorIndex = 2 + glyph.fg + (glyph.bold ? 16 : 0);\n        }\n        else if (glyph.fg === Types_1.DEFAULT_COLOR) {\n            if (glyph.bold) {\n                colorIndex = 1;\n            }\n        }\n        if (!this._isCached(glyph, colorIndex)) {\n            return false;\n        }\n        ctx.save();\n        var charAtlasCellWidth = this._config.scaledCharWidth + Types_1.CHAR_ATLAS_CELL_SPACING;\n        var charAtlasCellHeight = this._config.scaledCharHeight + Types_1.CHAR_ATLAS_CELL_SPACING;\n        if (glyph.dim) {\n            ctx.globalAlpha = Types_1.DIM_OPACITY;\n        }\n        ctx.drawImage(this._texture, glyph.code * charAtlasCellWidth, colorIndex * charAtlasCellHeight, charAtlasCellWidth, this._config.scaledCharHeight, x, y, charAtlasCellWidth, this._config.scaledCharHeight);\n        ctx.restore();\n        return true;\n    };\n    return StaticCharAtlas;\n}(BaseCharAtlas_1.default));\nexports.default = StaticCharAtlas;\n//# sourceMappingURL=StaticCharAtlas.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Buffer_1 = require(\"../Buffer\");\nvar Types_1 = require(\"./atlas/Types\");\nvar GridCache_1 = require(\"./GridCache\");\nvar BaseRenderLayer_1 = require(\"./BaseRenderLayer\");\nvar CharAtlasUtils_1 = require(\"./atlas/CharAtlasUtils\");\nvar TextRenderLayer = (function (_super) {\n    __extends(TextRenderLayer, _super);\n    function TextRenderLayer(container, zIndex, colors, characterJoinerRegistry, alpha) {\n        var _this = _super.call(this, container, 'text', zIndex, alpha, colors) || this;\n        _this._characterOverlapCache = {};\n        _this._state = new GridCache_1.GridCache();\n        _this._characterJoinerRegistry = characterJoinerRegistry;\n        return _this;\n    }\n    TextRenderLayer.prototype.resize = function (terminal, dim) {\n        _super.prototype.resize.call(this, terminal, dim);\n        var terminalFont = this._getFont(terminal, false, false);\n        if (this._characterWidth !== dim.scaledCharWidth || this._characterFont !== terminalFont) {\n            this._characterWidth = dim.scaledCharWidth;\n            this._characterFont = terminalFont;\n            this._characterOverlapCache = {};\n        }\n        this._state.clear();\n        this._state.resize(terminal.cols, terminal.rows);\n    };\n    TextRenderLayer.prototype.reset = function (terminal) {\n        this._state.clear();\n        this.clearAll();\n    };\n    TextRenderLayer.prototype._forEachCell = function (terminal, firstRow, lastRow, joinerRegistry, callback) {\n        for (var y = firstRow; y <= lastRow; y++) {\n            var row = y + terminal.buffer.ydisp;\n            var line = terminal.buffer.lines.get(row);\n            var joinedRanges = joinerRegistry ? joinerRegistry.getJoinedCharacters(row) : [];\n            for (var x = 0; x < terminal.cols; x++) {\n                var charData = line.get(x);\n                var code = charData[Buffer_1.CHAR_DATA_CODE_INDEX];\n                var chars = charData[Buffer_1.CHAR_DATA_CHAR_INDEX];\n                var attr = charData[Buffer_1.CHAR_DATA_ATTR_INDEX];\n                var width = charData[Buffer_1.CHAR_DATA_WIDTH_INDEX];\n                var isJoined = false;\n                var lastCharX = x;\n                if (width === 0) {\n                    continue;\n                }\n                if (joinedRanges.length > 0 && x === joinedRanges[0][0]) {\n                    isJoined = true;\n                    var range = joinedRanges.shift();\n                    chars = terminal.buffer.translateBufferLineToString(row, true, range[0], range[1]);\n                    width = range[1] - range[0];\n                    code = Infinity;\n                    lastCharX = range[1] - 1;\n                }\n                if (!isJoined && this._isOverlapping(charData)) {\n                    if (lastCharX < line.length - 1 && line.get(lastCharX + 1)[Buffer_1.CHAR_DATA_CODE_INDEX] === Buffer_1.NULL_CELL_CODE) {\n                        width = 2;\n                    }\n                }\n                var flags = attr >> 18;\n                var bg = attr & 0x1ff;\n                var fg = (attr >> 9) & 0x1ff;\n                if (flags & 8) {\n                    var temp = bg;\n                    bg = fg;\n                    fg = temp;\n                    if (fg === Types_1.DEFAULT_COLOR) {\n                        fg = Types_1.INVERTED_DEFAULT_COLOR;\n                    }\n                    if (bg === Types_1.DEFAULT_COLOR) {\n                        bg = Types_1.INVERTED_DEFAULT_COLOR;\n                    }\n                }\n                callback(code, chars, width, x, y, fg, bg, flags);\n                x = lastCharX;\n            }\n        }\n    };\n    TextRenderLayer.prototype._drawBackground = function (terminal, firstRow, lastRow) {\n        var _this = this;\n        var ctx = this._ctx;\n        var cols = terminal.cols;\n        var startX = 0;\n        var startY = 0;\n        var prevFillStyle = null;\n        ctx.save();\n        this._forEachCell(terminal, firstRow, lastRow, null, function (code, chars, width, x, y, fg, bg, flags) {\n            var nextFillStyle = null;\n            if (bg === Types_1.INVERTED_DEFAULT_COLOR) {\n                nextFillStyle = _this._colors.foreground.css;\n            }\n            else if (CharAtlasUtils_1.is256Color(bg)) {\n                nextFillStyle = _this._colors.ansi[bg].css;\n            }\n            if (prevFillStyle === null) {\n                startX = x;\n                startY = y;\n            }\n            if (y !== startY) {\n                ctx.fillStyle = prevFillStyle;\n                _this.fillCells(startX, startY, cols - startX, 1);\n                startX = x;\n                startY = y;\n            }\n            else if (prevFillStyle !== nextFillStyle) {\n                ctx.fillStyle = prevFillStyle;\n                _this.fillCells(startX, startY, x - startX, 1);\n                startX = x;\n                startY = y;\n            }\n            prevFillStyle = nextFillStyle;\n        });\n        if (prevFillStyle !== null) {\n            ctx.fillStyle = prevFillStyle;\n            this.fillCells(startX, startY, cols - startX, 1);\n        }\n        ctx.restore();\n    };\n    TextRenderLayer.prototype._drawForeground = function (terminal, firstRow, lastRow) {\n        var _this = this;\n        this._forEachCell(terminal, firstRow, lastRow, this._characterJoinerRegistry, function (code, chars, width, x, y, fg, bg, flags) {\n            if (flags & 16) {\n                return;\n            }\n            if (flags & 2) {\n                _this._ctx.save();\n                if (fg === Types_1.INVERTED_DEFAULT_COLOR) {\n                    _this._ctx.fillStyle = _this._colors.background.css;\n                }\n                else if (CharAtlasUtils_1.is256Color(fg)) {\n                    _this._ctx.fillStyle = _this._colors.ansi[fg].css;\n                }\n                else {\n                    _this._ctx.fillStyle = _this._colors.foreground.css;\n                }\n                _this.fillBottomLineAtCells(x, y, width);\n                _this._ctx.restore();\n            }\n            _this.drawChars(terminal, chars, code, width, x, y, fg, bg, !!(flags & 1), !!(flags & 32), !!(flags & 64));\n        });\n    };\n    TextRenderLayer.prototype.onGridChanged = function (terminal, firstRow, lastRow) {\n        if (this._state.cache.length === 0) {\n            return;\n        }\n        if (this._charAtlas) {\n            this._charAtlas.beginFrame();\n        }\n        this.clearCells(0, firstRow, terminal.cols, lastRow - firstRow + 1);\n        this._drawBackground(terminal, firstRow, lastRow);\n        this._drawForeground(terminal, firstRow, lastRow);\n    };\n    TextRenderLayer.prototype.onOptionsChanged = function (terminal) {\n        this.setTransparency(terminal, terminal.options.allowTransparency);\n    };\n    TextRenderLayer.prototype._isOverlapping = function (charData) {\n        if (charData[Buffer_1.CHAR_DATA_WIDTH_INDEX] !== 1) {\n            return false;\n        }\n        var code = charData[Buffer_1.CHAR_DATA_CODE_INDEX];\n        if (code < 256) {\n            return false;\n        }\n        var char = charData[Buffer_1.CHAR_DATA_CHAR_INDEX];\n        if (this._characterOverlapCache.hasOwnProperty(char)) {\n            return this._characterOverlapCache[char];\n        }\n        this._ctx.save();\n        this._ctx.font = this._characterFont;\n        var overlaps = Math.floor(this._ctx.measureText(char).width) > this._characterWidth;\n        this._ctx.restore();\n        this._characterOverlapCache[char] = overlaps;\n        return overlaps;\n    };\n    return TextRenderLayer;\n}(BaseRenderLayer_1.BaseRenderLayer));\nexports.TextRenderLayer = TextRenderLayer;\n//# sourceMappingURL=TextRenderLayer.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Types_1 = require(\"./Types\");\nfunction generateConfig(scaledCharWidth, scaledCharHeight, terminal, colors) {\n    var clonedColors = {\n        foreground: colors.foreground,\n        background: colors.background,\n        cursor: null,\n        cursorAccent: null,\n        selection: null,\n        ansi: colors.ansi.slice(0, 16)\n    };\n    return {\n        type: terminal.options.experimentalCharAtlas,\n        devicePixelRatio: window.devicePixelRatio,\n        scaledCharWidth: scaledCharWidth,\n        scaledCharHeight: scaledCharHeight,\n        fontFamily: terminal.options.fontFamily,\n        fontSize: terminal.options.fontSize,\n        fontWeight: terminal.options.fontWeight,\n        fontWeightBold: terminal.options.fontWeightBold,\n        allowTransparency: terminal.options.allowTransparency,\n        colors: clonedColors\n    };\n}\nexports.generateConfig = generateConfig;\nfunction configEquals(a, b) {\n    for (var i = 0; i < a.colors.ansi.length; i++) {\n        if (a.colors.ansi[i].rgba !== b.colors.ansi[i].rgba) {\n            return false;\n        }\n    }\n    return a.type === b.type &&\n        a.devicePixelRatio === b.devicePixelRatio &&\n        a.fontFamily === b.fontFamily &&\n        a.fontSize === b.fontSize &&\n        a.fontWeight === b.fontWeight &&\n        a.fontWeightBold === b.fontWeightBold &&\n        a.allowTransparency === b.allowTransparency &&\n        a.scaledCharWidth === b.scaledCharWidth &&\n        a.scaledCharHeight === b.scaledCharHeight &&\n        a.colors.foreground === b.colors.foreground &&\n        a.colors.background === b.colors.background;\n}\nexports.configEquals = configEquals;\nfunction is256Color(colorCode) {\n    return colorCode < Types_1.DEFAULT_COLOR;\n}\nexports.is256Color = is256Color;\n//# sourceMappingURL=CharAtlasUtils.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MouseHelper = (function () {\n    function MouseHelper(_renderer) {\n        this._renderer = _renderer;\n    }\n    MouseHelper.prototype.setRenderer = function (renderer) {\n        this._renderer = renderer;\n    };\n    MouseHelper.getCoordsRelativeToElement = function (event, element) {\n        if (event.pageX === null || event.pageX === undefined) {\n            return null;\n        }\n        var originalElement = element;\n        var x = event.pageX;\n        var y = event.pageY;\n        while (element) {\n            x -= element.offsetLeft;\n            y -= element.offsetTop;\n            element = element.offsetParent;\n        }\n        element = originalElement;\n        while (element && element !== element.ownerDocument.body) {\n            x += element.scrollLeft;\n            y += element.scrollTop;\n            element = element.parentElement;\n        }\n        return [x, y];\n    };\n    MouseHelper.prototype.getCoords = function (event, element, charMeasure, colCount, rowCount, isSelection) {\n        if (!charMeasure.width || !charMeasure.height) {\n            return null;\n        }\n        var coords = MouseHelper.getCoordsRelativeToElement(event, element);\n        if (!coords) {\n            return null;\n        }\n        coords[0] = Math.ceil((coords[0] + (isSelection ? this._renderer.dimensions.actualCellWidth / 2 : 0)) / this._renderer.dimensions.actualCellWidth);\n        coords[1] = Math.ceil(coords[1] / this._renderer.dimensions.actualCellHeight);\n        coords[0] = Math.min(Math.max(coords[0], 1), colCount + (isSelection ? 1 : 0));\n        coords[1] = Math.min(Math.max(coords[1], 1), rowCount);\n        return coords;\n    };\n    MouseHelper.prototype.getRawByteCoords = function (event, element, charMeasure, colCount, rowCount) {\n        var coords = this.getCoords(event, element, charMeasure, colCount, rowCount);\n        var x = coords[0];\n        var y = coords[1];\n        x += 32;\n        y += 32;\n        return { x: x, y: y };\n    };\n    return MouseHelper;\n}());\nexports.MouseHelper = MouseHelper;\n//# sourceMappingURL=MouseHelper.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar protocolClause = '(https?:\\\\/\\\\/)';\nvar domainCharacterSet = '[\\\\da-z\\\\.-]+';\nvar negatedDomainCharacterSet = '[^\\\\da-z\\\\.-]+';\nvar domainBodyClause = '(' + domainCharacterSet + ')';\nvar tldClause = '([a-z\\\\.]{2,6})';\nvar ipClause = '((\\\\d{1,3}\\\\.){3}\\\\d{1,3})';\nvar localHostClause = '(localhost)';\nvar portClause = '(:\\\\d{1,5})';\nvar hostClause = '((' + domainBodyClause + '\\\\.' + tldClause + ')|' + ipClause + '|' + localHostClause + ')' + portClause + '?';\nvar pathClause = '(\\\\/[\\\\/\\\\w\\\\.\\\\-%~:]*)*([^:\\\\s])';\nvar queryStringHashFragmentCharacterSet = '[0-9\\\\w\\\\[\\\\]\\\\(\\\\)\\\\/\\\\?\\\\!#@$%&\\'*+,:;~\\\\=\\\\.\\\\-]*';\nvar queryStringClause = '(\\\\?' + queryStringHashFragmentCharacterSet + ')?';\nvar hashFragmentClause = '(#' + queryStringHashFragmentCharacterSet + ')?';\nvar negatedPathCharacterSet = '[^\\\\/\\\\w\\\\.\\\\-%]+';\nvar bodyClause = hostClause + pathClause + queryStringClause + hashFragmentClause;\nvar start = '(?:^|' + negatedDomainCharacterSet + ')(';\nvar end = ')($|' + negatedPathCharacterSet + ')';\nvar strictUrlRegex = new RegExp(start + protocolClause + bodyClause + end);\nfunction handleLink(event, uri) {\n    window.open(uri, '_blank');\n}\nfunction webLinksInit(term, handler, options) {\n    if (handler === void 0) { handler = handleLink; }\n    if (options === void 0) { options = {}; }\n    options.matchIndex = 1;\n    term.registerLinkMatcher(strictUrlRegex, handler, options);\n}\nexports.webLinksInit = webLinksInit;\nfunction apply(terminalConstructor) {\n    terminalConstructor.prototype.webLinksInit = function (handler, options) {\n        webLinksInit(this, handler, options);\n    };\n}\nexports.apply = apply;\n//# sourceMappingURL=webLinks.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Buffer_1 = require(\"../Buffer\");\nvar BaseRenderLayer_1 = require(\"./BaseRenderLayer\");\nvar BLINK_INTERVAL = 600;\nvar CursorRenderLayer = (function (_super) {\n    __extends(CursorRenderLayer, _super);\n    function CursorRenderLayer(container, zIndex, colors) {\n        var _this = _super.call(this, container, 'cursor', zIndex, true, colors) || this;\n        _this._state = {\n            x: null,\n            y: null,\n            isFocused: null,\n            style: null,\n            width: null\n        };\n        _this._cursorRenderers = {\n            'bar': _this._renderBarCursor.bind(_this),\n            'block': _this._renderBlockCursor.bind(_this),\n            'underline': _this._renderUnderlineCursor.bind(_this)\n        };\n        return _this;\n    }\n    CursorRenderLayer.prototype.resize = function (terminal, dim) {\n        _super.prototype.resize.call(this, terminal, dim);\n        this._state = {\n            x: null,\n            y: null,\n            isFocused: null,\n            style: null,\n            width: null\n        };\n    };\n    CursorRenderLayer.prototype.reset = function (terminal) {\n        this._clearCursor();\n        if (this._cursorBlinkStateManager) {\n            this._cursorBlinkStateManager.dispose();\n            this._cursorBlinkStateManager = null;\n            this.onOptionsChanged(terminal);\n        }\n    };\n    CursorRenderLayer.prototype.onBlur = function (terminal) {\n        if (this._cursorBlinkStateManager) {\n            this._cursorBlinkStateManager.pause();\n        }\n        terminal.refresh(terminal.buffer.y, terminal.buffer.y);\n    };\n    CursorRenderLayer.prototype.onFocus = function (terminal) {\n        if (this._cursorBlinkStateManager) {\n            this._cursorBlinkStateManager.resume(terminal);\n        }\n        else {\n            terminal.refresh(terminal.buffer.y, terminal.buffer.y);\n        }\n    };\n    CursorRenderLayer.prototype.onOptionsChanged = function (terminal) {\n        var _this = this;\n        if (terminal.options.cursorBlink) {\n            if (!this._cursorBlinkStateManager) {\n                this._cursorBlinkStateManager = new CursorBlinkStateManager(terminal, function () {\n                    _this._render(terminal, true);\n                });\n            }\n        }\n        else {\n            if (this._cursorBlinkStateManager) {\n                this._cursorBlinkStateManager.dispose();\n                this._cursorBlinkStateManager = null;\n            }\n            terminal.refresh(terminal.buffer.y, terminal.buffer.y);\n        }\n    };\n    CursorRenderLayer.prototype.onCursorMove = function (terminal) {\n        if (this._cursorBlinkStateManager) {\n            this._cursorBlinkStateManager.restartBlinkAnimation(terminal);\n        }\n    };\n    CursorRenderLayer.prototype.onGridChanged = function (terminal, startRow, endRow) {\n        if (!this._cursorBlinkStateManager || this._cursorBlinkStateManager.isPaused) {\n            this._render(terminal, false);\n        }\n        else {\n            this._cursorBlinkStateManager.restartBlinkAnimation(terminal);\n        }\n    };\n    CursorRenderLayer.prototype._render = function (terminal, triggeredByAnimationFrame) {\n        if (!terminal.cursorState || terminal.cursorHidden) {\n            this._clearCursor();\n            return;\n        }\n        var cursorY = terminal.buffer.ybase + terminal.buffer.y;\n        var viewportRelativeCursorY = cursorY - terminal.buffer.ydisp;\n        if (viewportRelativeCursorY < 0 || viewportRelativeCursorY >= terminal.rows) {\n            this._clearCursor();\n            return;\n        }\n        var charData = terminal.buffer.lines.get(cursorY).get(terminal.buffer.x);\n        if (!charData) {\n            return;\n        }\n        if (!terminal.isFocused) {\n            this._clearCursor();\n            this._ctx.save();\n            this._ctx.fillStyle = this._colors.cursor.css;\n            this._renderBlurCursor(terminal, terminal.buffer.x, viewportRelativeCursorY, charData);\n            this._ctx.restore();\n            this._state.x = terminal.buffer.x;\n            this._state.y = viewportRelativeCursorY;\n            this._state.isFocused = false;\n            this._state.style = terminal.options.cursorStyle;\n            this._state.width = charData[Buffer_1.CHAR_DATA_WIDTH_INDEX];\n            return;\n        }\n        if (this._cursorBlinkStateManager && !this._cursorBlinkStateManager.isCursorVisible) {\n            this._clearCursor();\n            return;\n        }\n        if (this._state) {\n            if (this._state.x === terminal.buffer.x &&\n                this._state.y === viewportRelativeCursorY &&\n                this._state.isFocused === terminal.isFocused &&\n                this._state.style === terminal.options.cursorStyle &&\n                this._state.width === charData[Buffer_1.CHAR_DATA_WIDTH_INDEX]) {\n                return;\n            }\n            this._clearCursor();\n        }\n        this._ctx.save();\n        this._cursorRenderers[terminal.options.cursorStyle || 'block'](terminal, terminal.buffer.x, viewportRelativeCursorY, charData);\n        this._ctx.restore();\n        this._state.x = terminal.buffer.x;\n        this._state.y = viewportRelativeCursorY;\n        this._state.isFocused = false;\n        this._state.style = terminal.options.cursorStyle;\n        this._state.width = charData[Buffer_1.CHAR_DATA_WIDTH_INDEX];\n    };\n    CursorRenderLayer.prototype._clearCursor = function () {\n        if (this._state) {\n            this.clearCells(this._state.x, this._state.y, this._state.width, 1);\n            this._state = {\n                x: null,\n                y: null,\n                isFocused: null,\n                style: null,\n                width: null\n            };\n        }\n    };\n    CursorRenderLayer.prototype._renderBarCursor = function (terminal, x, y, charData) {\n        this._ctx.save();\n        this._ctx.fillStyle = this._colors.cursor.css;\n        this.fillLeftLineAtCell(x, y);\n        this._ctx.restore();\n    };\n    CursorRenderLayer.prototype._renderBlockCursor = function (terminal, x, y, charData) {\n        this._ctx.save();\n        this._ctx.fillStyle = this._colors.cursor.css;\n        this.fillCells(x, y, charData[Buffer_1.CHAR_DATA_WIDTH_INDEX], 1);\n        this._ctx.fillStyle = this._colors.cursorAccent.css;\n        this.fillCharTrueColor(terminal, charData, x, y);\n        this._ctx.restore();\n    };\n    CursorRenderLayer.prototype._renderUnderlineCursor = function (terminal, x, y, charData) {\n        this._ctx.save();\n        this._ctx.fillStyle = this._colors.cursor.css;\n        this.fillBottomLineAtCells(x, y);\n        this._ctx.restore();\n    };\n    CursorRenderLayer.prototype._renderBlurCursor = function (terminal, x, y, charData) {\n        this._ctx.save();\n        this._ctx.strokeStyle = this._colors.cursor.css;\n        this.strokeRectAtCell(x, y, charData[Buffer_1.CHAR_DATA_WIDTH_INDEX], 1);\n        this._ctx.restore();\n    };\n    return CursorRenderLayer;\n}(BaseRenderLayer_1.BaseRenderLayer));\nexports.CursorRenderLayer = CursorRenderLayer;\nvar CursorBlinkStateManager = (function () {\n    function CursorBlinkStateManager(terminal, _renderCallback) {\n        this._renderCallback = _renderCallback;\n        this.isCursorVisible = true;\n        if (terminal.isFocused) {\n            this._restartInterval();\n        }\n    }\n    Object.defineProperty(CursorBlinkStateManager.prototype, \"isPaused\", {\n        get: function () { return !(this._blinkStartTimeout || this._blinkInterval); },\n        enumerable: true,\n        configurable: true\n    });\n    CursorBlinkStateManager.prototype.dispose = function () {\n        if (this._blinkInterval) {\n            window.clearInterval(this._blinkInterval);\n            this._blinkInterval = null;\n        }\n        if (this._blinkStartTimeout) {\n            window.clearTimeout(this._blinkStartTimeout);\n            this._blinkStartTimeout = null;\n        }\n        if (this._animationFrame) {\n            window.cancelAnimationFrame(this._animationFrame);\n            this._animationFrame = null;\n        }\n    };\n    CursorBlinkStateManager.prototype.restartBlinkAnimation = function (terminal) {\n        var _this = this;\n        if (this.isPaused) {\n            return;\n        }\n        this._animationTimeRestarted = Date.now();\n        this.isCursorVisible = true;\n        if (!this._animationFrame) {\n            this._animationFrame = window.requestAnimationFrame(function () {\n                _this._renderCallback();\n                _this._animationFrame = null;\n            });\n        }\n    };\n    CursorBlinkStateManager.prototype._restartInterval = function (timeToStart) {\n        var _this = this;\n        if (timeToStart === void 0) { timeToStart = BLINK_INTERVAL; }\n        if (this._blinkInterval) {\n            window.clearInterval(this._blinkInterval);\n        }\n        this._blinkStartTimeout = setTimeout(function () {\n            if (_this._animationTimeRestarted) {\n                var time = BLINK_INTERVAL - (Date.now() - _this._animationTimeRestarted);\n                _this._animationTimeRestarted = null;\n                if (time > 0) {\n                    _this._restartInterval(time);\n                    return;\n                }\n            }\n            _this.isCursorVisible = false;\n            _this._animationFrame = window.requestAnimationFrame(function () {\n                _this._renderCallback();\n                _this._animationFrame = null;\n            });\n            _this._blinkInterval = setInterval(function () {\n                if (_this._animationTimeRestarted) {\n                    var time = BLINK_INTERVAL - (Date.now() - _this._animationTimeRestarted);\n                    _this._animationTimeRestarted = null;\n                    _this._restartInterval(time);\n                    return;\n                }\n                _this.isCursorVisible = !_this.isCursorVisible;\n                _this._animationFrame = window.requestAnimationFrame(function () {\n                    _this._renderCallback();\n                    _this._animationFrame = null;\n                });\n            }, BLINK_INTERVAL);\n        }, timeToStart);\n    };\n    CursorBlinkStateManager.prototype.pause = function () {\n        this.isCursorVisible = true;\n        if (this._blinkInterval) {\n            window.clearInterval(this._blinkInterval);\n            this._blinkInterval = null;\n        }\n        if (this._blinkStartTimeout) {\n            window.clearTimeout(this._blinkStartTimeout);\n            this._blinkStartTimeout = null;\n        }\n        if (this._animationFrame) {\n            window.cancelAnimationFrame(this._animationFrame);\n            this._animationFrame = null;\n        }\n    };\n    CursorBlinkStateManager.prototype.resume = function (terminal) {\n        this._animationTimeRestarted = null;\n        this._restartInterval();\n        this.restartBlinkAnimation(terminal);\n    };\n    return CursorBlinkStateManager;\n}());\n//# sourceMappingURL=CursorRenderLayer.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Platform_1 = require(\"../../core/Platform\");\nvar Types_1 = require(\"./Types\");\nfunction generateStaticCharAtlasTexture(context, canvasFactory, config) {\n    var cellWidth = config.scaledCharWidth + Types_1.CHAR_ATLAS_CELL_SPACING;\n    var cellHeight = config.scaledCharHeight + Types_1.CHAR_ATLAS_CELL_SPACING;\n    var canvas = canvasFactory(255 * cellWidth, (2 + 16 + 16) * cellHeight);\n    var ctx = canvas.getContext('2d', { alpha: config.allowTransparency });\n    ctx.fillStyle = config.colors.background.css;\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n    ctx.save();\n    ctx.fillStyle = config.colors.foreground.css;\n    ctx.font = getFont(config.fontWeight, config);\n    ctx.textBaseline = 'top';\n    for (var i = 0; i < 256; i++) {\n        ctx.save();\n        ctx.beginPath();\n        ctx.rect(i * cellWidth, 0, cellWidth, cellHeight);\n        ctx.clip();\n        ctx.fillText(String.fromCharCode(i), i * cellWidth, 0);\n        ctx.restore();\n    }\n    ctx.save();\n    ctx.font = getFont(config.fontWeightBold, config);\n    for (var i = 0; i < 256; i++) {\n        ctx.save();\n        ctx.beginPath();\n        ctx.rect(i * cellWidth, cellHeight, cellWidth, cellHeight);\n        ctx.clip();\n        ctx.fillText(String.fromCharCode(i), i * cellWidth, cellHeight);\n        ctx.restore();\n    }\n    ctx.restore();\n    ctx.font = getFont(config.fontWeight, config);\n    for (var colorIndex = 0; colorIndex < 16; colorIndex++) {\n        var y = (colorIndex + 2) * cellHeight;\n        for (var i = 0; i < 256; i++) {\n            ctx.save();\n            ctx.beginPath();\n            ctx.rect(i * cellWidth, y, cellWidth, cellHeight);\n            ctx.clip();\n            ctx.fillStyle = config.colors.ansi[colorIndex].css;\n            ctx.fillText(String.fromCharCode(i), i * cellWidth, y);\n            ctx.restore();\n        }\n    }\n    ctx.font = getFont(config.fontWeightBold, config);\n    for (var colorIndex = 0; colorIndex < 16; colorIndex++) {\n        var y = (colorIndex + 2 + 16) * cellHeight;\n        for (var i = 0; i < 256; i++) {\n            ctx.save();\n            ctx.beginPath();\n            ctx.rect(i * cellWidth, y, cellWidth, cellHeight);\n            ctx.clip();\n            ctx.fillStyle = config.colors.ansi[colorIndex].css;\n            ctx.fillText(String.fromCharCode(i), i * cellWidth, y);\n            ctx.restore();\n        }\n    }\n    ctx.restore();\n    if (!('createImageBitmap' in context) || Platform_1.isFirefox || Platform_1.isSafari) {\n        return canvas;\n    }\n    var charAtlasImageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n    clearColor(charAtlasImageData, config.colors.background);\n    return context.createImageBitmap(charAtlasImageData);\n}\nexports.generateStaticCharAtlasTexture = generateStaticCharAtlasTexture;\nfunction clearColor(imageData, color) {\n    var isEmpty = true;\n    var r = color.rgba >>> 24;\n    var g = color.rgba >>> 16 & 0xFF;\n    var b = color.rgba >>> 8 & 0xFF;\n    for (var offset = 0; offset < imageData.data.length; offset += 4) {\n        if (imageData.data[offset] === r &&\n            imageData.data[offset + 1] === g &&\n            imageData.data[offset + 2] === b) {\n            imageData.data[offset + 3] = 0;\n        }\n        else {\n            isEmpty = false;\n        }\n    }\n    return isEmpty;\n}\nexports.clearColor = clearColor;\nfunction getFont(fontWeight, config) {\n    return fontWeight + \" \" + config.fontSize * config.devicePixelRatio + \"px \" + config.fontFamily;\n}\n//# sourceMappingURL=CharAtlasGenerator.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CompositionHelper = (function () {\n    function CompositionHelper(_textarea, _compositionView, _terminal) {\n        this._textarea = _textarea;\n        this._compositionView = _compositionView;\n        this._terminal = _terminal;\n        this._isComposing = false;\n        this._isSendingComposition = false;\n        this._compositionPosition = { start: null, end: null };\n    }\n    CompositionHelper.prototype.compositionstart = function () {\n        this._isComposing = true;\n        this._compositionPosition.start = this._textarea.value.length;\n        this._compositionView.textContent = '';\n        this._compositionView.classList.add('active');\n    };\n    CompositionHelper.prototype.compositionupdate = function (ev) {\n        var _this = this;\n        this._compositionView.textContent = ev.data;\n        this.updateCompositionElements();\n        setTimeout(function () {\n            _this._compositionPosition.end = _this._textarea.value.length;\n        }, 0);\n    };\n    CompositionHelper.prototype.compositionend = function () {\n        this._finalizeComposition(true);\n    };\n    CompositionHelper.prototype.keydown = function (ev) {\n        if (this._isComposing || this._isSendingComposition) {\n            if (ev.keyCode === 229) {\n                return false;\n            }\n            else if (ev.keyCode === 16 || ev.keyCode === 17 || ev.keyCode === 18) {\n                return false;\n            }\n            this._finalizeComposition(false);\n        }\n        if (ev.keyCode === 229) {\n            this._handleAnyTextareaChanges();\n            return false;\n        }\n        return true;\n    };\n    CompositionHelper.prototype._finalizeComposition = function (waitForPropogation) {\n        var _this = this;\n        this._compositionView.classList.remove('active');\n        this._isComposing = false;\n        this._clearTextareaPosition();\n        if (!waitForPropogation) {\n            this._isSendingComposition = false;\n            var input = this._textarea.value.substring(this._compositionPosition.start, this._compositionPosition.end);\n            this._terminal.handler(input);\n        }\n        else {\n            var currentCompositionPosition_1 = {\n                start: this._compositionPosition.start,\n                end: this._compositionPosition.end\n            };\n            this._isSendingComposition = true;\n            setTimeout(function () {\n                if (_this._isSendingComposition) {\n                    _this._isSendingComposition = false;\n                    var input = void 0;\n                    if (_this._isComposing) {\n                        input = _this._textarea.value.substring(currentCompositionPosition_1.start, currentCompositionPosition_1.end);\n                    }\n                    else {\n                        input = _this._textarea.value.substring(currentCompositionPosition_1.start);\n                    }\n                    _this._terminal.handler(input);\n                }\n            }, 0);\n        }\n    };\n    CompositionHelper.prototype._handleAnyTextareaChanges = function () {\n        var _this = this;\n        var oldValue = this._textarea.value;\n        setTimeout(function () {\n            if (!_this._isComposing) {\n                var newValue = _this._textarea.value;\n                var diff = newValue.replace(oldValue, '');\n                if (diff.length > 0) {\n                    _this._terminal.handler(diff);\n                }\n            }\n        }, 0);\n    };\n    CompositionHelper.prototype.updateCompositionElements = function (dontRecurse) {\n        var _this = this;\n        if (!this._isComposing) {\n            return;\n        }\n        if (this._terminal.buffer.isCursorInViewport) {\n            var cellHeight = Math.ceil(this._terminal.charMeasure.height * this._terminal.options.lineHeight);\n            var cursorTop = this._terminal.buffer.y * cellHeight;\n            var cursorLeft = this._terminal.buffer.x * this._terminal.charMeasure.width;\n            this._compositionView.style.left = cursorLeft + 'px';\n            this._compositionView.style.top = cursorTop + 'px';\n            this._compositionView.style.height = cellHeight + 'px';\n            this._compositionView.style.lineHeight = cellHeight + 'px';\n            var compositionViewBounds = this._compositionView.getBoundingClientRect();\n            this._textarea.style.left = cursorLeft + 'px';\n            this._textarea.style.top = cursorTop + 'px';\n            this._textarea.style.width = compositionViewBounds.width + 'px';\n            this._textarea.style.height = compositionViewBounds.height + 'px';\n            this._textarea.style.lineHeight = compositionViewBounds.height + 'px';\n        }\n        if (!dontRecurse) {\n            setTimeout(function () { return _this.updateCompositionElements(true); }, 0);\n        }\n    };\n    CompositionHelper.prototype._clearTextareaPosition = function () {\n        this._textarea.style.left = '';\n        this._textarea.style.top = '';\n    };\n    return CompositionHelper;\n}());\nexports.CompositionHelper = CompositionHelper;\n//# sourceMappingURL=CompositionHelper.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TypedArrayUtils_1 = require(\"./common/TypedArrayUtils\");\nexports.wcwidth = (function (opts) {\n    var COMBINING_BMP = [\n        [0x0300, 0x036F], [0x0483, 0x0486], [0x0488, 0x0489],\n        [0x0591, 0x05BD], [0x05BF, 0x05BF], [0x05C1, 0x05C2],\n        [0x05C4, 0x05C5], [0x05C7, 0x05C7], [0x0600, 0x0603],\n        [0x0610, 0x0615], [0x064B, 0x065E], [0x0670, 0x0670],\n        [0x06D6, 0x06E4], [0x06E7, 0x06E8], [0x06EA, 0x06ED],\n        [0x070F, 0x070F], [0x0711, 0x0711], [0x0730, 0x074A],\n        [0x07A6, 0x07B0], [0x07EB, 0x07F3], [0x0901, 0x0902],\n        [0x093C, 0x093C], [0x0941, 0x0948], [0x094D, 0x094D],\n        [0x0951, 0x0954], [0x0962, 0x0963], [0x0981, 0x0981],\n        [0x09BC, 0x09BC], [0x09C1, 0x09C4], [0x09CD, 0x09CD],\n        [0x09E2, 0x09E3], [0x0A01, 0x0A02], [0x0A3C, 0x0A3C],\n        [0x0A41, 0x0A42], [0x0A47, 0x0A48], [0x0A4B, 0x0A4D],\n        [0x0A70, 0x0A71], [0x0A81, 0x0A82], [0x0ABC, 0x0ABC],\n        [0x0AC1, 0x0AC5], [0x0AC7, 0x0AC8], [0x0ACD, 0x0ACD],\n        [0x0AE2, 0x0AE3], [0x0B01, 0x0B01], [0x0B3C, 0x0B3C],\n        [0x0B3F, 0x0B3F], [0x0B41, 0x0B43], [0x0B4D, 0x0B4D],\n        [0x0B56, 0x0B56], [0x0B82, 0x0B82], [0x0BC0, 0x0BC0],\n        [0x0BCD, 0x0BCD], [0x0C3E, 0x0C40], [0x0C46, 0x0C48],\n        [0x0C4A, 0x0C4D], [0x0C55, 0x0C56], [0x0CBC, 0x0CBC],\n        [0x0CBF, 0x0CBF], [0x0CC6, 0x0CC6], [0x0CCC, 0x0CCD],\n        [0x0CE2, 0x0CE3], [0x0D41, 0x0D43], [0x0D4D, 0x0D4D],\n        [0x0DCA, 0x0DCA], [0x0DD2, 0x0DD4], [0x0DD6, 0x0DD6],\n        [0x0E31, 0x0E31], [0x0E34, 0x0E3A], [0x0E47, 0x0E4E],\n        [0x0EB1, 0x0EB1], [0x0EB4, 0x0EB9], [0x0EBB, 0x0EBC],\n        [0x0EC8, 0x0ECD], [0x0F18, 0x0F19], [0x0F35, 0x0F35],\n        [0x0F37, 0x0F37], [0x0F39, 0x0F39], [0x0F71, 0x0F7E],\n        [0x0F80, 0x0F84], [0x0F86, 0x0F87], [0x0F90, 0x0F97],\n        [0x0F99, 0x0FBC], [0x0FC6, 0x0FC6], [0x102D, 0x1030],\n        [0x1032, 0x1032], [0x1036, 0x1037], [0x1039, 0x1039],\n        [0x1058, 0x1059], [0x1160, 0x11FF], [0x135F, 0x135F],\n        [0x1712, 0x1714], [0x1732, 0x1734], [0x1752, 0x1753],\n        [0x1772, 0x1773], [0x17B4, 0x17B5], [0x17B7, 0x17BD],\n        [0x17C6, 0x17C6], [0x17C9, 0x17D3], [0x17DD, 0x17DD],\n        [0x180B, 0x180D], [0x18A9, 0x18A9], [0x1920, 0x1922],\n        [0x1927, 0x1928], [0x1932, 0x1932], [0x1939, 0x193B],\n        [0x1A17, 0x1A18], [0x1B00, 0x1B03], [0x1B34, 0x1B34],\n        [0x1B36, 0x1B3A], [0x1B3C, 0x1B3C], [0x1B42, 0x1B42],\n        [0x1B6B, 0x1B73], [0x1DC0, 0x1DCA], [0x1DFE, 0x1DFF],\n        [0x200B, 0x200F], [0x202A, 0x202E], [0x2060, 0x2063],\n        [0x206A, 0x206F], [0x20D0, 0x20EF], [0x302A, 0x302F],\n        [0x3099, 0x309A], [0xA806, 0xA806], [0xA80B, 0xA80B],\n        [0xA825, 0xA826], [0xFB1E, 0xFB1E], [0xFE00, 0xFE0F],\n        [0xFE20, 0xFE23], [0xFEFF, 0xFEFF], [0xFFF9, 0xFFFB]\n    ];\n    var COMBINING_HIGH = [\n        [0x10A01, 0x10A03], [0x10A05, 0x10A06], [0x10A0C, 0x10A0F],\n        [0x10A38, 0x10A3A], [0x10A3F, 0x10A3F], [0x1D167, 0x1D169],\n        [0x1D173, 0x1D182], [0x1D185, 0x1D18B], [0x1D1AA, 0x1D1AD],\n        [0x1D242, 0x1D244], [0xE0001, 0xE0001], [0xE0020, 0xE007F],\n        [0xE0100, 0xE01EF]\n    ];\n    function bisearch(ucs, data) {\n        var min = 0;\n        var max = data.length - 1;\n        var mid;\n        if (ucs < data[0][0] || ucs > data[max][1]) {\n            return false;\n        }\n        while (max >= min) {\n            mid = (min + max) >> 1;\n            if (ucs > data[mid][1]) {\n                min = mid + 1;\n            }\n            else if (ucs < data[mid][0]) {\n                max = mid - 1;\n            }\n            else {\n                return true;\n            }\n        }\n        return false;\n    }\n    function wcwidthHigh(ucs) {\n        if (bisearch(ucs, COMBINING_HIGH)) {\n            return 0;\n        }\n        if ((ucs >= 0x20000 && ucs <= 0x2fffd) || (ucs >= 0x30000 && ucs <= 0x3fffd)) {\n            return 2;\n        }\n        return 1;\n    }\n    var control = opts.control | 0;\n    var table = new Uint8Array(65536);\n    TypedArrayUtils_1.fill(table, 1);\n    table[0] = opts.nul;\n    TypedArrayUtils_1.fill(table, opts.control, 1, 32);\n    TypedArrayUtils_1.fill(table, opts.control, 0x7f, 0xa0);\n    TypedArrayUtils_1.fill(table, 2, 0x1100, 0x1160);\n    table[0x2329] = 2;\n    table[0x232a] = 2;\n    TypedArrayUtils_1.fill(table, 2, 0x2e80, 0xa4d0);\n    table[0x303f] = 1;\n    TypedArrayUtils_1.fill(table, 2, 0xac00, 0xd7a4);\n    TypedArrayUtils_1.fill(table, 2, 0xf900, 0xfb00);\n    TypedArrayUtils_1.fill(table, 2, 0xfe10, 0xfe1a);\n    TypedArrayUtils_1.fill(table, 2, 0xfe30, 0xfe70);\n    TypedArrayUtils_1.fill(table, 2, 0xff00, 0xff61);\n    TypedArrayUtils_1.fill(table, 2, 0xffe0, 0xffe7);\n    for (var r = 0; r < COMBINING_BMP.length; ++r) {\n        TypedArrayUtils_1.fill(table, 0, COMBINING_BMP[r][0], COMBINING_BMP[r][1] + 1);\n    }\n    return function (num) {\n        if (num < 32) {\n            return control | 0;\n        }\n        if (num < 127) {\n            return 1;\n        }\n        if (num < 65536) {\n            return table[num];\n        }\n        return wcwidthHigh(num);\n    };\n})({ nul: 0, control: 0 });\nfunction getStringCellWidth(s) {\n    var result = 0;\n    var length = s.length;\n    for (var i = 0; i < length; ++i) {\n        var code = s.charCodeAt(i);\n        if (0xD800 <= code && code <= 0xDBFF) {\n            if (++i >= length) {\n                return result + exports.wcwidth(code);\n            }\n            var second = s.charCodeAt(i);\n            if (0xDC00 <= second && second <= 0xDFFF) {\n                code = (code - 0xD800) * 0x400 + second - 0xDC00 + 0x10000;\n            }\n            else {\n                result += exports.wcwidth(second);\n            }\n        }\n        result += exports.wcwidth(code);\n    }\n    return result;\n}\nexports.getStringCellWidth = getStringCellWidth;\n//# sourceMappingURL=CharWidth.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CHARSETS = {};\nexports.DEFAULT_CHARSET = exports.CHARSETS['B'];\nexports.CHARSETS['0'] = {\n    '`': '\\u25c6',\n    'a': '\\u2592',\n    'b': '\\u0009',\n    'c': '\\u000c',\n    'd': '\\u000d',\n    'e': '\\u000a',\n    'f': '\\u00b0',\n    'g': '\\u00b1',\n    'h': '\\u2424',\n    'i': '\\u000b',\n    'j': '\\u2518',\n    'k': '\\u2510',\n    'l': '\\u250c',\n    'm': '\\u2514',\n    'n': '\\u253c',\n    'o': '\\u23ba',\n    'p': '\\u23bb',\n    'q': '\\u2500',\n    'r': '\\u23bc',\n    's': '\\u23bd',\n    't': '\\u251c',\n    'u': '\\u2524',\n    'v': '\\u2534',\n    'w': '\\u252c',\n    'x': '\\u2502',\n    'y': '\\u2264',\n    'z': '\\u2265',\n    '{': '\\u03c0',\n    '|': '\\u2260',\n    '}': '\\u00a3',\n    '~': '\\u00b7'\n};\nexports.CHARSETS['A'] = {\n    '#': '£'\n};\nexports.CHARSETS['B'] = null;\nexports.CHARSETS['4'] = {\n    '#': '£',\n    '@': '¾',\n    '[': 'ij',\n    '\\\\': '½',\n    ']': '|',\n    '{': '¨',\n    '|': 'f',\n    '}': '¼',\n    '~': '´'\n};\nexports.CHARSETS['C'] =\n    exports.CHARSETS['5'] = {\n        '[': 'Ä',\n        '\\\\': 'Ö',\n        ']': 'Å',\n        '^': 'Ü',\n        '`': 'é',\n        '{': 'ä',\n        '|': 'ö',\n        '}': 'å',\n        '~': 'ü'\n    };\nexports.CHARSETS['R'] = {\n    '#': '£',\n    '@': 'à',\n    '[': '°',\n    '\\\\': 'ç',\n    ']': '§',\n    '{': 'é',\n    '|': 'ù',\n    '}': 'è',\n    '~': '¨'\n};\nexports.CHARSETS['Q'] = {\n    '@': 'à',\n    '[': 'â',\n    '\\\\': 'ç',\n    ']': 'ê',\n    '^': 'î',\n    '`': 'ô',\n    '{': 'é',\n    '|': 'ù',\n    '}': 'è',\n    '~': 'û'\n};\nexports.CHARSETS['K'] = {\n    '@': '§',\n    '[': 'Ä',\n    '\\\\': 'Ö',\n    ']': 'Ü',\n    '{': 'ä',\n    '|': 'ö',\n    '}': 'ü',\n    '~': 'ß'\n};\nexports.CHARSETS['Y'] = {\n    '#': '£',\n    '@': '§',\n    '[': '°',\n    '\\\\': 'ç',\n    ']': 'é',\n    '`': 'ù',\n    '{': 'à',\n    '|': 'ò',\n    '}': 'è',\n    '~': 'ì'\n};\nexports.CHARSETS['E'] =\n    exports.CHARSETS['6'] = {\n        '@': 'Ä',\n        '[': 'Æ',\n        '\\\\': 'Ø',\n        ']': 'Å',\n        '^': 'Ü',\n        '`': 'ä',\n        '{': 'æ',\n        '|': 'ø',\n        '}': 'å',\n        '~': 'ü'\n    };\nexports.CHARSETS['Z'] = {\n    '#': '£',\n    '@': '§',\n    '[': '¡',\n    '\\\\': 'Ñ',\n    ']': '¿',\n    '{': '°',\n    '|': 'ñ',\n    '}': 'ç'\n};\nexports.CHARSETS['H'] =\n    exports.CHARSETS['7'] = {\n        '@': 'É',\n        '[': 'Ä',\n        '\\\\': 'Ö',\n        ']': 'Å',\n        '^': 'Ü',\n        '`': 'é',\n        '{': 'ä',\n        '|': 'ö',\n        '}': 'å',\n        '~': 'ü'\n    };\nexports.CHARSETS['='] = {\n    '#': 'ù',\n    '@': 'à',\n    '[': 'é',\n    '\\\\': 'ç',\n    ']': 'ê',\n    '^': 'î',\n    '_': 'è',\n    '`': 'ô',\n    '{': 'ä',\n    '|': 'ö',\n    '}': 'ü',\n    '~': 'û'\n};\n//# sourceMappingURL=Charsets.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BufferSet_1 = require(\"./BufferSet\");\nvar Buffer_1 = require(\"./Buffer\");\nvar CompositionHelper_1 = require(\"./CompositionHelper\");\nvar EventEmitter_1 = require(\"./common/EventEmitter\");\nvar Viewport_1 = require(\"./Viewport\");\nvar Clipboard_1 = require(\"./ui/Clipboard\");\nvar EscapeSequences_1 = require(\"./common/data/EscapeSequences\");\nvar InputHandler_1 = require(\"./InputHandler\");\nvar Renderer_1 = require(\"./renderer/Renderer\");\nvar Linkifier_1 = require(\"./Linkifier\");\nvar SelectionManager_1 = require(\"./SelectionManager\");\nvar CharMeasure_1 = require(\"./ui/CharMeasure\");\nvar Browser = require(\"./core/Platform\");\nvar Lifecycle_1 = require(\"./ui/Lifecycle\");\nvar Strings = require(\"./Strings\");\nvar MouseHelper_1 = require(\"./utils/MouseHelper\");\nvar Clone_1 = require(\"./utils/Clone\");\nvar SoundManager_1 = require(\"./SoundManager\");\nvar ColorManager_1 = require(\"./renderer/ColorManager\");\nvar MouseZoneManager_1 = require(\"./ui/MouseZoneManager\");\nvar AccessibilityManager_1 = require(\"./AccessibilityManager\");\nvar ScreenDprMonitor_1 = require(\"./ui/ScreenDprMonitor\");\nvar CharAtlasCache_1 = require(\"./renderer/atlas/CharAtlasCache\");\nvar DomRenderer_1 = require(\"./renderer/dom/DomRenderer\");\nvar Keyboard_1 = require(\"./core/input/Keyboard\");\nvar document = (typeof window !== 'undefined') ? window.document : null;\nvar WRITE_BUFFER_PAUSE_THRESHOLD = 5;\nvar WRITE_BATCH_SIZE = 300;\nvar CONSTRUCTOR_ONLY_OPTIONS = ['cols', 'rows'];\nvar DEFAULT_OPTIONS = {\n    cols: 80,\n    rows: 24,\n    convertEol: false,\n    termName: 'xterm',\n    cursorBlink: false,\n    cursorStyle: 'block',\n    bellSound: SoundManager_1.DEFAULT_BELL_SOUND,\n    bellStyle: 'none',\n    drawBoldTextInBrightColors: true,\n    enableBold: true,\n    experimentalCharAtlas: 'static',\n    fontFamily: 'courier-new, courier, monospace',\n    fontSize: 15,\n    fontWeight: 'normal',\n    fontWeightBold: 'bold',\n    lineHeight: 1.0,\n    letterSpacing: 0,\n    scrollback: 1000,\n    screenKeys: false,\n    screenReaderMode: false,\n    debug: false,\n    macOptionIsMeta: false,\n    macOptionClickForcesSelection: false,\n    cancelEvents: false,\n    disableStdin: false,\n    useFlowControl: false,\n    allowTransparency: false,\n    tabStopWidth: 8,\n    theme: null,\n    rightClickSelectsWord: Browser.isMac,\n    rendererType: 'canvas',\n    experimentalBufferLineImpl: 'TypedArray'\n};\nvar Terminal = (function (_super) {\n    __extends(Terminal, _super);\n    function Terminal(options) {\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this) || this;\n        _this.browser = Browser;\n        _this._blankLine = null;\n        _this.options = Clone_1.clone(options);\n        _this._setup();\n        return _this;\n    }\n    Terminal.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this._customKeyEventHandler = null;\n        CharAtlasCache_1.removeTerminalFromCache(this);\n        this.handler = function () { };\n        this.write = function () { };\n        if (this.element && this.element.parentNode) {\n            this.element.parentNode.removeChild(this.element);\n        }\n    };\n    Terminal.prototype.destroy = function () {\n        this.dispose();\n    };\n    Terminal.prototype._setup = function () {\n        var _this = this;\n        Object.keys(DEFAULT_OPTIONS).forEach(function (key) {\n            if (_this.options[key] === null || _this.options[key] === undefined) {\n                _this.options[key] = DEFAULT_OPTIONS[key];\n            }\n        });\n        this._parent = document ? document.body : null;\n        this.cols = this.options.cols;\n        this.rows = this.options.rows;\n        if (this.options.handler) {\n            this.on('data', this.options.handler);\n        }\n        this.cursorState = 0;\n        this.cursorHidden = false;\n        this._customKeyEventHandler = null;\n        this.applicationKeypad = false;\n        this.applicationCursor = false;\n        this.originMode = false;\n        this.insertMode = false;\n        this.wraparoundMode = true;\n        this.bracketedPasteMode = false;\n        this.charset = null;\n        this.gcharset = null;\n        this.glevel = 0;\n        this.charsets = [null];\n        this.curAttr = Buffer_1.DEFAULT_ATTR;\n        this.params = [];\n        this.currentParam = 0;\n        this.writeBuffer = [];\n        this._writeInProgress = false;\n        this._xoffSentToCatchUp = false;\n        this._userScrolling = false;\n        this._inputHandler = new InputHandler_1.InputHandler(this);\n        this.register(this._inputHandler);\n        this.renderer = this.renderer || null;\n        this.selectionManager = this.selectionManager || null;\n        this.linkifier = this.linkifier || new Linkifier_1.Linkifier(this);\n        this._mouseZoneManager = this._mouseZoneManager || null;\n        this.soundManager = this.soundManager || new SoundManager_1.SoundManager(this);\n        this.buffers = new BufferSet_1.BufferSet(this);\n        if (this.selectionManager) {\n            this.selectionManager.clearSelection();\n            this.selectionManager.initBuffersListeners();\n        }\n    };\n    Object.defineProperty(Terminal.prototype, \"buffer\", {\n        get: function () {\n            return this.buffers.active;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Terminal.prototype.eraseAttr = function () {\n        return (Buffer_1.DEFAULT_ATTR & ~0x1ff) | (this.curAttr & 0x1ff);\n    };\n    Terminal.prototype.focus = function () {\n        if (this.textarea) {\n            this.textarea.focus();\n        }\n    };\n    Object.defineProperty(Terminal.prototype, \"isFocused\", {\n        get: function () {\n            return document.activeElement === this.textarea && document.hasFocus();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Terminal.prototype.getOption = function (key) {\n        if (!(key in DEFAULT_OPTIONS)) {\n            throw new Error('No option with key \"' + key + '\"');\n        }\n        return this.options[key];\n    };\n    Terminal.prototype.setOption = function (key, value) {\n        if (!(key in DEFAULT_OPTIONS)) {\n            throw new Error('No option with key \"' + key + '\"');\n        }\n        if (CONSTRUCTOR_ONLY_OPTIONS.indexOf(key) !== -1) {\n            console.error(\"Option \\\"\" + key + \"\\\" can only be set in the constructor\");\n        }\n        if (this.options[key] === value) {\n            return;\n        }\n        switch (key) {\n            case 'bellStyle':\n                if (!value) {\n                    value = 'none';\n                }\n                break;\n            case 'cursorStyle':\n                if (!value) {\n                    value = 'block';\n                }\n                break;\n            case 'fontWeight':\n                if (!value) {\n                    value = 'normal';\n                }\n                break;\n            case 'fontWeightBold':\n                if (!value) {\n                    value = 'bold';\n                }\n                break;\n            case 'lineHeight':\n                if (value < 1) {\n                    console.warn(key + \" cannot be less than 1, value: \" + value);\n                    return;\n                }\n            case 'rendererType':\n                if (!value) {\n                    value = 'canvas';\n                }\n                break;\n            case 'tabStopWidth':\n                if (value < 1) {\n                    console.warn(key + \" cannot be less than 1, value: \" + value);\n                    return;\n                }\n                break;\n            case 'theme':\n                if (this.renderer) {\n                    this._setTheme(value);\n                    return;\n                }\n                break;\n            case 'scrollback':\n                value = Math.min(value, Buffer_1.MAX_BUFFER_SIZE);\n                if (value < 0) {\n                    console.warn(key + \" cannot be less than 0, value: \" + value);\n                    return;\n                }\n                if (this.options[key] !== value) {\n                    var newBufferLength = this.rows + value;\n                    if (this.buffer.lines.length > newBufferLength) {\n                        var amountToTrim = this.buffer.lines.length - newBufferLength;\n                        var needsRefresh = (this.buffer.ydisp - amountToTrim < 0);\n                        this.buffer.lines.trimStart(amountToTrim);\n                        this.buffer.ybase = Math.max(this.buffer.ybase - amountToTrim, 0);\n                        this.buffer.ydisp = Math.max(this.buffer.ydisp - amountToTrim, 0);\n                        if (needsRefresh) {\n                            this.refresh(0, this.rows - 1);\n                        }\n                    }\n                }\n                break;\n        }\n        this.options[key] = value;\n        switch (key) {\n            case 'fontFamily':\n            case 'fontSize':\n                if (this.renderer) {\n                    this.renderer.clear();\n                    this.charMeasure.measure(this.options);\n                }\n                break;\n            case 'drawBoldTextInBrightColors':\n            case 'experimentalCharAtlas':\n            case 'enableBold':\n            case 'letterSpacing':\n            case 'lineHeight':\n            case 'fontWeight':\n            case 'fontWeightBold':\n                if (this.renderer) {\n                    this.renderer.clear();\n                    this.renderer.onResize(this.cols, this.rows);\n                    this.refresh(0, this.rows - 1);\n                }\n            case 'rendererType':\n                if (this.renderer) {\n                    this.unregister(this.renderer);\n                    this.renderer.dispose();\n                    this.renderer = null;\n                }\n                this._setupRenderer();\n                this.renderer.onCharSizeChanged();\n                if (this._theme) {\n                    this.renderer.setTheme(this._theme);\n                }\n                this.mouseHelper.setRenderer(this.renderer);\n                break;\n            case 'scrollback':\n                this.buffers.resize(this.cols, this.rows);\n                if (this.viewport) {\n                    this.viewport.syncScrollArea();\n                }\n                break;\n            case 'screenReaderMode':\n                if (value) {\n                    if (!this._accessibilityManager) {\n                        this._accessibilityManager = new AccessibilityManager_1.AccessibilityManager(this);\n                    }\n                }\n                else {\n                    if (this._accessibilityManager) {\n                        this._accessibilityManager.dispose();\n                        this._accessibilityManager = null;\n                    }\n                }\n                break;\n            case 'tabStopWidth':\n                this.buffers.setupTabStops();\n                break;\n            case 'experimentalBufferLineImpl':\n                this.buffers.normal.setBufferLineFactory(value);\n                this.buffers.alt.setBufferLineFactory(value);\n                this._blankLine = null;\n                break;\n        }\n        if (this.renderer) {\n            this.renderer.onOptionsChanged();\n        }\n    };\n    Terminal.prototype._onTextAreaFocus = function (ev) {\n        if (this.sendFocus) {\n            this.handler(EscapeSequences_1.C0.ESC + '[I');\n        }\n        this.updateCursorStyle(ev);\n        this.element.classList.add('focus');\n        this.showCursor();\n        this.emit('focus');\n    };\n    Terminal.prototype.blur = function () {\n        return this.textarea.blur();\n    };\n    Terminal.prototype._onTextAreaBlur = function () {\n        this.textarea.value = '';\n        this.refresh(this.buffer.y, this.buffer.y);\n        if (this.sendFocus) {\n            this.handler(EscapeSequences_1.C0.ESC + '[O');\n        }\n        this.element.classList.remove('focus');\n        this.emit('blur');\n    };\n    Terminal.prototype._initGlobal = function () {\n        var _this = this;\n        this._bindKeys();\n        this.register(Lifecycle_1.addDisposableDomListener(this.element, 'copy', function (event) {\n            if (!_this.hasSelection()) {\n                return;\n            }\n            Clipboard_1.copyHandler(event, _this, _this.selectionManager);\n        }));\n        var pasteHandlerWrapper = function (event) { return Clipboard_1.pasteHandler(event, _this); };\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'paste', pasteHandlerWrapper));\n        this.register(Lifecycle_1.addDisposableDomListener(this.element, 'paste', pasteHandlerWrapper));\n        if (Browser.isFirefox) {\n            this.register(Lifecycle_1.addDisposableDomListener(this.element, 'mousedown', function (event) {\n                if (event.button === 2) {\n                    Clipboard_1.rightClickHandler(event, _this.textarea, _this.selectionManager, _this.options.rightClickSelectsWord);\n                }\n            }));\n        }\n        else {\n            this.register(Lifecycle_1.addDisposableDomListener(this.element, 'contextmenu', function (event) {\n                Clipboard_1.rightClickHandler(event, _this.textarea, _this.selectionManager, _this.options.rightClickSelectsWord);\n            }));\n        }\n        if (Browser.isLinux) {\n            this.register(Lifecycle_1.addDisposableDomListener(this.element, 'auxclick', function (event) {\n                if (event.button === 1) {\n                    Clipboard_1.moveTextAreaUnderMouseCursor(event, _this.textarea);\n                }\n            }));\n        }\n    };\n    Terminal.prototype._bindKeys = function () {\n        var _this = this;\n        var self = this;\n        this.register(Lifecycle_1.addDisposableDomListener(this.element, 'keydown', function (ev) {\n            if (document.activeElement !== this) {\n                return;\n            }\n            self._keyDown(ev);\n        }, true));\n        this.register(Lifecycle_1.addDisposableDomListener(this.element, 'keypress', function (ev) {\n            if (document.activeElement !== this) {\n                return;\n            }\n            self._keyPress(ev);\n        }, true));\n        this.register(Lifecycle_1.addDisposableDomListener(this.element, 'keyup', function (ev) {\n            if (!wasModifierKeyOnlyEvent(ev)) {\n                _this.focus();\n            }\n            self._keyUp(ev);\n        }, true));\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'keydown', function (ev) { return _this._keyDown(ev); }, true));\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'keypress', function (ev) { return _this._keyPress(ev); }, true));\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'compositionstart', function () { return _this._compositionHelper.compositionstart(); }));\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'compositionupdate', function (e) { return _this._compositionHelper.compositionupdate(e); }));\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'compositionend', function () { return _this._compositionHelper.compositionend(); }));\n        this.register(this.addDisposableListener('refresh', function () { return _this._compositionHelper.updateCompositionElements(); }));\n        this.register(this.addDisposableListener('refresh', function (data) { return _this._queueLinkification(data.start, data.end); }));\n    };\n    Terminal.prototype.open = function (parent) {\n        var _this = this;\n        this._parent = parent || this._parent;\n        if (!this._parent) {\n            throw new Error('Terminal requires a parent element.');\n        }\n        this._context = this._parent.ownerDocument.defaultView;\n        this._document = this._parent.ownerDocument;\n        this._screenDprMonitor = new ScreenDprMonitor_1.ScreenDprMonitor();\n        this._screenDprMonitor.setListener(function () { return _this.emit('dprchange', window.devicePixelRatio); });\n        this.register(this._screenDprMonitor);\n        this.element = this._document.createElement('div');\n        this.element.dir = 'ltr';\n        this.element.classList.add('terminal');\n        this.element.classList.add('xterm');\n        this.element.setAttribute('tabindex', '0');\n        this._parent.appendChild(this.element);\n        var fragment = document.createDocumentFragment();\n        this._viewportElement = document.createElement('div');\n        this._viewportElement.classList.add('xterm-viewport');\n        fragment.appendChild(this._viewportElement);\n        this._viewportScrollArea = document.createElement('div');\n        this._viewportScrollArea.classList.add('xterm-scroll-area');\n        this._viewportElement.appendChild(this._viewportScrollArea);\n        this.screenElement = document.createElement('div');\n        this.screenElement.classList.add('xterm-screen');\n        this._helperContainer = document.createElement('div');\n        this._helperContainer.classList.add('xterm-helpers');\n        this.screenElement.appendChild(this._helperContainer);\n        fragment.appendChild(this.screenElement);\n        this._mouseZoneManager = new MouseZoneManager_1.MouseZoneManager(this);\n        this.register(this._mouseZoneManager);\n        this.register(this.addDisposableListener('scroll', function () { return _this._mouseZoneManager.clearAll(); }));\n        this.linkifier.attachToDom(this._mouseZoneManager);\n        this.textarea = document.createElement('textarea');\n        this.textarea.classList.add('xterm-helper-textarea');\n        this.textarea.setAttribute('aria-label', Strings.promptLabel);\n        this.textarea.setAttribute('aria-multiline', 'false');\n        this.textarea.setAttribute('autocorrect', 'off');\n        this.textarea.setAttribute('autocapitalize', 'off');\n        this.textarea.setAttribute('spellcheck', 'false');\n        this.textarea.tabIndex = 0;\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'focus', function (ev) { return _this._onTextAreaFocus(ev); }));\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'blur', function () { return _this._onTextAreaBlur(); }));\n        this._helperContainer.appendChild(this.textarea);\n        this._compositionView = document.createElement('div');\n        this._compositionView.classList.add('composition-view');\n        this._compositionHelper = new CompositionHelper_1.CompositionHelper(this.textarea, this._compositionView, this);\n        this._helperContainer.appendChild(this._compositionView);\n        this.charMeasure = new CharMeasure_1.CharMeasure(document, this._helperContainer);\n        this.element.appendChild(fragment);\n        this._setupRenderer();\n        this._theme = this.options.theme;\n        this.options.theme = null;\n        this.viewport = new Viewport_1.Viewport(this, this._viewportElement, this._viewportScrollArea, this.charMeasure);\n        this.viewport.onThemeChanged(this.renderer.colorManager.colors);\n        this.register(this.viewport);\n        this.register(this.addDisposableListener('cursormove', function () { return _this.renderer.onCursorMove(); }));\n        this.register(this.addDisposableListener('resize', function () { return _this.renderer.onResize(_this.cols, _this.rows); }));\n        this.register(this.addDisposableListener('blur', function () { return _this.renderer.onBlur(); }));\n        this.register(this.addDisposableListener('focus', function () { return _this.renderer.onFocus(); }));\n        this.register(this.addDisposableListener('dprchange', function () { return _this.renderer.onWindowResize(window.devicePixelRatio); }));\n        this.register(Lifecycle_1.addDisposableDomListener(window, 'resize', function () { return _this.renderer.onWindowResize(window.devicePixelRatio); }));\n        this.register(this.charMeasure.addDisposableListener('charsizechanged', function () { return _this.renderer.onCharSizeChanged(); }));\n        this.register(this.renderer.addDisposableListener('resize', function (dimensions) { return _this.viewport.syncScrollArea(); }));\n        this.selectionManager = new SelectionManager_1.SelectionManager(this, this.charMeasure);\n        this.register(Lifecycle_1.addDisposableDomListener(this.element, 'mousedown', function (e) { return _this.selectionManager.onMouseDown(e); }));\n        this.register(this.selectionManager.addDisposableListener('refresh', function (data) { return _this.renderer.onSelectionChanged(data.start, data.end, data.columnSelectMode); }));\n        this.register(this.selectionManager.addDisposableListener('newselection', function (text) {\n            _this.textarea.value = text;\n            _this.textarea.focus();\n            _this.textarea.select();\n        }));\n        this.register(this.addDisposableListener('scroll', function () {\n            _this.viewport.syncScrollArea();\n            _this.selectionManager.refresh();\n        }));\n        this.register(Lifecycle_1.addDisposableDomListener(this._viewportElement, 'scroll', function () { return _this.selectionManager.refresh(); }));\n        this.mouseHelper = new MouseHelper_1.MouseHelper(this.renderer);\n        if (this.options.screenReaderMode) {\n            this._accessibilityManager = new AccessibilityManager_1.AccessibilityManager(this);\n        }\n        this.charMeasure.measure(this.options);\n        this.refresh(0, this.rows - 1);\n        this._initGlobal();\n        this.bindMouse();\n    };\n    Terminal.prototype._setupRenderer = function () {\n        switch (this.options.rendererType) {\n            case 'canvas':\n                this.renderer = new Renderer_1.Renderer(this, this.options.theme);\n                break;\n            case 'dom':\n                this.renderer = new DomRenderer_1.DomRenderer(this, this.options.theme);\n                break;\n            default: throw new Error(\"Unrecognized rendererType \\\"\" + this.options.rendererType + \"\\\"\");\n        }\n        this.register(this.renderer);\n    };\n    Terminal.prototype._setTheme = function (theme) {\n        this._theme = theme;\n        var colors = this.renderer.setTheme(theme);\n        if (this.viewport) {\n            this.viewport.onThemeChanged(colors);\n        }\n    };\n    Terminal.prototype.bindMouse = function () {\n        var _this = this;\n        var el = this.element;\n        var self = this;\n        var pressed = 32;\n        function sendButton(ev) {\n            var button;\n            var pos;\n            button = getButton(ev);\n            pos = self.mouseHelper.getRawByteCoords(ev, self.screenElement, self.charMeasure, self.cols, self.rows);\n            if (!pos)\n                return;\n            sendEvent(button, pos);\n            switch (ev.overrideType || ev.type) {\n                case 'mousedown':\n                    pressed = button;\n                    break;\n                case 'mouseup':\n                    pressed = 32;\n                    break;\n                case 'wheel':\n                    break;\n            }\n        }\n        function sendMove(ev) {\n            var button = pressed;\n            var pos = self.mouseHelper.getRawByteCoords(ev, self.screenElement, self.charMeasure, self.cols, self.rows);\n            if (!pos)\n                return;\n            button += 32;\n            sendEvent(button, pos);\n        }\n        function encode(data, ch) {\n            if (!self.utfMouse) {\n                if (ch === 255) {\n                    data.push(0);\n                    return;\n                }\n                if (ch > 127)\n                    ch = 127;\n                data.push(ch);\n            }\n            else {\n                if (ch === 2047) {\n                    data.push(0);\n                    return;\n                }\n                if (ch < 127) {\n                    data.push(ch);\n                }\n                else {\n                    if (ch > 2047)\n                        ch = 2047;\n                    data.push(0xC0 | (ch >> 6));\n                    data.push(0x80 | (ch & 0x3F));\n                }\n            }\n        }\n        function sendEvent(button, pos) {\n            if (self._vt300Mouse) {\n                button &= 3;\n                pos.x -= 32;\n                pos.y -= 32;\n                var data_1 = EscapeSequences_1.C0.ESC + '[24';\n                if (button === 0)\n                    data_1 += '1';\n                else if (button === 1)\n                    data_1 += '3';\n                else if (button === 2)\n                    data_1 += '5';\n                else if (button === 3)\n                    return;\n                else\n                    data_1 += '0';\n                data_1 += '~[' + pos.x + ',' + pos.y + ']\\r';\n                self.handler(data_1);\n                return;\n            }\n            if (self._decLocator) {\n                button &= 3;\n                pos.x -= 32;\n                pos.y -= 32;\n                if (button === 0)\n                    button = 2;\n                else if (button === 1)\n                    button = 4;\n                else if (button === 2)\n                    button = 6;\n                else if (button === 3)\n                    button = 3;\n                self.handler(EscapeSequences_1.C0.ESC + '['\n                    + button\n                    + ';'\n                    + (button === 3 ? 4 : 0)\n                    + ';'\n                    + pos.y\n                    + ';'\n                    + pos.x\n                    + ';'\n                    + pos.page || 0\n                    + '&w');\n                return;\n            }\n            if (self.urxvtMouse) {\n                pos.x -= 32;\n                pos.y -= 32;\n                pos.x++;\n                pos.y++;\n                self.handler(EscapeSequences_1.C0.ESC + '[' + button + ';' + pos.x + ';' + pos.y + 'M');\n                return;\n            }\n            if (self.sgrMouse) {\n                pos.x -= 32;\n                pos.y -= 32;\n                self.handler(EscapeSequences_1.C0.ESC + '[<'\n                    + (((button & 3) === 3 ? button & ~3 : button) - 32)\n                    + ';'\n                    + pos.x\n                    + ';'\n                    + pos.y\n                    + ((button & 3) === 3 ? 'm' : 'M'));\n                return;\n            }\n            var data = [];\n            encode(data, button);\n            encode(data, pos.x);\n            encode(data, pos.y);\n            self.handler(EscapeSequences_1.C0.ESC + '[M' + String.fromCharCode.apply(String, data));\n        }\n        function getButton(ev) {\n            var button;\n            var shift;\n            var meta;\n            var ctrl;\n            var mod;\n            switch (ev.overrideType || ev.type) {\n                case 'mousedown':\n                    button = ev.button !== null && ev.button !== undefined\n                        ? +ev.button\n                        : ev.which !== null && ev.which !== undefined\n                            ? ev.which - 1\n                            : null;\n                    if (Browser.isMSIE) {\n                        button = button === 1 ? 0 : button === 4 ? 1 : button;\n                    }\n                    break;\n                case 'mouseup':\n                    button = 3;\n                    break;\n                case 'DOMMouseScroll':\n                    button = ev.detail < 0\n                        ? 64\n                        : 65;\n                    break;\n                case 'wheel':\n                    button = ev.deltaY < 0\n                        ? 64\n                        : 65;\n                    break;\n            }\n            shift = ev.shiftKey ? 4 : 0;\n            meta = ev.metaKey ? 8 : 0;\n            ctrl = ev.ctrlKey ? 16 : 0;\n            mod = shift | meta | ctrl;\n            if (self.vt200Mouse) {\n                mod &= ctrl;\n            }\n            else if (!self.normalMouse) {\n                mod = 0;\n            }\n            button = (32 + (mod << 2)) + button;\n            return button;\n        }\n        this.register(Lifecycle_1.addDisposableDomListener(el, 'mousedown', function (ev) {\n            ev.preventDefault();\n            _this.focus();\n            if (!_this.mouseEvents || _this.selectionManager.shouldForceSelection(ev)) {\n                return;\n            }\n            sendButton(ev);\n            if (_this.vt200Mouse) {\n                ev.overrideType = 'mouseup';\n                sendButton(ev);\n                return _this.cancel(ev);\n            }\n            var moveHandler;\n            if (_this.normalMouse) {\n                moveHandler = function (event) {\n                    if (!_this.normalMouse) {\n                        return;\n                    }\n                    sendMove(event);\n                };\n                _this._document.addEventListener('mousemove', moveHandler);\n            }\n            var handler = function (ev) {\n                if (_this.normalMouse && !_this.x10Mouse) {\n                    sendButton(ev);\n                }\n                if (moveHandler) {\n                    _this._document.removeEventListener('mousemove', moveHandler);\n                    moveHandler = null;\n                }\n                _this._document.removeEventListener('mouseup', handler);\n                return _this.cancel(ev);\n            };\n            _this._document.addEventListener('mouseup', handler);\n            return _this.cancel(ev);\n        }));\n        this.register(Lifecycle_1.addDisposableDomListener(el, 'wheel', function (ev) {\n            if (!_this.mouseEvents) {\n                if (!_this.buffer.hasScrollback) {\n                    var amount = _this.viewport.getLinesScrolled(ev);\n                    if (amount === 0) {\n                        return;\n                    }\n                    var sequence = EscapeSequences_1.C0.ESC + (_this.applicationCursor ? 'O' : '[') + (ev.deltaY < 0 ? 'A' : 'B');\n                    var data = '';\n                    for (var i = 0; i < Math.abs(amount); i++) {\n                        data += sequence;\n                    }\n                    _this.handler(data);\n                }\n                return;\n            }\n            if (_this.x10Mouse || _this._vt300Mouse || _this._decLocator)\n                return;\n            sendButton(ev);\n            ev.preventDefault();\n        }));\n        this.register(Lifecycle_1.addDisposableDomListener(el, 'wheel', function (ev) {\n            if (_this.mouseEvents)\n                return;\n            _this.viewport.onWheel(ev);\n            return _this.cancel(ev);\n        }));\n        this.register(Lifecycle_1.addDisposableDomListener(el, 'touchstart', function (ev) {\n            if (_this.mouseEvents)\n                return;\n            _this.viewport.onTouchStart(ev);\n            return _this.cancel(ev);\n        }));\n        this.register(Lifecycle_1.addDisposableDomListener(el, 'touchmove', function (ev) {\n            if (_this.mouseEvents)\n                return;\n            _this.viewport.onTouchMove(ev);\n            return _this.cancel(ev);\n        }));\n    };\n    Terminal.prototype.refresh = function (start, end) {\n        if (this.renderer) {\n            this.renderer.refreshRows(start, end);\n        }\n    };\n    Terminal.prototype._queueLinkification = function (start, end) {\n        if (this.linkifier) {\n            this.linkifier.linkifyRows(start, end);\n        }\n    };\n    Terminal.prototype.updateCursorStyle = function (ev) {\n        if (this.selectionManager && this.selectionManager.shouldColumnSelect(ev)) {\n            this.element.classList.add('column-select');\n        }\n        else {\n            this.element.classList.remove('column-select');\n        }\n    };\n    Terminal.prototype.showCursor = function () {\n        if (!this.cursorState) {\n            this.cursorState = 1;\n            this.refresh(this.buffer.y, this.buffer.y);\n        }\n    };\n    Terminal.prototype.scroll = function (isWrapped) {\n        if (isWrapped === void 0) { isWrapped = false; }\n        var newLine;\n        var useRecycling = this.options.experimentalBufferLineImpl !== 'JsArray';\n        if (useRecycling) {\n            newLine = this._blankLine;\n            if (!newLine || newLine.length !== this.cols || newLine.get(0)[Buffer_1.CHAR_DATA_ATTR_INDEX] !== this.eraseAttr()) {\n                newLine = this.buffer.getBlankLine(this.eraseAttr(), isWrapped);\n                this._blankLine = newLine;\n            }\n            newLine.isWrapped = isWrapped;\n        }\n        else {\n            newLine = this.buffer.getBlankLine(this.eraseAttr(), isWrapped);\n        }\n        var topRow = this.buffer.ybase + this.buffer.scrollTop;\n        var bottomRow = this.buffer.ybase + this.buffer.scrollBottom;\n        if (this.buffer.scrollTop === 0) {\n            var willBufferBeTrimmed = this.buffer.lines.isFull;\n            if (bottomRow === this.buffer.lines.length - 1) {\n                if (useRecycling) {\n                    if (willBufferBeTrimmed) {\n                        this.buffer.lines.recycle().copyFrom(newLine);\n                    }\n                    else {\n                        this.buffer.lines.push(newLine.clone());\n                    }\n                }\n                else {\n                    this.buffer.lines.push(newLine);\n                }\n            }\n            else {\n                this.buffer.lines.splice(bottomRow + 1, 0, (useRecycling) ? newLine.clone() : newLine);\n            }\n            if (!willBufferBeTrimmed) {\n                this.buffer.ybase++;\n                if (!this._userScrolling) {\n                    this.buffer.ydisp++;\n                }\n            }\n            else {\n                if (this._userScrolling) {\n                    this.buffer.ydisp = Math.max(this.buffer.ydisp - 1, 0);\n                }\n            }\n        }\n        else {\n            var scrollRegionHeight = bottomRow - topRow + 1;\n            this.buffer.lines.shiftElements(topRow + 1, scrollRegionHeight - 1, -1);\n            this.buffer.lines.set(bottomRow, (useRecycling) ? newLine.clone() : newLine);\n        }\n        if (!this._userScrolling) {\n            this.buffer.ydisp = this.buffer.ybase;\n        }\n        this.updateRange(this.buffer.scrollTop);\n        this.updateRange(this.buffer.scrollBottom);\n        this.emit('scroll', this.buffer.ydisp);\n    };\n    Terminal.prototype.scrollLines = function (disp, suppressScrollEvent) {\n        if (disp < 0) {\n            if (this.buffer.ydisp === 0) {\n                return;\n            }\n            this._userScrolling = true;\n        }\n        else if (disp + this.buffer.ydisp >= this.buffer.ybase) {\n            this._userScrolling = false;\n        }\n        var oldYdisp = this.buffer.ydisp;\n        this.buffer.ydisp = Math.max(Math.min(this.buffer.ydisp + disp, this.buffer.ybase), 0);\n        if (oldYdisp === this.buffer.ydisp) {\n            return;\n        }\n        if (!suppressScrollEvent) {\n            this.emit('scroll', this.buffer.ydisp);\n        }\n        this.refresh(0, this.rows - 1);\n    };\n    Terminal.prototype.scrollPages = function (pageCount) {\n        this.scrollLines(pageCount * (this.rows - 1));\n    };\n    Terminal.prototype.scrollToTop = function () {\n        this.scrollLines(-this.buffer.ydisp);\n    };\n    Terminal.prototype.scrollToBottom = function () {\n        this.scrollLines(this.buffer.ybase - this.buffer.ydisp);\n    };\n    Terminal.prototype.scrollToLine = function (line) {\n        var scrollAmount = line - this.buffer.ydisp;\n        if (scrollAmount !== 0) {\n            this.scrollLines(scrollAmount);\n        }\n    };\n    Terminal.prototype.write = function (data) {\n        var _this = this;\n        if (this._isDisposed) {\n            return;\n        }\n        if (!data) {\n            return;\n        }\n        this.writeBuffer.push(data);\n        if (this.options.useFlowControl && !this._xoffSentToCatchUp && this.writeBuffer.length >= WRITE_BUFFER_PAUSE_THRESHOLD) {\n            this.handler(EscapeSequences_1.C0.DC3);\n            this._xoffSentToCatchUp = true;\n        }\n        if (!this._writeInProgress && this.writeBuffer.length > 0) {\n            this._writeInProgress = true;\n            setTimeout(function () {\n                _this._innerWrite();\n            });\n        }\n    };\n    Terminal.prototype._innerWrite = function () {\n        var _this = this;\n        if (this._isDisposed) {\n            this.writeBuffer = [];\n        }\n        var writeBatch = this.writeBuffer.splice(0, WRITE_BATCH_SIZE);\n        while (writeBatch.length > 0) {\n            var data = writeBatch.shift();\n            if (this._xoffSentToCatchUp && writeBatch.length === 0 && this.writeBuffer.length === 0) {\n                this.handler(EscapeSequences_1.C0.DC1);\n                this._xoffSentToCatchUp = false;\n            }\n            this._refreshStart = this.buffer.y;\n            this._refreshEnd = this.buffer.y;\n            this._inputHandler.parse(data);\n            this.updateRange(this.buffer.y);\n            this.refresh(this._refreshStart, this._refreshEnd);\n        }\n        if (this.writeBuffer.length > 0) {\n            setTimeout(function () { return _this._innerWrite(); }, 0);\n        }\n        else {\n            this._writeInProgress = false;\n        }\n    };\n    Terminal.prototype.writeln = function (data) {\n        this.write(data + '\\r\\n');\n    };\n    Terminal.prototype.attachCustomKeyEventHandler = function (customKeyEventHandler) {\n        this._customKeyEventHandler = customKeyEventHandler;\n    };\n    Terminal.prototype.registerLinkMatcher = function (regex, handler, options) {\n        var matcherId = this.linkifier.registerLinkMatcher(regex, handler, options);\n        this.refresh(0, this.rows - 1);\n        return matcherId;\n    };\n    Terminal.prototype.deregisterLinkMatcher = function (matcherId) {\n        if (this.linkifier.deregisterLinkMatcher(matcherId)) {\n            this.refresh(0, this.rows - 1);\n        }\n    };\n    Terminal.prototype.registerCharacterJoiner = function (handler) {\n        var joinerId = this.renderer.registerCharacterJoiner(handler);\n        this.refresh(0, this.rows - 1);\n        return joinerId;\n    };\n    Terminal.prototype.deregisterCharacterJoiner = function (joinerId) {\n        if (this.renderer.deregisterCharacterJoiner(joinerId)) {\n            this.refresh(0, this.rows - 1);\n        }\n    };\n    Object.defineProperty(Terminal.prototype, \"markers\", {\n        get: function () {\n            return this.buffer.markers;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Terminal.prototype.addMarker = function (cursorYOffset) {\n        if (this.buffer !== this.buffers.normal) {\n            return;\n        }\n        return this.buffer.addMarker(this.buffer.ybase + this.buffer.y + cursorYOffset);\n    };\n    Terminal.prototype.hasSelection = function () {\n        return this.selectionManager ? this.selectionManager.hasSelection : false;\n    };\n    Terminal.prototype.getSelection = function () {\n        return this.selectionManager ? this.selectionManager.selectionText : '';\n    };\n    Terminal.prototype.clearSelection = function () {\n        if (this.selectionManager) {\n            this.selectionManager.clearSelection();\n        }\n    };\n    Terminal.prototype.selectAll = function () {\n        if (this.selectionManager) {\n            this.selectionManager.selectAll();\n        }\n    };\n    Terminal.prototype.selectLines = function (start, end) {\n        if (this.selectionManager) {\n            this.selectionManager.selectLines(start, end);\n        }\n    };\n    Terminal.prototype._keyDown = function (event) {\n        if (this._customKeyEventHandler && this._customKeyEventHandler(event) === false) {\n            return false;\n        }\n        if (!this._compositionHelper.keydown(event)) {\n            if (this.buffer.ybase !== this.buffer.ydisp) {\n                this.scrollToBottom();\n            }\n            return false;\n        }\n        var result = Keyboard_1.evaluateKeyboardEvent(event, this.applicationCursor, this.browser.isMac, this.options.macOptionIsMeta);\n        this.updateCursorStyle(event);\n        if (result.type === 3 || result.type === 2) {\n            var scrollCount = this.rows - 1;\n            this.scrollLines(result.type === 2 ? -scrollCount : scrollCount);\n            return this.cancel(event, true);\n        }\n        if (result.type === 1) {\n            this.selectAll();\n        }\n        if (this._isThirdLevelShift(this.browser, event)) {\n            return true;\n        }\n        if (result.cancel) {\n            this.cancel(event, true);\n        }\n        if (!result.key) {\n            return true;\n        }\n        this.emit('keydown', event);\n        this.emit('key', result.key, event);\n        this.showCursor();\n        this.handler(result.key);\n        return this.cancel(event, true);\n    };\n    Terminal.prototype._isThirdLevelShift = function (browser, ev) {\n        var thirdLevelKey = (browser.isMac && !this.options.macOptionIsMeta && ev.altKey && !ev.ctrlKey && !ev.metaKey) ||\n            (browser.isMSWindows && ev.altKey && ev.ctrlKey && !ev.metaKey);\n        if (ev.type === 'keypress') {\n            return thirdLevelKey;\n        }\n        return thirdLevelKey && (!ev.keyCode || ev.keyCode > 47);\n    };\n    Terminal.prototype.setgLevel = function (g) {\n        this.glevel = g;\n        this.charset = this.charsets[g];\n    };\n    Terminal.prototype.setgCharset = function (g, charset) {\n        this.charsets[g] = charset;\n        if (this.glevel === g) {\n            this.charset = charset;\n        }\n    };\n    Terminal.prototype._keyUp = function (ev) {\n        this.updateCursorStyle(ev);\n    };\n    Terminal.prototype._keyPress = function (ev) {\n        var key;\n        if (this._customKeyEventHandler && this._customKeyEventHandler(ev) === false) {\n            return false;\n        }\n        this.cancel(ev);\n        if (ev.charCode) {\n            key = ev.charCode;\n        }\n        else if (ev.which === null || ev.which === undefined) {\n            key = ev.keyCode;\n        }\n        else if (ev.which !== 0 && ev.charCode !== 0) {\n            key = ev.which;\n        }\n        else {\n            return false;\n        }\n        if (!key || ((ev.altKey || ev.ctrlKey || ev.metaKey) && !this._isThirdLevelShift(this.browser, ev))) {\n            return false;\n        }\n        key = String.fromCharCode(key);\n        this.emit('keypress', key, ev);\n        this.emit('key', key, ev);\n        this.showCursor();\n        this.handler(key);\n        return true;\n    };\n    Terminal.prototype.bell = function () {\n        var _this = this;\n        this.emit('bell');\n        if (this._soundBell()) {\n            this.soundManager.playBellSound();\n        }\n        if (this._visualBell()) {\n            this.element.classList.add('visual-bell-active');\n            clearTimeout(this._visualBellTimer);\n            this._visualBellTimer = window.setTimeout(function () {\n                _this.element.classList.remove('visual-bell-active');\n            }, 200);\n        }\n    };\n    Terminal.prototype.log = function (text, data) {\n        if (!this.options.debug)\n            return;\n        if (!this._context.console || !this._context.console.log)\n            return;\n        this._context.console.log(text, data);\n    };\n    Terminal.prototype.error = function (text, data) {\n        if (!this.options.debug)\n            return;\n        if (!this._context.console || !this._context.console.error)\n            return;\n        this._context.console.error(text, data);\n    };\n    Terminal.prototype.resize = function (x, y) {\n        if (isNaN(x) || isNaN(y)) {\n            return;\n        }\n        if (x === this.cols && y === this.rows) {\n            if (this.charMeasure && (!this.charMeasure.width || !this.charMeasure.height)) {\n                this.charMeasure.measure(this.options);\n            }\n            return;\n        }\n        if (x < 1)\n            x = 1;\n        if (y < 1)\n            y = 1;\n        this.buffers.resize(x, y);\n        this.cols = x;\n        this.rows = y;\n        this.buffers.setupTabStops(this.cols);\n        if (this.charMeasure) {\n            this.charMeasure.measure(this.options);\n        }\n        this.refresh(0, this.rows - 1);\n        this.emit('resize', { cols: x, rows: y });\n    };\n    Terminal.prototype.updateRange = function (y) {\n        if (y < this._refreshStart)\n            this._refreshStart = y;\n        if (y > this._refreshEnd)\n            this._refreshEnd = y;\n    };\n    Terminal.prototype.maxRange = function () {\n        this._refreshStart = 0;\n        this._refreshEnd = this.rows - 1;\n    };\n    Terminal.prototype.clear = function () {\n        if (this.buffer.ybase === 0 && this.buffer.y === 0) {\n            return;\n        }\n        this.buffer.lines.set(0, this.buffer.lines.get(this.buffer.ybase + this.buffer.y));\n        this.buffer.lines.length = 1;\n        this.buffer.ydisp = 0;\n        this.buffer.ybase = 0;\n        this.buffer.y = 0;\n        for (var i = 1; i < this.rows; i++) {\n            this.buffer.lines.push(this.buffer.getBlankLine(Buffer_1.DEFAULT_ATTR));\n        }\n        this.refresh(0, this.rows - 1);\n        this.emit('scroll', this.buffer.ydisp);\n    };\n    Terminal.prototype.ch = function (cur) {\n        if (cur) {\n            return [this.eraseAttr(), Buffer_1.NULL_CELL_CHAR, Buffer_1.NULL_CELL_WIDTH, Buffer_1.NULL_CELL_CODE];\n        }\n        return [Buffer_1.DEFAULT_ATTR, Buffer_1.NULL_CELL_CHAR, Buffer_1.NULL_CELL_WIDTH, Buffer_1.NULL_CELL_CODE];\n    };\n    Terminal.prototype.is = function (term) {\n        return (this.options.termName + '').indexOf(term) === 0;\n    };\n    Terminal.prototype.handler = function (data) {\n        if (this.options.disableStdin) {\n            return;\n        }\n        if (this.selectionManager && this.selectionManager.hasSelection) {\n            this.selectionManager.clearSelection();\n        }\n        if (this.buffer.ybase !== this.buffer.ydisp) {\n            this.scrollToBottom();\n        }\n        this.emit('data', data);\n    };\n    Terminal.prototype.handleTitle = function (title) {\n        this.emit('title', title);\n    };\n    Terminal.prototype.index = function () {\n        this.buffer.y++;\n        if (this.buffer.y > this.buffer.scrollBottom) {\n            this.buffer.y--;\n            this.scroll();\n        }\n        if (this.buffer.x >= this.cols) {\n            this.buffer.x--;\n        }\n    };\n    Terminal.prototype.reverseIndex = function () {\n        if (this.buffer.y === this.buffer.scrollTop) {\n            var scrollRegionHeight = this.buffer.scrollBottom - this.buffer.scrollTop;\n            this.buffer.lines.shiftElements(this.buffer.y + this.buffer.ybase, scrollRegionHeight, 1);\n            this.buffer.lines.set(this.buffer.y + this.buffer.ybase, this.buffer.getBlankLine(this.eraseAttr()));\n            this.updateRange(this.buffer.scrollTop);\n            this.updateRange(this.buffer.scrollBottom);\n        }\n        else {\n            this.buffer.y--;\n        }\n    };\n    Terminal.prototype.reset = function () {\n        this.options.rows = this.rows;\n        this.options.cols = this.cols;\n        var customKeyEventHandler = this._customKeyEventHandler;\n        var inputHandler = this._inputHandler;\n        var cursorState = this.cursorState;\n        this._setup();\n        this._customKeyEventHandler = customKeyEventHandler;\n        this._inputHandler = inputHandler;\n        this.cursorState = cursorState;\n        this.refresh(0, this.rows - 1);\n        if (this.viewport) {\n            this.viewport.syncScrollArea();\n        }\n    };\n    Terminal.prototype.tabSet = function () {\n        this.buffer.tabs[this.buffer.x] = true;\n    };\n    Terminal.prototype.cancel = function (ev, force) {\n        if (!this.options.cancelEvents && !force) {\n            return;\n        }\n        ev.preventDefault();\n        ev.stopPropagation();\n        return false;\n    };\n    Terminal.prototype.matchColor = function (r1, g1, b1) {\n        var hash = (r1 << 16) | (g1 << 8) | b1;\n        if (matchColorCache[hash] !== null && matchColorCache[hash] !== undefined) {\n            return matchColorCache[hash];\n        }\n        var ldiff = Infinity;\n        var li = -1;\n        var i = 0;\n        var c;\n        var r2;\n        var g2;\n        var b2;\n        var diff;\n        for (; i < ColorManager_1.DEFAULT_ANSI_COLORS.length; i++) {\n            c = ColorManager_1.DEFAULT_ANSI_COLORS[i].rgba;\n            r2 = c >>> 24;\n            g2 = c >>> 16 & 0xFF;\n            b2 = c >>> 8 & 0xFF;\n            diff = matchColorDistance(r1, g1, b1, r2, g2, b2);\n            if (diff === 0) {\n                li = i;\n                break;\n            }\n            if (diff < ldiff) {\n                ldiff = diff;\n                li = i;\n            }\n        }\n        return matchColorCache[hash] = li;\n    };\n    Terminal.prototype._visualBell = function () {\n        return false;\n    };\n    Terminal.prototype._soundBell = function () {\n        return this.options.bellStyle === 'sound';\n    };\n    return Terminal;\n}(EventEmitter_1.EventEmitter));\nexports.Terminal = Terminal;\nfunction wasModifierKeyOnlyEvent(ev) {\n    return ev.keyCode === 16 ||\n        ev.keyCode === 17 ||\n        ev.keyCode === 18;\n}\nvar matchColorCache = {};\nfunction matchColorDistance(r1, g1, b1, r2, g2, b2) {\n    return Math.pow(30 * (r1 - r2), 2)\n        + Math.pow(59 * (g1 - g2), 2)\n        + Math.pow(11 * (b1 - b2), 2);\n}\n//# sourceMappingURL=Terminal.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EscapeSequences_1 = require(\"../common/data/EscapeSequences\");\nvar AltClickHandler = (function () {\n    function AltClickHandler(_mouseEvent, _terminal) {\n        var _a;\n        this._mouseEvent = _mouseEvent;\n        this._terminal = _terminal;\n        this._lines = this._terminal.buffer.lines;\n        this._startCol = this._terminal.buffer.x;\n        this._startRow = this._terminal.buffer.y;\n        var coordinates = this._terminal.mouseHelper.getCoords(this._mouseEvent, this._terminal.element, this._terminal.charMeasure, this._terminal.cols, this._terminal.rows, false);\n        if (coordinates) {\n            _a = coordinates.map(function (coordinate) {\n                return coordinate - 1;\n            }), this._endCol = _a[0], this._endRow = _a[1];\n        }\n    }\n    AltClickHandler.prototype.move = function () {\n        if (this._mouseEvent.altKey && this._endCol !== undefined && this._endRow !== undefined) {\n            this._terminal.handler(this._arrowSequences());\n        }\n    };\n    AltClickHandler.prototype._arrowSequences = function () {\n        if (!this._terminal.buffer.hasScrollback) {\n            return this._resetStartingRow() + this._moveToRequestedRow() + this._moveToRequestedCol();\n        }\n        return this._moveHorizontallyOnly();\n    };\n    AltClickHandler.prototype._resetStartingRow = function () {\n        if (this._moveToRequestedRow().length === 0) {\n            return '';\n        }\n        return repeat(this._bufferLine(this._startCol, this._startRow, this._startCol, this._startRow - this._wrappedRowsForRow(this._startRow), false).length, this._sequence(\"D\"));\n    };\n    AltClickHandler.prototype._moveToRequestedRow = function () {\n        var startRow = this._startRow - this._wrappedRowsForRow(this._startRow);\n        var endRow = this._endRow - this._wrappedRowsForRow(this._endRow);\n        var rowsToMove = Math.abs(startRow - endRow) - this._wrappedRowsCount();\n        return repeat(rowsToMove, this._sequence(this._verticalDirection()));\n    };\n    AltClickHandler.prototype._moveToRequestedCol = function () {\n        var startRow;\n        if (this._moveToRequestedRow().length > 0) {\n            startRow = this._endRow - this._wrappedRowsForRow(this._endRow);\n        }\n        else {\n            startRow = this._startRow;\n        }\n        var endRow = this._endRow;\n        var direction = this._horizontalDirection();\n        return repeat(this._bufferLine(this._startCol, startRow, this._endCol, endRow, direction === \"C\").length, this._sequence(direction));\n    };\n    AltClickHandler.prototype._moveHorizontallyOnly = function () {\n        var direction = this._horizontalDirection();\n        return repeat(Math.abs(this._startCol - this._endCol), this._sequence(direction));\n    };\n    AltClickHandler.prototype._wrappedRowsCount = function () {\n        var wrappedRows = 0;\n        var startRow = this._startRow - this._wrappedRowsForRow(this._startRow);\n        var endRow = this._endRow - this._wrappedRowsForRow(this._endRow);\n        for (var i = 0; i < Math.abs(startRow - endRow); i++) {\n            var direction = this._verticalDirection() === \"A\" ? -1 : 1;\n            if (this._lines.get(startRow + (direction * i)).isWrapped) {\n                wrappedRows++;\n            }\n        }\n        return wrappedRows;\n    };\n    AltClickHandler.prototype._wrappedRowsForRow = function (currentRow) {\n        var rowCount = 0;\n        var lineWraps = this._lines.get(currentRow).isWrapped;\n        while (lineWraps && currentRow >= 0 && currentRow < this._terminal.rows) {\n            rowCount++;\n            currentRow--;\n            lineWraps = this._lines.get(currentRow).isWrapped;\n        }\n        return rowCount;\n    };\n    AltClickHandler.prototype._horizontalDirection = function () {\n        var startRow;\n        if (this._moveToRequestedRow().length > 0) {\n            startRow = this._endRow - this._wrappedRowsForRow(this._endRow);\n        }\n        else {\n            startRow = this._startRow;\n        }\n        if ((this._startCol < this._endCol &&\n            startRow <= this._endRow) ||\n            (this._startCol >= this._endCol &&\n                startRow < this._endRow)) {\n            return \"C\";\n        }\n        return \"D\";\n    };\n    AltClickHandler.prototype._verticalDirection = function () {\n        if (this._startRow > this._endRow) {\n            return \"A\";\n        }\n        return \"B\";\n    };\n    AltClickHandler.prototype._bufferLine = function (startCol, startRow, endCol, endRow, forward) {\n        var currentCol = startCol;\n        var currentRow = startRow;\n        var bufferStr = '';\n        while (currentCol !== endCol || currentRow !== endRow) {\n            currentCol += forward ? 1 : -1;\n            if (forward && currentCol > this._terminal.cols - 1) {\n                bufferStr += this._terminal.buffer.translateBufferLineToString(currentRow, false, startCol, currentCol);\n                currentCol = 0;\n                startCol = 0;\n                currentRow++;\n            }\n            else if (!forward && currentCol < 0) {\n                bufferStr += this._terminal.buffer.translateBufferLineToString(currentRow, false, 0, startCol + 1);\n                currentCol = this._terminal.cols - 1;\n                startCol = currentCol;\n                currentRow--;\n            }\n        }\n        return bufferStr + this._terminal.buffer.translateBufferLineToString(currentRow, false, startCol, currentCol);\n    };\n    AltClickHandler.prototype._sequence = function (direction) {\n        var mod = this._terminal.applicationCursor ? 'O' : '[';\n        return EscapeSequences_1.C0.ESC + mod + direction;\n    };\n    return AltClickHandler;\n}());\nexports.AltClickHandler = AltClickHandler;\nfunction repeat(count, str) {\n    count = Math.floor(count);\n    var rpt = '';\n    for (var i = 0; i < count; i++) {\n        rpt += str;\n    }\n    return rpt;\n}\n//# sourceMappingURL=AltClickHandler.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Lifecycle_1 = require(\"./common/Lifecycle\");\nfunction r(low, high) {\n    var c = high - low;\n    var arr = new Array(c);\n    while (c--) {\n        arr[c] = --high;\n    }\n    return arr;\n}\nvar TransitionTable = (function () {\n    function TransitionTable(length) {\n        this.table = (typeof Uint8Array === 'undefined')\n            ? new Array(length)\n            : new Uint8Array(length);\n    }\n    TransitionTable.prototype.add = function (code, state, action, next) {\n        this.table[state << 8 | code] = ((action | 0) << 4) | ((next === undefined) ? state : next);\n    };\n    TransitionTable.prototype.addMany = function (codes, state, action, next) {\n        for (var i = 0; i < codes.length; i++) {\n            this.add(codes[i], state, action, next);\n        }\n    };\n    return TransitionTable;\n}());\nexports.TransitionTable = TransitionTable;\nvar PRINTABLES = r(0x20, 0x7f);\nvar EXECUTABLES = r(0x00, 0x18);\nEXECUTABLES.push(0x19);\nEXECUTABLES.push.apply(EXECUTABLES, r(0x1c, 0x20));\nvar DEFAULT_TRANSITION = 1 << 4 | 0;\nexports.VT500_TRANSITION_TABLE = (function () {\n    var table = new TransitionTable(4095);\n    var states = r(0, 13 + 1);\n    var state;\n    for (state in states) {\n        for (var code = 0; code < 160; ++code) {\n            table.add(code, state, 1, 0);\n        }\n    }\n    table.addMany(PRINTABLES, 0, 2, 0);\n    for (state in states) {\n        table.addMany([0x18, 0x1a, 0x99, 0x9a], state, 3, 0);\n        table.addMany(r(0x80, 0x90), state, 3, 0);\n        table.addMany(r(0x90, 0x98), state, 3, 0);\n        table.add(0x9c, state, 0, 0);\n        table.add(0x1b, state, 11, 1);\n        table.add(0x9d, state, 4, 8);\n        table.addMany([0x98, 0x9e, 0x9f], state, 0, 7);\n        table.add(0x9b, state, 11, 3);\n        table.add(0x90, state, 11, 9);\n    }\n    table.addMany(EXECUTABLES, 0, 3, 0);\n    table.addMany(EXECUTABLES, 1, 3, 1);\n    table.add(0x7f, 1, 0, 1);\n    table.addMany(EXECUTABLES, 8, 0, 8);\n    table.addMany(EXECUTABLES, 3, 3, 3);\n    table.add(0x7f, 3, 0, 3);\n    table.addMany(EXECUTABLES, 4, 3, 4);\n    table.add(0x7f, 4, 0, 4);\n    table.addMany(EXECUTABLES, 6, 3, 6);\n    table.addMany(EXECUTABLES, 5, 3, 5);\n    table.add(0x7f, 5, 0, 5);\n    table.addMany(EXECUTABLES, 2, 3, 2);\n    table.add(0x7f, 2, 0, 2);\n    table.add(0x5d, 1, 4, 8);\n    table.addMany(PRINTABLES, 8, 5, 8);\n    table.add(0x7f, 8, 5, 8);\n    table.addMany([0x9c, 0x1b, 0x18, 0x1a, 0x07], 8, 6, 0);\n    table.addMany(r(0x1c, 0x20), 8, 0, 8);\n    table.addMany([0x58, 0x5e, 0x5f], 1, 0, 7);\n    table.addMany(PRINTABLES, 7, 0, 7);\n    table.addMany(EXECUTABLES, 7, 0, 7);\n    table.add(0x9c, 7, 0, 0);\n    table.add(0x5b, 1, 11, 3);\n    table.addMany(r(0x40, 0x7f), 3, 7, 0);\n    table.addMany(r(0x30, 0x3a), 3, 8, 4);\n    table.add(0x3b, 3, 8, 4);\n    table.addMany([0x3c, 0x3d, 0x3e, 0x3f], 3, 9, 4);\n    table.addMany(r(0x30, 0x3a), 4, 8, 4);\n    table.add(0x3b, 4, 8, 4);\n    table.addMany(r(0x40, 0x7f), 4, 7, 0);\n    table.addMany([0x3a, 0x3c, 0x3d, 0x3e, 0x3f], 4, 0, 6);\n    table.addMany(r(0x20, 0x40), 6, 0, 6);\n    table.add(0x7f, 6, 0, 6);\n    table.addMany(r(0x40, 0x7f), 6, 0, 0);\n    table.add(0x3a, 3, 0, 6);\n    table.addMany(r(0x20, 0x30), 3, 9, 5);\n    table.addMany(r(0x20, 0x30), 5, 9, 5);\n    table.addMany(r(0x30, 0x40), 5, 0, 6);\n    table.addMany(r(0x40, 0x7f), 5, 7, 0);\n    table.addMany(r(0x20, 0x30), 4, 9, 5);\n    table.addMany(r(0x20, 0x30), 1, 9, 2);\n    table.addMany(r(0x20, 0x30), 2, 9, 2);\n    table.addMany(r(0x30, 0x7f), 2, 10, 0);\n    table.addMany(r(0x30, 0x50), 1, 10, 0);\n    table.addMany(r(0x51, 0x58), 1, 10, 0);\n    table.addMany([0x59, 0x5a, 0x5c], 1, 10, 0);\n    table.addMany(r(0x60, 0x7f), 1, 10, 0);\n    table.add(0x50, 1, 11, 9);\n    table.addMany(EXECUTABLES, 9, 0, 9);\n    table.add(0x7f, 9, 0, 9);\n    table.addMany(r(0x1c, 0x20), 9, 0, 9);\n    table.addMany(r(0x20, 0x30), 9, 9, 12);\n    table.add(0x3a, 9, 0, 11);\n    table.addMany(r(0x30, 0x3a), 9, 8, 10);\n    table.add(0x3b, 9, 8, 10);\n    table.addMany([0x3c, 0x3d, 0x3e, 0x3f], 9, 9, 10);\n    table.addMany(EXECUTABLES, 11, 0, 11);\n    table.addMany(r(0x20, 0x80), 11, 0, 11);\n    table.addMany(r(0x1c, 0x20), 11, 0, 11);\n    table.addMany(EXECUTABLES, 10, 0, 10);\n    table.add(0x7f, 10, 0, 10);\n    table.addMany(r(0x1c, 0x20), 10, 0, 10);\n    table.addMany(r(0x30, 0x3a), 10, 8, 10);\n    table.add(0x3b, 10, 8, 10);\n    table.addMany([0x3a, 0x3c, 0x3d, 0x3e, 0x3f], 10, 0, 11);\n    table.addMany(r(0x20, 0x30), 10, 9, 12);\n    table.addMany(EXECUTABLES, 12, 0, 12);\n    table.add(0x7f, 12, 0, 12);\n    table.addMany(r(0x1c, 0x20), 12, 0, 12);\n    table.addMany(r(0x20, 0x30), 12, 9, 12);\n    table.addMany(r(0x30, 0x40), 12, 0, 11);\n    table.addMany(r(0x40, 0x7f), 12, 12, 13);\n    table.addMany(r(0x40, 0x7f), 10, 12, 13);\n    table.addMany(r(0x40, 0x7f), 9, 12, 13);\n    table.addMany(EXECUTABLES, 13, 13, 13);\n    table.addMany(PRINTABLES, 13, 13, 13);\n    table.add(0x7f, 13, 0, 13);\n    table.addMany([0x1b, 0x9c], 13, 14, 0);\n    return table;\n})();\nvar DcsDummy = (function () {\n    function DcsDummy() {\n    }\n    DcsDummy.prototype.hook = function (collect, params, flag) { };\n    DcsDummy.prototype.put = function (data, start, end) { };\n    DcsDummy.prototype.unhook = function () { };\n    return DcsDummy;\n}());\nvar EscapeSequenceParser = (function (_super) {\n    __extends(EscapeSequenceParser, _super);\n    function EscapeSequenceParser(TRANSITIONS) {\n        if (TRANSITIONS === void 0) { TRANSITIONS = exports.VT500_TRANSITION_TABLE; }\n        var _this = _super.call(this) || this;\n        _this.TRANSITIONS = TRANSITIONS;\n        _this.initialState = 0;\n        _this.currentState = _this.initialState;\n        _this._osc = '';\n        _this._params = [0];\n        _this._collect = '';\n        _this._printHandlerFb = function (data, start, end) { };\n        _this._executeHandlerFb = function (code) { };\n        _this._csiHandlerFb = function (collect, params, flag) { };\n        _this._escHandlerFb = function (collect, flag) { };\n        _this._oscHandlerFb = function (identifier, data) { };\n        _this._dcsHandlerFb = new DcsDummy();\n        _this._errorHandlerFb = function (state) { return state; };\n        _this._printHandler = _this._printHandlerFb;\n        _this._executeHandlers = Object.create(null);\n        _this._csiHandlers = Object.create(null);\n        _this._escHandlers = Object.create(null);\n        _this._oscHandlers = Object.create(null);\n        _this._dcsHandlers = Object.create(null);\n        _this._activeDcsHandler = null;\n        _this._errorHandler = _this._errorHandlerFb;\n        _this.setEscHandler('\\\\', function () { });\n        return _this;\n    }\n    EscapeSequenceParser.prototype.dispose = function () {\n        this._printHandlerFb = null;\n        this._executeHandlerFb = null;\n        this._csiHandlerFb = null;\n        this._escHandlerFb = null;\n        this._oscHandlerFb = null;\n        this._dcsHandlerFb = null;\n        this._errorHandlerFb = null;\n        this._printHandler = null;\n        this._executeHandlers = null;\n        this._csiHandlers = null;\n        this._escHandlers = null;\n        this._oscHandlers = null;\n        this._dcsHandlers = null;\n        this._activeDcsHandler = null;\n        this._errorHandler = null;\n    };\n    EscapeSequenceParser.prototype.setPrintHandler = function (callback) {\n        this._printHandler = callback;\n    };\n    EscapeSequenceParser.prototype.clearPrintHandler = function () {\n        this._printHandler = this._printHandlerFb;\n    };\n    EscapeSequenceParser.prototype.setExecuteHandler = function (flag, callback) {\n        this._executeHandlers[flag.charCodeAt(0)] = callback;\n    };\n    EscapeSequenceParser.prototype.clearExecuteHandler = function (flag) {\n        if (this._executeHandlers[flag.charCodeAt(0)])\n            delete this._executeHandlers[flag.charCodeAt(0)];\n    };\n    EscapeSequenceParser.prototype.setExecuteHandlerFallback = function (callback) {\n        this._executeHandlerFb = callback;\n    };\n    EscapeSequenceParser.prototype.setCsiHandler = function (flag, callback) {\n        this._csiHandlers[flag.charCodeAt(0)] = callback;\n    };\n    EscapeSequenceParser.prototype.clearCsiHandler = function (flag) {\n        if (this._csiHandlers[flag.charCodeAt(0)])\n            delete this._csiHandlers[flag.charCodeAt(0)];\n    };\n    EscapeSequenceParser.prototype.setCsiHandlerFallback = function (callback) {\n        this._csiHandlerFb = callback;\n    };\n    EscapeSequenceParser.prototype.setEscHandler = function (collectAndFlag, callback) {\n        this._escHandlers[collectAndFlag] = callback;\n    };\n    EscapeSequenceParser.prototype.clearEscHandler = function (collectAndFlag) {\n        if (this._escHandlers[collectAndFlag])\n            delete this._escHandlers[collectAndFlag];\n    };\n    EscapeSequenceParser.prototype.setEscHandlerFallback = function (callback) {\n        this._escHandlerFb = callback;\n    };\n    EscapeSequenceParser.prototype.setOscHandler = function (ident, callback) {\n        this._oscHandlers[ident] = callback;\n    };\n    EscapeSequenceParser.prototype.clearOscHandler = function (ident) {\n        if (this._oscHandlers[ident])\n            delete this._oscHandlers[ident];\n    };\n    EscapeSequenceParser.prototype.setOscHandlerFallback = function (callback) {\n        this._oscHandlerFb = callback;\n    };\n    EscapeSequenceParser.prototype.setDcsHandler = function (collectAndFlag, handler) {\n        this._dcsHandlers[collectAndFlag] = handler;\n    };\n    EscapeSequenceParser.prototype.clearDcsHandler = function (collectAndFlag) {\n        if (this._dcsHandlers[collectAndFlag])\n            delete this._dcsHandlers[collectAndFlag];\n    };\n    EscapeSequenceParser.prototype.setDcsHandlerFallback = function (handler) {\n        this._dcsHandlerFb = handler;\n    };\n    EscapeSequenceParser.prototype.setErrorHandler = function (callback) {\n        this._errorHandler = callback;\n    };\n    EscapeSequenceParser.prototype.clearErrorHandler = function () {\n        this._errorHandler = this._errorHandlerFb;\n    };\n    EscapeSequenceParser.prototype.reset = function () {\n        this.currentState = this.initialState;\n        this._osc = '';\n        this._params = [0];\n        this._collect = '';\n        this._activeDcsHandler = null;\n    };\n    EscapeSequenceParser.prototype.parse = function (data) {\n        var code = 0;\n        var transition = 0;\n        var error = false;\n        var currentState = this.currentState;\n        var print = -1;\n        var dcs = -1;\n        var osc = this._osc;\n        var collect = this._collect;\n        var params = this._params;\n        var table = this.TRANSITIONS.table;\n        var dcsHandler = this._activeDcsHandler;\n        var callback = null;\n        var l = data.length;\n        for (var i = 0; i < l; ++i) {\n            code = data.charCodeAt(i);\n            if (currentState === 0 && code > 0x1f && code < 0x80) {\n                print = (~print) ? print : i;\n                do\n                    i++;\n                while (i < l && data.charCodeAt(i) > 0x1f && data.charCodeAt(i) < 0x80);\n                i--;\n                continue;\n            }\n            if (currentState === 4 && (code > 0x2f && code < 0x39)) {\n                params[params.length - 1] = params[params.length - 1] * 10 + code - 48;\n                continue;\n            }\n            transition = (code < 0xa0) ? (table[currentState << 8 | code]) : DEFAULT_TRANSITION;\n            switch (transition >> 4) {\n                case 2:\n                    print = (~print) ? print : i;\n                    break;\n                case 3:\n                    if (~print) {\n                        this._printHandler(data, print, i);\n                        print = -1;\n                    }\n                    callback = this._executeHandlers[code];\n                    if (callback)\n                        callback();\n                    else\n                        this._executeHandlerFb(code);\n                    break;\n                case 0:\n                    if (~print) {\n                        this._printHandler(data, print, i);\n                        print = -1;\n                    }\n                    else if (~dcs) {\n                        dcsHandler.put(data, dcs, i);\n                        dcs = -1;\n                    }\n                    break;\n                case 1:\n                    if (code > 0x9f) {\n                        switch (currentState) {\n                            case 0:\n                                print = (~print) ? print : i;\n                                break;\n                            case 8:\n                                osc += String.fromCharCode(code);\n                                transition |= 8;\n                                break;\n                            case 6:\n                                transition |= 6;\n                                break;\n                            case 11:\n                                transition |= 11;\n                                break;\n                            case 13:\n                                dcs = (~dcs) ? dcs : i;\n                                transition |= 13;\n                                break;\n                            default:\n                                error = true;\n                        }\n                    }\n                    else {\n                        error = true;\n                    }\n                    if (error) {\n                        var inject = this._errorHandler({\n                            position: i,\n                            code: code,\n                            currentState: currentState,\n                            print: print,\n                            dcs: dcs,\n                            osc: osc,\n                            collect: collect,\n                            params: params,\n                            abort: false\n                        });\n                        if (inject.abort)\n                            return;\n                        error = false;\n                    }\n                    break;\n                case 7:\n                    callback = this._csiHandlers[code];\n                    if (callback)\n                        callback(params, collect);\n                    else\n                        this._csiHandlerFb(collect, params, code);\n                    break;\n                case 8:\n                    if (code === 0x3b)\n                        params.push(0);\n                    else\n                        params[params.length - 1] = params[params.length - 1] * 10 + code - 48;\n                    break;\n                case 9:\n                    collect += String.fromCharCode(code);\n                    break;\n                case 10:\n                    callback = this._escHandlers[collect + String.fromCharCode(code)];\n                    if (callback)\n                        callback(collect, code);\n                    else\n                        this._escHandlerFb(collect, code);\n                    break;\n                case 11:\n                    if (~print) {\n                        this._printHandler(data, print, i);\n                        print = -1;\n                    }\n                    osc = '';\n                    params = [0];\n                    collect = '';\n                    dcs = -1;\n                    break;\n                case 12:\n                    dcsHandler = this._dcsHandlers[collect + String.fromCharCode(code)];\n                    if (!dcsHandler)\n                        dcsHandler = this._dcsHandlerFb;\n                    dcsHandler.hook(collect, params, code);\n                    break;\n                case 13:\n                    dcs = (~dcs) ? dcs : i;\n                    break;\n                case 14:\n                    if (dcsHandler) {\n                        if (~dcs)\n                            dcsHandler.put(data, dcs, i);\n                        dcsHandler.unhook();\n                        dcsHandler = null;\n                    }\n                    if (code === 0x1b)\n                        transition |= 1;\n                    osc = '';\n                    params = [0];\n                    collect = '';\n                    dcs = -1;\n                    break;\n                case 4:\n                    if (~print) {\n                        this._printHandler(data, print, i);\n                        print = -1;\n                    }\n                    osc = '';\n                    break;\n                case 5:\n                    osc += data.charAt(i);\n                    break;\n                case 6:\n                    if (osc && code !== 0x18 && code !== 0x1a) {\n                        var idx = osc.indexOf(';');\n                        if (idx === -1) {\n                            this._oscHandlerFb(-1, osc);\n                        }\n                        else {\n                            var identifier = parseInt(osc.substring(0, idx));\n                            var content = osc.substring(idx + 1);\n                            callback = this._oscHandlers[identifier];\n                            if (callback)\n                                callback(content);\n                            else\n                                this._oscHandlerFb(identifier, content);\n                        }\n                    }\n                    if (code === 0x1b)\n                        transition |= 1;\n                    osc = '';\n                    params = [0];\n                    collect = '';\n                    dcs = -1;\n                    break;\n            }\n            currentState = transition & 15;\n        }\n        if (currentState === 0 && ~print) {\n            this._printHandler(data, print, data.length);\n        }\n        else if (currentState === 13 && ~dcs && dcsHandler) {\n            dcsHandler.put(data, dcs, data.length);\n        }\n        this._osc = osc;\n        this._collect = collect;\n        this._params = params;\n        this._activeDcsHandler = dcsHandler;\n        this.currentState = currentState;\n    };\n    return EscapeSequenceParser;\n}(Lifecycle_1.Disposable));\nexports.EscapeSequenceParser = EscapeSequenceParser;\n//# sourceMappingURL=EscapeSequenceParser.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LRUMap = (function () {\n    function LRUMap(capacity) {\n        this.capacity = capacity;\n        this._map = {};\n        this._head = null;\n        this._tail = null;\n        this._nodePool = [];\n        this.size = 0;\n    }\n    LRUMap.prototype._unlinkNode = function (node) {\n        var prev = node.prev;\n        var next = node.next;\n        if (node === this._head) {\n            this._head = next;\n        }\n        if (node === this._tail) {\n            this._tail = prev;\n        }\n        if (prev !== null) {\n            prev.next = next;\n        }\n        if (next !== null) {\n            next.prev = prev;\n        }\n    };\n    LRUMap.prototype._appendNode = function (node) {\n        var tail = this._tail;\n        if (tail !== null) {\n            tail.next = node;\n        }\n        node.prev = tail;\n        node.next = null;\n        this._tail = node;\n        if (this._head === null) {\n            this._head = node;\n        }\n    };\n    LRUMap.prototype.prealloc = function (count) {\n        var nodePool = this._nodePool;\n        for (var i = 0; i < count; i++) {\n            nodePool.push({\n                prev: null,\n                next: null,\n                key: null,\n                value: null\n            });\n        }\n    };\n    LRUMap.prototype.get = function (key) {\n        var node = this._map[key];\n        if (node !== undefined) {\n            this._unlinkNode(node);\n            this._appendNode(node);\n            return node.value;\n        }\n        return null;\n    };\n    LRUMap.prototype.peekValue = function (key) {\n        var node = this._map[key];\n        if (node !== undefined) {\n            return node.value;\n        }\n        return null;\n    };\n    LRUMap.prototype.peek = function () {\n        var head = this._head;\n        return head === null ? null : head.value;\n    };\n    LRUMap.prototype.set = function (key, value) {\n        var node = this._map[key];\n        if (node !== undefined) {\n            node = this._map[key];\n            this._unlinkNode(node);\n            node.value = value;\n        }\n        else if (this.size >= this.capacity) {\n            node = this._head;\n            this._unlinkNode(node);\n            delete this._map[node.key];\n            node.key = key;\n            node.value = value;\n            this._map[key] = node;\n        }\n        else {\n            var nodePool = this._nodePool;\n            if (nodePool.length > 0) {\n                node = nodePool.pop();\n                node.key = key;\n                node.value = value;\n            }\n            else {\n                node = {\n                    prev: null,\n                    next: null,\n                    key: key,\n                    value: value\n                };\n            }\n            this._map[key] = node;\n            this.size++;\n        }\n        this._appendNode(node);\n    };\n    return LRUMap;\n}());\nexports.default = LRUMap;\n//# sourceMappingURL=LRUMap.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MouseZoneManager_1 = require(\"./ui/MouseZoneManager\");\nvar EventEmitter_1 = require(\"./common/EventEmitter\");\nvar Buffer_1 = require(\"./Buffer\");\nvar CharWidth_1 = require(\"./CharWidth\");\nvar Linkifier = (function (_super) {\n    __extends(Linkifier, _super);\n    function Linkifier(_terminal) {\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._linkMatchers = [];\n        _this._nextLinkMatcherId = 0;\n        _this._rowsToLinkify = {\n            start: null,\n            end: null\n        };\n        return _this;\n    }\n    Linkifier.prototype.attachToDom = function (mouseZoneManager) {\n        this._mouseZoneManager = mouseZoneManager;\n    };\n    Linkifier.prototype.linkifyRows = function (start, end) {\n        var _this = this;\n        if (!this._mouseZoneManager) {\n            return;\n        }\n        if (this._rowsToLinkify.start === null) {\n            this._rowsToLinkify.start = start;\n            this._rowsToLinkify.end = end;\n        }\n        else {\n            this._rowsToLinkify.start = Math.min(this._rowsToLinkify.start, start);\n            this._rowsToLinkify.end = Math.max(this._rowsToLinkify.end, end);\n        }\n        this._mouseZoneManager.clearAll(start, end);\n        if (this._rowsTimeoutId) {\n            clearTimeout(this._rowsTimeoutId);\n        }\n        this._rowsTimeoutId = setTimeout(function () { return _this._linkifyRows(); }, Linkifier.TIME_BEFORE_LINKIFY);\n    };\n    Linkifier.prototype._linkifyRows = function () {\n        this._rowsTimeoutId = null;\n        var buffer = this._terminal.buffer;\n        var absoluteRowIndexStart = buffer.ydisp + this._rowsToLinkify.start;\n        if (absoluteRowIndexStart >= buffer.lines.length) {\n            return;\n        }\n        var absoluteRowIndexEnd = buffer.ydisp + Math.min(this._rowsToLinkify.end, this._terminal.rows) + 1;\n        var overscanLineLimit = Math.ceil(Linkifier.OVERSCAN_CHAR_LIMIT / this._terminal.cols);\n        var iterator = this._terminal.buffer.iterator(false, absoluteRowIndexStart, absoluteRowIndexEnd, overscanLineLimit, overscanLineLimit);\n        while (iterator.hasNext()) {\n            var lineData = iterator.next();\n            for (var i = 0; i < this._linkMatchers.length; i++) {\n                this._doLinkifyRow(lineData.range.first, lineData.content, this._linkMatchers[i]);\n            }\n        }\n        this._rowsToLinkify.start = null;\n        this._rowsToLinkify.end = null;\n    };\n    Linkifier.prototype.registerLinkMatcher = function (regex, handler, options) {\n        if (options === void 0) { options = {}; }\n        if (!handler) {\n            throw new Error('handler must be defined');\n        }\n        var matcher = {\n            id: this._nextLinkMatcherId++,\n            regex: regex,\n            handler: handler,\n            matchIndex: options.matchIndex,\n            validationCallback: options.validationCallback,\n            hoverTooltipCallback: options.tooltipCallback,\n            hoverLeaveCallback: options.leaveCallback,\n            willLinkActivate: options.willLinkActivate,\n            priority: options.priority || 0\n        };\n        this._addLinkMatcherToList(matcher);\n        return matcher.id;\n    };\n    Linkifier.prototype._addLinkMatcherToList = function (matcher) {\n        if (this._linkMatchers.length === 0) {\n            this._linkMatchers.push(matcher);\n            return;\n        }\n        for (var i = this._linkMatchers.length - 1; i >= 0; i--) {\n            if (matcher.priority <= this._linkMatchers[i].priority) {\n                this._linkMatchers.splice(i + 1, 0, matcher);\n                return;\n            }\n        }\n        this._linkMatchers.splice(0, 0, matcher);\n    };\n    Linkifier.prototype.deregisterLinkMatcher = function (matcherId) {\n        for (var i = 0; i < this._linkMatchers.length; i++) {\n            if (this._linkMatchers[i].id === matcherId) {\n                this._linkMatchers.splice(i, 1);\n                return true;\n            }\n        }\n        return false;\n    };\n    Linkifier.prototype._doLinkifyRow = function (rowIndex, text, matcher) {\n        var _this = this;\n        var rex = new RegExp(matcher.regex.source, matcher.regex.flags + 'g');\n        var match;\n        var stringIndex = -1;\n        var _loop_1 = function () {\n            var uri = match[typeof matcher.matchIndex !== 'number' ? 0 : matcher.matchIndex];\n            if (!uri) {\n                if (this_1._terminal.debug) {\n                    console.log({ match: match, matcher: matcher });\n                    throw new Error('match found without corresponding matchIndex');\n                }\n                return \"break\";\n            }\n            stringIndex = text.indexOf(uri, stringIndex + 1);\n            rex.lastIndex = stringIndex + uri.length;\n            var bufferIndex = this_1._terminal.buffer.stringIndexToBufferIndex(rowIndex, stringIndex);\n            var line = this_1._terminal.buffer.lines.get(bufferIndex[0]);\n            var char = line.get(bufferIndex[1]);\n            var fg;\n            if (char) {\n                var attr = char[Buffer_1.CHAR_DATA_ATTR_INDEX];\n                fg = (attr >> 9) & 0x1ff;\n            }\n            if (matcher.validationCallback) {\n                matcher.validationCallback(uri, function (isValid) {\n                    if (_this._rowsTimeoutId) {\n                        return;\n                    }\n                    if (isValid) {\n                        _this._addLink(bufferIndex[1], bufferIndex[0] - _this._terminal.buffer.ydisp, uri, matcher, fg);\n                    }\n                });\n            }\n            else {\n                this_1._addLink(bufferIndex[1], bufferIndex[0] - this_1._terminal.buffer.ydisp, uri, matcher, fg);\n            }\n        };\n        var this_1 = this;\n        while ((match = rex.exec(text)) !== null) {\n            var state_1 = _loop_1();\n            if (state_1 === \"break\")\n                break;\n        }\n    };\n    Linkifier.prototype._addLink = function (x, y, uri, matcher, fg) {\n        var _this = this;\n        var width = CharWidth_1.getStringCellWidth(uri);\n        var x1 = x % this._terminal.cols;\n        var y1 = y + Math.floor(x / this._terminal.cols);\n        var x2 = (x1 + width) % this._terminal.cols;\n        var y2 = y1 + Math.floor((x1 + width) / this._terminal.cols);\n        if (x2 === 0) {\n            x2 = this._terminal.cols;\n            y2--;\n        }\n        this._mouseZoneManager.add(new MouseZoneManager_1.MouseZone(x1 + 1, y1 + 1, x2 + 1, y2 + 1, function (e) {\n            if (matcher.handler) {\n                return matcher.handler(e, uri);\n            }\n            window.open(uri, '_blank');\n        }, function (e) {\n            _this.emit(\"linkhover\", _this._createLinkHoverEvent(x1, y1, x2, y2, fg));\n            _this._terminal.element.classList.add('xterm-cursor-pointer');\n        }, function (e) {\n            _this.emit(\"linktooltip\", _this._createLinkHoverEvent(x1, y1, x2, y2, fg));\n            if (matcher.hoverTooltipCallback) {\n                matcher.hoverTooltipCallback(e, uri);\n            }\n        }, function () {\n            _this.emit(\"linkleave\", _this._createLinkHoverEvent(x1, y1, x2, y2, fg));\n            _this._terminal.element.classList.remove('xterm-cursor-pointer');\n            if (matcher.hoverLeaveCallback) {\n                matcher.hoverLeaveCallback();\n            }\n        }, function (e) {\n            if (matcher.willLinkActivate) {\n                return matcher.willLinkActivate(e, uri);\n            }\n            return true;\n        }));\n    };\n    Linkifier.prototype._createLinkHoverEvent = function (x1, y1, x2, y2, fg) {\n        return { x1: x1, y1: y1, x2: x2, y2: y2, cols: this._terminal.cols, fg: fg };\n    };\n    Linkifier.TIME_BEFORE_LINKIFY = 200;\n    Linkifier.OVERSCAN_CHAR_LIMIT = 2000;\n    return Linkifier;\n}(EventEmitter_1.EventEmitter));\nexports.Linkifier = Linkifier;\n//# sourceMappingURL=Linkifier.js.map","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dashboard.vue?vue&type=style&index=0&lang=css&\"","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction proposeGeometry(term) {\n    if (!term.element.parentElement) {\n        return null;\n    }\n    var parentElementStyle = window.getComputedStyle(term.element.parentElement);\n    var parentElementHeight = parseInt(parentElementStyle.getPropertyValue('height'));\n    var parentElementWidth = Math.max(0, parseInt(parentElementStyle.getPropertyValue('width')));\n    var elementStyle = window.getComputedStyle(term.element);\n    var elementPadding = {\n        top: parseInt(elementStyle.getPropertyValue('padding-top')),\n        bottom: parseInt(elementStyle.getPropertyValue('padding-bottom')),\n        right: parseInt(elementStyle.getPropertyValue('padding-right')),\n        left: parseInt(elementStyle.getPropertyValue('padding-left'))\n    };\n    var elementPaddingVer = elementPadding.top + elementPadding.bottom;\n    var elementPaddingHor = elementPadding.right + elementPadding.left;\n    var availableHeight = parentElementHeight - elementPaddingVer;\n    var availableWidth = parentElementWidth - elementPaddingHor - term._core.viewport.scrollBarWidth;\n    var geometry = {\n        cols: Math.floor(availableWidth / term._core.renderer.dimensions.actualCellWidth),\n        rows: Math.floor(availableHeight / term._core.renderer.dimensions.actualCellHeight)\n    };\n    return geometry;\n}\nexports.proposeGeometry = proposeGeometry;\nfunction fit(term) {\n    var geometry = proposeGeometry(term);\n    if (geometry) {\n        if (term.rows !== geometry.rows || term.cols !== geometry.cols) {\n            term._core.renderer.clear();\n            term.resize(geometry.cols, geometry.rows);\n        }\n    }\n}\nexports.fit = fit;\nfunction apply(terminalConstructor) {\n    terminalConstructor.prototype.proposeGeometry = function () {\n        return proposeGeometry(this);\n    };\n    terminalConstructor.prototype.fit = function () {\n        fit(this);\n    };\n}\nexports.apply = apply;\n//# sourceMappingURL=fit.js.map","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-card',{attrs:{\"shadow\":\"never\"}},[_c('div',[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"filterable\":\"\",\"placeholder\":_vm.$t('please_select_namespace')},on:{\"change\":_vm.selectedNamespace},nativeOn:{\"click\":function($event){return _vm.getNamespace.apply(null, arguments)}},model:{value:(_vm.namespace),callback:function ($$v) {_vm.namespace=$$v},expression:\"namespace\"}},_vm._l((_vm.namespaces),function(item){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}})}),1)],1),_c('div',{staticClass:\"table\",staticStyle:{\"margin-top\":\"15px\"}},[_c('div',{staticStyle:{\"float\":\"right\",\"text-align\":\"center\",\"margin-bottom\":\"20px\"}},[_c('el-pagination',{attrs:{\"background\":\"\",\"current-page\":_vm.current_page,\"page-sizes\":_vm.page_sizes,\"page-size\":_vm.page_size,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total_count},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_c('div',{staticClass:\"search-Box\",staticStyle:{\"float\":\"right\",\"width\":\"300px\",\"margin-right\":\"5px\",\"margin-bottom\":\"10px\",\"margin-top\":\"-5px\"}},[_c('el-input',{staticClass:\"search\",attrs:{\"placeholder\":_vm.$t('keyword_search'),\"icon\":\"search\",\"suffix-icon\":\"el-icon-search\"},model:{value:(_vm.search_key),callback:function ($$v) {_vm.search_key=$$v},expression:\"search_key\"}})],1),_c('el-table',{directives:[{name:\"tableDrag\",rawName:\"v-tableDrag\"}],staticClass:\"app-table\",staticStyle:{\"width\":\"100%\"},attrs:{\"size\":\"medium\",\"data\":_vm.table_data.filter(\n              function (data) { return !_vm.search_key ||\n              data.pod_name.toLowerCase().includes(_vm.search_key.toLowerCase()) ||\n              data.node_name.toLowerCase().includes(_vm.search_key.toLowerCase()) ||\n              data.host_ip.toLowerCase().includes(_vm.search_key.toLowerCase()); }\n          ),\"default-sort\":{prop: 'pod_name', order: 'ascending'}}},[_c('el-table-column',{attrs:{\"prop\":\"pod_name\",\"label\":_vm.$t('pod'),\"sortable\":\"\",\"show-overflow-tooltip\":\"\",\"min-width\":\"400\",\"fixed\":\"left\",\"sort-orders\":['ascending', 'descending']}}),_c('el-table-column',{attrs:{\"label\":_vm.$t('state'),\"sortable\":\"\",\"show-overflow-tooltip\":\"\",\"width\":\"100\",\"sort-orders\":['ascending', 'descending']},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.state === 'Running' || scope.row.state === 'Succeeded')?_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"mini\",\"plain\":\"\",\"round\":\"\"}},[_vm._v(\" \"+_vm._s(scope.row.state)+\" \")]):_vm._e(),(scope.row.state !== 'Running' && scope.row.State !== 'Succeeded')?_c('el-button',{attrs:{\"type\":\"warning\",\"size\":\"mini\",\"plain\":\"\",\"round\":\"\"}},[_vm._v(\" \"+_vm._s(scope.row.state)+\" \")]):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"label\":\"Pod IP\",\"sortable\":\"\",\"width\":\"110\",\"sort-orders\":['ascending', 'descending']},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _vm._l((scope.row.pod_ips),function(list){return _c('span',[_vm._v(_vm._s(list.ip)),_c('br')])})}}])}),_c('el-table-column',{attrs:{\"label\":_vm.$t('node'),\"sortable\":\"\",\"width\":\"220\",\"sort-orders\":['ascending', 'descending']},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(scope.row.node_name)),_c('br'),_vm._v(\" \"+_vm._s(scope.row.host_ip)+\" \")]}}])}),_c('el-table-column',{attrs:{\"prop\":\"create_time\",\"label\":_vm.$t('create_time'),\"sortable\":\"\",\"fix\":\"\",\"width\":\"170\",\"sort-orders\":['ascending', 'descending']}}),_c('el-table-column',{attrs:{\"prop\":\"restart_count\",\"label\":_vm.$t('restart_count'),\"sortable\":\"\",\"width\":\"100\",\"sort-orders\":['ascending', 'descending']}}),_c('el-table-column',{attrs:{\"prop\":\"os\",\"label\":_vm.$t('os'),\"sortable\":\"\",\"width\":\"100\",\"sort-orders\":['ascending', 'descending']}}),_c('el-table-column',{attrs:{\"prop\":\"arch\",\"label\":_vm.$t('arch'),\"sortable\":\"\",\"width\":\"120\",\"sort-orders\":['ascending', 'descending']}}),_c('el-table-column',{staticStyle:{\"text-align\":\"right\"},attrs:{\"label\":_vm.$t('operate'),\"min-width\":\"186\",\"fixed\":\"right\",\"sort-orders\":['ascending', 'descending']},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n          var row = ref.row;\nreturn [(row.state === 'Running')?_c('el-dropdown',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"hide-on-click\":false}},[_c('el-dropdown-menu'),_c('el-popover',{attrs:{\"placement\":\"left\",\"trigger\":\"hover\"}},[_vm._l((row.containers),function(c){return _c('div',{key:c.name},[_c('p',{staticStyle:{\"margin\":\"0\"}},[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.openTerminal(row, c)}}},[_vm._v(_vm._s(c.name))])],1)])}),_c('el-dropdown-item',{attrs:{\"slot\":\"reference\",\"icon\":\"el-icon-s-fold\"},slot:\"reference\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"terminal\"))+\" \"),_c('i',{staticClass:\"el-icon-arrow-right\"})])],2),_c('el-popover',{attrs:{\"placement\":\"left\",\"trigger\":\"hover\"}},[_vm._l((row.containers),function(c){return _c('div',{key:c.name},[_c('p',{staticStyle:{\"margin\":\"0\"}},[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.openFileBrowser(row, c, '/')}}},[_vm._v(_vm._s(c.name))])],1)])}),_c('el-dropdown-item',{attrs:{\"slot\":\"reference\",\"icon\":\"el-icon-files\"},slot:\"reference\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"file_browser\"))+\" \"),_c('i',{staticClass:\"el-icon-arrow-right\"})])],2)],1):_vm._e()]}}])})],1)],1)]),_c('el-dialog',{attrs:{\"visible\":_vm.dialog_terminal_visible,\"title\":_vm.$t('terminal'),\"center\":\"\",\"fullscreen\":\"\",\"modal\":false,\"destroy-on-close\":true},on:{\"update:visible\":function($event){_vm.dialog_terminal_visible=$event},\"opened\":_vm.doOpened,\"close\":_vm.doClose}},[_c('div',{staticStyle:{\"margin-top\":\"-25px\"}},[_c('div',{ref:\"terminal\"})])]),_c('el-dialog',{attrs:{\"center\":\"\",\"fullscreen\":\"\",\"title\":_vm.$t('file_browser'),\"visible\":_vm.dialog_file_browser_visible},on:{\"update:visible\":function($event){_vm.dialog_file_browser_visible=$event},\"close\":function($event){_vm.dialog_file_browser_visible = false}}},[_c('div',{staticStyle:{\"margin-top\":\"-25px\"}},[_c('el-table-header',{attrs:{\"store\":\"\"}},[_c('el-dropdown',{staticClass:\"avatar-container\",staticStyle:{\"height\":\"36px\",\"float\":\"right\",\"margin-bottom\":\"10px\"},attrs:{\"type\":\"info\",\"trigger\":\"click\"}},[_c('div',{staticClass:\"avatar-wrapper\"},[_c('el-button',{staticClass:\"el-icon-s-tools\",staticStyle:{\"width\":\"90px\",\"height\":\"30px\",\"margin-right\":\"6px\",\"padding-top\":\"7px\",\"padding-left\":\"14px\"},attrs:{\"type\":\"success\",\"round\":\"\",\"size\":\"medium\"}},[_vm._v(\" \"+_vm._s(_vm.$t('create'))+\" \"),_c('i',{staticClass:\"el-icon-caret-bottom\"})])],1),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',[_c('span',{staticStyle:{\"display\":\"block\"},on:{\"click\":function($event){return _vm.openFileDialog(_vm.global_path, 'create')}}},[_vm._v(_vm._s(_vm.$t('create_file')))])]),_c('el-dropdown-item',[_c('span',{staticStyle:{\"display\":\"block\"},on:{\"click\":function($event){return _vm.createDir()}}},[_vm._v(_vm._s(_vm.$t('create_dir')))])])],1)],1),_c('el-dropdown',{staticClass:\"avatar-container\",staticStyle:{\"height\":\"36px\",\"float\":\"right\",\"margin-bottom\":\"10px\"},attrs:{\"type\":\"success\",\"trigger\":\"click\"}},[_c('div',{staticClass:\"avatar-wrapper\"},[_c('el-button',{staticClass:\"el-icon-upload\",staticStyle:{\"width\":\"90px\",\"height\":\"30px\",\"margin-right\":\"6px\",\"padding-top\":\"7px\",\"padding-left\":\"14px\"},attrs:{\"type\":\"success\",\"round\":\"\",\"size\":\"medium\"}},[_vm._v(\" \"+_vm._s(_vm.$t('upload'))+\" \"),_c('i',{staticClass:\"el-icon-caret-bottom\"})])],1),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',[_c('span',{staticClass:\"fake-file-btn\"},[_vm._v(\" \"+_vm._s(_vm.$t('upload_file'))+\" \"),_c('input',{staticStyle:{\"display\":\"block\"},attrs:{\"type\":\"file\",\"name\":\"files\",\"multiple\":\"true\"},on:{\"change\":function($event){return _vm.uploadFileOrDir($event, _vm.global_path)}}})])]),_c('el-dropdown-item',{attrs:{\"divided\":\"\"}},[_c('span',{staticClass:\"fake-file-btn\"},[_vm._v(\" \"+_vm._s(_vm.$t('upload_dir'))+\" \"),_c('input',{staticStyle:{\"display\":\"block\"},attrs:{\"type\":\"file\",\"name\":\"files\",\"webkitdirectory\":\"\",\"mozdirectory\":\"\",\"accept\":\"*/*\"},on:{\"change\":function($event){return _vm.uploadFileOrDir($event, _vm.global_path)}}})])])],1)],1),_c('el-dropdown',{staticClass:\"el-upload avatar-container\",staticStyle:{\"height\":\"36px\",\"float\":\"right\",\"margin-bottom\":\"10px\"},attrs:{\"type\":\"primary\",\"trigger\":\"click\"}},[_c('div',{staticClass:\"avatar-wrapper\"},[_c('el-button',{staticClass:\"el-icon-download\",staticStyle:{\"width\":\"120px\",\"height\":\"30px\",\"margin-right\":\"6px\",\"padding-top\":\"7px\",\"padding-left\":\"14px\"},attrs:{\"type\":\"primary\",\"round\":\"\",\"size\":\"medium\"}},[_vm._v(\" \"+_vm._s(_vm.$t('bulk_download'))+\" \"),_c('i',{staticClass:\"el-icon-caret-bottom\"})])],1),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',[_c('span',{staticStyle:{\"display\":\"block\"},on:{\"click\":function($event){return _vm.bulkDownload(_vm.bulk_path, 'tar')}}},[_vm._v(\"TAR\"+_vm._s(_vm.$t('download')))])]),_c('el-dropdown-item',{attrs:{\"divided\":\"\"}},[_c('span',{staticStyle:{\"display\":\"block\"},on:{\"click\":function($event){return _vm.bulkDownload(_vm.bulk_path, 'zip')}}},[_vm._v(\"ZIP\"+_vm._s(_vm.$t('download')))])])],1)],1),_vm._v(\"      \"),_c('div',{staticClass:\"search-Box\",staticStyle:{\"float\":\"right\",\"width\":\"300px\",\"margin-right\":\"5px\",\"margin-bottom\":\"10px\",\"margin-top\":\"-5px\"}},[_c('el-input',{staticClass:\"search\",attrs:{\"placeholder\":_vm.$t('keyword_search'),\"icon\":\"search\",\"suffix-icon\":\"el-icon-search\"},model:{value:(_vm.search_key),callback:function ($$v) {_vm.search_key=$$v},expression:\"search_key\"}})],1),_vm._v(\"      \"),_c('ul',_vm._l((_vm.header_paths),function(item){return _c('li',{staticStyle:{\"float\":\"left\",\"margin-top\":\"10px\",\"list-style\":\"none\"}},[_c('a',{staticClass:\"el-icon-folder-opened\",staticStyle:{\"margin-right\":\"5px\",\"font-size\":\"16px\"},on:{\"click\":function($event){return _vm.openFileBrowser(null, null, item.path)}}},[_vm._v(_vm._s(item.name))])])}),0),_vm._v(\"      \"),_c('span',{staticStyle:{\"float\":\"left\"}},[_c('el-button',{staticStyle:{\"padding\":\"3px\",\"margin-top\":\"8px\"},attrs:{\"type\":\"info\",\"icon\":\"el-icon-refresh\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.openFileBrowser(null,null, _vm.path)}}})],1)],1),_c('el-table',{directives:[{name:\"tableDrag\",rawName:\"v-tableDrag\"}],staticClass:\"app-table\",staticStyle:{\"width\":\"100%\"},attrs:{\"id\":\"table_data\",\"border\":\"\",\"size\":\"100%\",\"cell-style\":{padding:'6px 0'},\"data\":_vm.file_browser_data.filter(\n              function (data) { return !_vm.search_key ||\n              data.Name.toLowerCase().includes(_vm.search_key.toLowerCase()); }\n          ),\"default-sort\":{prop: 'Name', order: 'ascending'}},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"fixed\":\"left\"}}),_c('el-table-column',{attrs:{\"fixed\":\"left\",\"min-width\":\"80px\",\"prop\":\"Name\",\"label\":_vm.$t('name'),\"sortable\":\"\",\"sort-orders\":['ascending', 'descending']},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.IsDir)?_c('div',{staticClass:\"el-icon-folder\",on:{\"click\":function($event){return _vm.openFileBrowser(null,null, scope.row.Path)}}},[_vm._v(\"  \"+_vm._s(scope.row.Name))]):_c('div',{staticClass:\"el-icon-files\"},[(scope.row.Size > 10240)?_c('span',{on:{\"click\":function($event){return _vm.download(scope.row.Path, 'zip')}}},[_vm._v(_vm._s(scope.row.Name))]):_c('span',{on:{\"click\":function($event){return _vm.openFileDialog(scope.row.Path, 'open')}}},[_vm._v(_vm._s(scope.row.Name))])])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"Size\",\"label\":_vm.$t('size'),\"sortable\":\"\",\"sort-orders\":['ascending', 'descending']}}),_c('el-table-column',{attrs:{\"prop\":\"Mode\",\"label\":_vm.$t('mode')}}),_c('el-table-column',{attrs:{\"prop\":\"ModTime\",\"label\":_vm.$t('mod_time'),\"sortable\":\"\",\"sort-orders\":['ascending', 'descending']}}),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"prop\":\"Download\",\"label\":_vm.$t('operate'),\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-dropdown',{staticClass:\"avatar-container\",staticStyle:{\"height\":\"36px\",\"font-size\":\"9px\"},attrs:{\"type\":\"info\",\"trigger\":\"click\"}},[_c('div',{staticClass:\"avatar-wrapper\"},[_c('el-button',{staticClass:\"el-icon-s-tools\",staticStyle:{\"width\":\"90px\",\"height\":\"30px\",\"margin-top\":\"4px\",\"margin-right\":\"6px\",\"padding-top\":\"7px\",\"padding-left\":\"14px\"},attrs:{\"type\":\"success\",\"round\":\"\",\"size\":\"medium\"}},[_vm._v(\" \"+_vm._s(_vm.$t('operate'))+\" \"),_c('i',{staticClass:\"el-icon-caret-bottom\"})])],1),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[(!scope.row.IsDir)?_c('el-dropdown-item',[(scope.row.Size > 10240)?_c('span',{on:{\"click\":function($event){return _vm.download(scope.row.Path, 'zip')}}},[_vm._v(_vm._s(_vm.$t('download')))]):_c('span',{staticClass:\"fake-file-btn\",on:{\"click\":function($event){return _vm.openFileDialog(scope.row.Path, 'open')}}},[_vm._v(_vm._s(_vm.$t('change')))])]):_vm._e(),_c('el-dropdown-item',[_c('span',{staticClass:\"fake-file-btn\",on:{\"click\":function($event){return _vm.openRenameDialog(scope.row.Name)}}},[_vm._v(_vm._s(_vm.$t('rename')))])]),_c('el-dropdown-item',[_c('span',{staticClass:\"fake-file-btn\",on:{\"click\":function($event){return _vm.removeFileOrDir(scope.row.Path)}}},[_vm._v(_vm._s(_vm.$t('remove')))])])],1)],1),_c('span',[_vm._v(\"    \")]),(scope.row.IsDir)?_c('el-dropdown',{staticClass:\"avatar-container\",staticStyle:{\"height\":\"36px\",\"font-size\":\"9px\"},attrs:{\"type\":\"success\",\"trigger\":\"click\"}},[_c('div',{staticClass:\"avatar-wrapper\"},[_c('el-button',{staticClass:\"el-icon-upload\",staticStyle:{\"width\":\"90px\",\"height\":\"30px\",\"margin-top\":\"4px\",\"margin-right\":\"6px\",\"padding-top\":\"7px\",\"padding-left\":\"14px\"},attrs:{\"type\":\"success\",\"round\":\"\",\"size\":\"medium\"}},[_vm._v(\" \"+_vm._s(_vm.$t('upload'))+\" \"),_c('i',{staticClass:\"el-icon-caret-bottom\"})])],1),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',[_c('span',{staticClass:\"fake-file-btn\"},[_vm._v(\" \"+_vm._s(_vm.$t('upload_file'))+\" \"),_c('input',{staticStyle:{\"display\":\"block\"},attrs:{\"type\":\"file\",\"name\":\"files\",\"multiple\":\"true\"},on:{\"change\":function($event){return _vm.uploadFileOrDir($event, scope.row.Path)}}})])]),_c('el-dropdown-item',{attrs:{\"divided\":\"\"}},[_c('span',{staticClass:\"fake-file-btn\"},[_vm._v(\" \"+_vm._s(_vm.$t('upload_dir'))+\" \"),_c('input',{staticStyle:{\"display\":\"block\"},attrs:{\"type\":\"file\",\"name\":\"files\",\"webkitdirectory\":\"\",\"mozdirectory\":\"\",\"accept\":\"*/*\"},on:{\"change\":function($event){return _vm.uploadFileOrDir($event, scope.row.Path)}}})])])],1)],1):_vm._e(),_c('span',[_vm._v(\"    \")]),_c('el-dropdown',{staticClass:\"avatar-container\",staticStyle:{\"height\":\"36px\",\"font-size\":\"9px\"},attrs:{\"type\":\"primary\",\"trigger\":\"click\"}},[_c('div',{staticClass:\"avatar-wrapper\"},[_c('el-button',{staticClass:\"el-icon-download\",staticStyle:{\"width\":\"90px\",\"height\":\"30px\",\"margin-top\":\"4px\",\"margin-right\":\"6px\",\"padding-top\":\"7px\",\"padding-left\":\"14px\"},attrs:{\"type\":\"primary\",\"round\":\"\",\"size\":\"medium\"}},[_vm._v(\" \"+_vm._s(_vm.$t('download'))+\" \"),_c('i',{staticClass:\"el-icon-caret-bottom\"})])],1),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',[_c('span',{staticStyle:{\"display\":\"block\"},on:{\"click\":function($event){return _vm.download(scope.row.Path, 'tar')}}},[_vm._v(\"TAR\"+_vm._s(_vm.$t('download')))])]),_c('el-dropdown-item',{attrs:{\"divided\":\"\"}},[_c('span',{staticStyle:{\"display\":\"block\"},on:{\"click\":function($event){return _vm.download(scope.row.Path, 'zip')}}},[_vm._v(\"ZIP\"+_vm._s(_vm.$t('download')))])])],1)],1)]}}])})],1)],1)]),_c('el-dialog',{attrs:{\"append-to-body\":true,\"with-header\":false,\"width\":\"80%\",\"title\":_vm.$t('file'),\"visible\":_vm.dialog_file_visible},on:{\"update:visible\":function($event){_vm.dialog_file_visible=$event},\"close\":function($event){_vm.dialog_file_visible = false}}},[_c('div',{staticStyle:{\"margin-top\":\"-45px\"}},[_c('span',{staticStyle:{\"display\":\"block\",\"float\":\"left\",\"font-size\":\"25px\",\"margin-top\":\"20px\",\"margin-left\":\"12px\"}},[_vm._v(_vm._s(_vm.create_for_path))]),(_vm.is_new_file)?_c('el-input',{staticStyle:{\"margin-top\":\"17px\",\"margin-left\":\"6px\",\"float\":\"left\",\"width\":\"auto\"},attrs:{\"size\":\"small\",\"autocomplete\":\"off\",\"placeholder\":_vm.$t('please_input_name')},model:{value:(_vm.create_name),callback:function ($$v) {_vm.create_name=$$v},expression:\"create_name\"}}):_vm._e(),_c('el-button',{staticStyle:{\"float\":\"right\",\"margin-right\":\"12px\",\"margin-top\":\"12px\"},nativeOn:{\"click\":function($event){return _vm.saveFile.apply(null, arguments)}}},[_vm._v(_vm._s(_vm.$t('enter')))]),_c('el-input',{staticStyle:{\"margin-top\":\"15px\"},attrs:{\"rows\":\"15\",\"type\":\"textarea\",\"placeholder\":_vm.$t('please_input_content')},model:{value:(_vm.fileContent),callback:function ($$v) {_vm.fileContent=$$v},expression:\"fileContent\"}})],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <el-card shadow=\"never\">\n      <div>\n        <el-select v-model=\"namespace\" @click.native=\"getNamespace\" @change=\"selectedNamespace\" style=\"width: 100%\" filterable :placeholder=\"$t('please_select_namespace')\">\n          <el-option\n              v-for=\"item in namespaces\"\n              :label=\"item\"\n              :value=\"item\"\n              :key=\"item\"\n          ></el-option>\n        </el-select>\n      </div>\n      <div style=\"margin-top: 15px\" class=\"table\">\n        <div style=\"float: right; text-align: center;margin-bottom: 20px;\">\n          <el-pagination\n              background\n              @size-change=\"handleSizeChange\"\n              @current-change=\"handleCurrentChange\"\n              :current-page=\"current_page\"\n              :page-sizes=\"page_sizes\"\n              :page-size=\"page_size\"\n              layout=\"total, sizes, prev, pager, next, jumper\"\n              :total=\"total_count\">\n          </el-pagination>\n        </div>\n        <div style=\"float: right;width: 300px;margin-right: 5px;margin-bottom: 10px;margin-top: -5px\" class=\"search-Box\">\n          <el-input  :placeholder=\"$t('keyword_search')\" icon=\"search\"  class=\"search\" suffix-icon=\"el-icon-search\" v-model=\"search_key\"/>\n        </div>\n        <el-table\n            v-tableDrag\n            class=\"app-table\"\n            size=\"medium\"\n            :data=\"table_data.filter(\n                data => !search_key ||\n                data.pod_name.toLowerCase().includes(search_key.toLowerCase()) ||\n                data.node_name.toLowerCase().includes(search_key.toLowerCase()) ||\n                data.host_ip.toLowerCase().includes(search_key.toLowerCase())\n            )\"\n            style=\"width: 100%\"\n            :default-sort=\"{prop: 'pod_name', order: 'ascending'}\"\n          >\n          <el-table-column prop=\"pod_name\" :label=\"$t('pod')\" sortable show-overflow-tooltip min-width=\"400\" fixed=\"left\" :sort-orders=\"['ascending', 'descending']\"></el-table-column>\n          <el-table-column :label=\"$t('state')\" sortable show-overflow-tooltip width=\"100\" :sort-orders=\"['ascending', 'descending']\">\n            <template slot-scope=\"scope\">\n              <el-button v-if=\"scope.row.state === 'Running' || scope.row.state === 'Succeeded'\" type=\"success\"\n                         size=\"mini\" plain round>\n                {{ scope.row.state }}\n              </el-button>\n              <el-button v-if=\"scope.row.state !== 'Running' && scope.row.State !== 'Succeeded'\" type=\"warning\"\n                         size=\"mini\" plain round>\n                {{ scope.row.state }}\n              </el-button>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"Pod IP\"  sortable width=\"110\" :sort-orders=\"['ascending', 'descending']\">\n            <template slot-scope=\"scope\">\n              <span v-for=\"list in scope.row.pod_ips\">{{list.ip}}<br></span>\n            </template>\n          </el-table-column>\n          <el-table-column :label=\"$t('node')\" sortable width=\"220\" :sort-orders=\"['ascending', 'descending']\">\n            <template slot-scope=\"scope\">\n              {{scope.row.node_name}}<br>\n              {{scope.row.host_ip}}\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"create_time\" :label=\"$t('create_time')\" sortable fix width=\"170\" :sort-orders=\"['ascending', 'descending']\"></el-table-column>\n          <el-table-column prop=\"restart_count\" :label=\"$t('restart_count')\" sortable width=\"100\" :sort-orders=\"['ascending', 'descending']\"></el-table-column>\n          <el-table-column prop=\"os\" :label=\"$t('os')\" sortable width=\"100\" :sort-orders=\"['ascending', 'descending']\"></el-table-column>\n          <el-table-column prop=\"arch\" :label=\"$t('arch')\" sortable width=\"120\" :sort-orders=\"['ascending', 'descending']\"></el-table-column>\n          <el-table-column :label=\"$t('operate')\" min-width=\"186\" fixed=\"right\" style=\"text-align: right\" :sort-orders=\"['ascending', 'descending']\">\n            <template v-slot:default=\"{row}\">\n              <el-dropdown style=\"margin-left: 10px\" :hide-on-click=\"false\" v-if=\"row.state === 'Running'\">\n                <el-dropdown-menu></el-dropdown-menu>\n                <el-popover placement=\"left\" trigger=\"hover\">\n                  <div v-for=\"c in row.containers\" :key=\"c.name\">\n                    <p style=\"margin: 0\">\n                      <el-button @click=\"openTerminal(row, c)\" type=\"text\">{{ c.name }}</el-button>\n                    </p>\n                  </div>\n                  <el-dropdown-item slot=\"reference\" icon=\"el-icon-s-fold\">\n                    {{ $t(\"terminal\") }}\n                    <i class=\"el-icon-arrow-right\"/>\n                  </el-dropdown-item>\n                </el-popover>\n                <el-popover placement=\"left\" trigger=\"hover\">\n                  <div v-for=\"c in row.containers\" :key=\"c.name\">\n                    <p style=\"margin: 0\">\n                      <el-button @click=\"openFileBrowser(row, c, '/')\" type=\"text\">{{ c.name }}</el-button>\n                    </p>\n                  </div>\n                  <el-dropdown-item slot=\"reference\" icon=\"el-icon-files\">\n                    {{ $t(\"file_browser\") }}\n                    <i class=\"el-icon-arrow-right\"/>\n                  </el-dropdown-item>\n                </el-popover>\n              </el-dropdown>\n            </template>\n          </el-table-column>\n        </el-table>\n      </div>\n    </el-card>\n    <el-dialog\n        :visible.sync=\"dialog_terminal_visible\"\n        :title=\"$t('terminal')\"\n        center\n        fullscreen\n        :modal=\"false\"\n        :destroy-on-close=\"true\"\n        @opened=\"doOpened\"\n        @close=\"doClose\"\n    >\n      <div style=\"margin-top: -25px;\">\n        <div ref=\"terminal\" />\n      </div>\n    </el-dialog>\n    <el-dialog\n        center\n        fullscreen\n        :title=\"$t('file_browser')\"\n        :visible.sync=\"dialog_file_browser_visible\"\n        @close=\"dialog_file_browser_visible = false\">\n      <div style=\"margin-top: -25px;\">\n        <el-table-header store=\"\">\n          <el-dropdown  type=\"info\" class=\"avatar-container\" trigger=\"click\" style=\"height: 36px; float: right; margin-bottom: 10px;\">\n            <div class=\"avatar-wrapper\">\n              <el-button style=\"width: 90px; height: 30px; margin-right: 6px; padding-top: 7px; padding-left: 14px;\" type=\"success\" round class=\"el-icon-s-tools\" size=\"medium\">\n                {{ $t('create') }}\n                <i class=\"el-icon-caret-bottom\" />\n              </el-button>\n            </div>\n            <el-dropdown-menu slot=\"dropdown\">\n              <el-dropdown-item>\n                <span style=\"display:block;\" @click=\"openFileDialog(global_path, 'create')\">{{ $t('create_file') }}</span>\n              </el-dropdown-item>\n              <el-dropdown-item>\n                <span style=\"display:block;\" @click=\"createDir()\">{{ $t('create_dir') }}</span>\n              </el-dropdown-item>\n            </el-dropdown-menu>\n          </el-dropdown>\n          <el-dropdown type=\"success\" class=\"avatar-container\" trigger=\"click\" style=\"height: 36px;float: right;margin-bottom: 10px;\">\n            <div class=\"avatar-wrapper\">\n              <el-button style=\"width: 90px; height: 30px; margin-right: 6px; padding-top: 7px; padding-left: 14px;\" type=\"success\" round class=\"el-icon-upload\" size=\"medium\">\n                {{ $t('upload') }}\n                <i class=\"el-icon-caret-bottom\" />\n              </el-button>\n            </div>\n            <el-dropdown-menu slot=\"dropdown\">\n              <el-dropdown-item>\n                <span class=\"fake-file-btn\">\n                  {{ $t('upload_file') }}\n                  <input type=\"file\" style=\"display:block;\" v-on:change=\"uploadFileOrDir($event, global_path)\" name=\"files\" multiple=\"true\">\n                </span>\n              </el-dropdown-item>\n              <el-dropdown-item divided>\n                <span class=\"fake-file-btn\">\n                  {{ $t('upload_dir') }}\n                  <input type=\"file\" style=\"display:block;\" v-on:change=\"uploadFileOrDir($event, global_path)\" name=\"files\" webkitdirectory mozdirectory accept=\"*/*\">\n                </span>\n              </el-dropdown-item>\n            </el-dropdown-menu>\n          </el-dropdown>\n          <el-dropdown type=\"primary\" class=\"el-upload avatar-container\" trigger=\"click\" style=\"height: 36px;float: right;margin-bottom: 10px;\">\n            <div class=\"avatar-wrapper\">\n              <el-button style=\"width: 120px; height: 30px; margin-right: 6px; padding-top: 7px; padding-left: 14px;\" type=\"primary\" round class=\"el-icon-download\" size=\"medium\">\n                {{ $t('bulk_download') }}\n                <i class=\"el-icon-caret-bottom\" />\n              </el-button>\n            </div>\n            <el-dropdown-menu slot=\"dropdown\">\n              <el-dropdown-item>\n                <span style=\"display:block;\" @click=\"bulkDownload(bulk_path, 'tar')\">TAR{{ $t('download') }}</span>\n              </el-dropdown-item>\n              <el-dropdown-item divided>\n                <span style=\"display:block;\" @click=\"bulkDownload(bulk_path, 'zip')\">ZIP{{ $t('download') }}</span>\n              </el-dropdown-item>\n            </el-dropdown-menu>\n          </el-dropdown>\n          &nbsp;&nbsp;&nbsp;&nbsp;\n          <div style=\"float: right;width: 300px;margin-right: 5px;margin-bottom: 10px; margin-top: -5px\" class=\"search-Box\">\n            <el-input  :placeholder=\"$t('keyword_search')\" icon=\"search\"  class=\"search\" suffix-icon=\"el-icon-search\" v-model=\"search_key\"/>\n          </div>\n          &nbsp;&nbsp;&nbsp;&nbsp;\n          <ul>\n            <li style=\"float: left; margin-top: 10px; list-style: none;\" v-for=\"(item) in header_paths\">\n              <a style=\"margin-right: 5px; font-size: 16px\" class=\"el-icon-folder-opened\" @click=\"openFileBrowser(null, null, item.path)\">{{item.name}}</a>\n            </li>\n          </ul>\n          &nbsp;&nbsp;&nbsp;&nbsp;\n          <span style=\"float: left;\">\n            <el-button type=\"info\" style=\"padding: 3px;margin-top: 8px;\" icon=\"el-icon-refresh\" circle @click=\"openFileBrowser(null,null, path)\"></el-button>\n          </span>\n        </el-table-header>\n        <el-table\n            v-tableDrag\n            id=\"table_data\"\n            class=\"app-table\"\n            border\n            style=\"width: 100%\"\n            size=\"100%\"\n            :cell-style=\"{padding:'6px 0'}\"\n            :data=\"file_browser_data.filter(\n                data => !search_key ||\n                data.Name.toLowerCase().includes(search_key.toLowerCase())\n            )\"\n            @selection-change=\"handleSelectionChange\"\n            :default-sort=\"{prop: 'Name', order: 'ascending'}\">\n          <el-table-column type=\"selection\" fixed=\"left\"></el-table-column>\n          <el-table-column\n              fixed=\"left\"\n              min-width=\"80px\"\n              prop=\"Name\"\n              :label=\"$t('name')\"\n              sortable\n              :sort-orders=\"['ascending', 'descending']\"\n          >\n            <template slot-scope=\"scope\">\n              <div class=\"el-icon-folder\" v-if=\"scope.row.IsDir\" @click=\"openFileBrowser(null,null, scope.row.Path)\">&nbsp;&nbsp;{{scope.row.Name}}</div>\n              <div class=\"el-icon-files\" v-else>\n                <span v-if=\"scope.row.Size > 10240\" @click=\"download(scope.row.Path, 'zip')\">{{scope.row.Name}}</span>\n                <span v-else @click=\"openFileDialog(scope.row.Path, 'open')\">{{scope.row.Name}}</span>\n              </div>\n            </template>\n          </el-table-column>\n          <el-table-column\n              prop=\"Size\"\n              :label=\"$t('size')\"\n              sortable\n              :sort-orders=\"['ascending', 'descending']\"\n          >\n          </el-table-column>\n          <el-table-column\n              prop=\"Mode\"\n              :label=\"$t('mode')\"\n          >\n          </el-table-column>\n          <el-table-column\n              prop=\"ModTime\"\n              :label=\"$t('mod_time')\"\n              sortable\n              :sort-orders=\"['ascending', 'descending']\"\n          >\n          </el-table-column>\n          <el-table-column\n              fixed=\"right\"\n              prop=\"Download\"\n              :label=\"$t('operate')\" align=\"center\"\n          >\n            <template slot-scope=\"scope\">\n              <el-dropdown type=\"info\" class=\"avatar-container\" trigger=\"click\" style=\"height: 36px;font-size: 9px\">\n                <div class=\"avatar-wrapper\">\n                  <el-button style=\"width: 90px; height: 30px; margin-top: 4px; margin-right: 6px; padding-top: 7px; padding-left: 14px;\" type=\"success\" round class=\"el-icon-s-tools\" size=\"medium\">\n                    {{ $t('operate') }}\n                    <i class=\"el-icon-caret-bottom\" />\n                  </el-button>\n                </div>\n                <el-dropdown-menu slot=\"dropdown\">\n                  <el-dropdown-item v-if=\"!scope.row.IsDir\">\n                    <span v-if=\"scope.row.Size > 10240\" @click=\"download(scope.row.Path, 'zip')\">{{ $t('download') }}</span>\n                    <span v-else class=\"fake-file-btn\" @click=\"openFileDialog(scope.row.Path, 'open')\">{{ $t('change') }}</span>\n                  </el-dropdown-item>\n                  <el-dropdown-item>\n                    <span class=\"fake-file-btn\" @click=\"openRenameDialog(scope.row.Name)\">{{ $t('rename') }}</span>\n                  </el-dropdown-item>\n                  <el-dropdown-item>\n                    <span class=\"fake-file-btn\" @click=\"removeFileOrDir(scope.row.Path)\">{{ $t('remove') }}</span>\n                  </el-dropdown-item>\n                </el-dropdown-menu>\n              </el-dropdown>\n              <span>\n                &nbsp;&nbsp;\n              </span>\n              <el-dropdown v-if=\"scope.row.IsDir\" type=\"success\" class=\"avatar-container\" trigger=\"click\" style=\"height: 36px;font-size: 9px\">\n                <div class=\"avatar-wrapper\">\n                  <el-button style=\"width: 90px; height: 30px; margin-top: 4px; margin-right: 6px; padding-top: 7px; padding-left: 14px;\" type=\"success\" round class=\"el-icon-upload\" size=\"medium\">\n                    {{ $t('upload') }}\n                    <i class=\"el-icon-caret-bottom\" />\n                  </el-button>\n                </div>\n                <el-dropdown-menu slot=\"dropdown\">\n                  <el-dropdown-item>\n                    <span class=\"fake-file-btn\">\n                      {{ $t('upload_file') }}\n                      <input type=\"file\" style=\"display:block;\" v-on:change=\"uploadFileOrDir($event, scope.row.Path)\" name=\"files\" multiple=\"true\">\n                    </span>\n                  </el-dropdown-item>\n                  <el-dropdown-item divided>\n                    <span class=\"fake-file-btn\">\n                      {{ $t('upload_dir') }}\n                      <input type=\"file\" style=\"display:block;\" v-on:change=\"uploadFileOrDir($event, scope.row.Path)\" name=\"files\" webkitdirectory mozdirectory accept=\"*/*\">\n                    </span>\n                  </el-dropdown-item>\n                </el-dropdown-menu>\n              </el-dropdown>\n              <span>\n                &nbsp;&nbsp;\n              </span>\n              <el-dropdown type=\"primary\" class=\"avatar-container\" trigger=\"click\" style=\"height: 36px;font-size: 9px\">\n                <div class=\"avatar-wrapper\">\n                  <el-button style=\"width: 90px; height: 30px; margin-top: 4px; margin-right: 6px; padding-top: 7px; padding-left: 14px;\" type=\"primary\" round class=\"el-icon-download\" size=\"medium\">\n                    {{ $t('download') }}\n                    <i class=\"el-icon-caret-bottom\" />\n                  </el-button>\n                </div>\n                <el-dropdown-menu slot=\"dropdown\">\n                  <el-dropdown-item>\n                    <span style=\"display:block;\" @click=\"download(scope.row.Path, 'tar')\">TAR{{ $t('download') }}</span>\n                  </el-dropdown-item>\n                  <el-dropdown-item divided>\n                    <span style=\"display:block;\" @click=\"download(scope.row.Path, 'zip')\">ZIP{{ $t('download') }}</span>\n                  </el-dropdown-item>\n                </el-dropdown-menu>\n              </el-dropdown>\n            </template>\n          </el-table-column>\n        </el-table>\n      </div>\n    </el-dialog>\n    <el-dialog\n        :append-to-body=\"true\"\n        :with-header=\"false\"\n        width=\"80%\"\n        :title=\"$t('file')\"\n        :visible.sync=\"dialog_file_visible\"\n        @close=\"dialog_file_visible = false\">\n      <div style=\"margin-top: -45px\">\n        <span style=\"display:block; float: left;font-size: 25px;margin-top: 20px; margin-left: 12px\">{{create_for_path}}</span>\n        <el-input v-if=\"is_new_file\" v-model=\"create_name\" size=\"small\" style=\"margin-top: 17px; margin-left: 6px;float: left; width: auto;\" autocomplete=\"off\" :placeholder=\"$t('please_input_name')\"></el-input>\n        <el-button @click.native=\"saveFile\" style=\"float: right;margin-right: 12px;margin-top: 12px\">{{ $t('enter') }}</el-button>\n        <el-input v-model=\"fileContent\" rows=\"15\" type=\"textarea\" style=\"margin-top: 15px\" :placeholder=\"$t('please_input_content')\"></el-input>\n        <!--        style=\"margin-top: 15px;margin-bottom: 60px;padding-bottom: 70px;height: 600px;\"-->\n        <!--        <quill-editor-->\n        <!--            style=\"margin-top: 15px;height: 100%\"-->\n        <!--            v-model=\"fileContent\"-->\n        <!--            :options=\"editor_option\">-->\n        <!--        </quill-editor>-->\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n\n<style>\n.fake-file-btn {\n}\n.fake-file-btn:active {\n  box-shadow: 0 1px 5px 1px rgba(0, 255, 255, 0.3) inset;\n}\n.fake-file-btn input[type=file] {\n  position: absolute;\n  font-size: 100px;\n  right: 0;\n  top: 0;\n  opacity: 0;\n  filter: alpha(opacity=0);\n  cursor: pointer\n}\n</style>\n\n<script>\nimport {Download, GetNamespace, GetPods, Upload,} from '../api/kubeapiproxy'\nimport {\n  FileBrowserCreateDir,\n  FileBrowserCreateFile,\n  FileBrowserList,\n  FileBrowserOpen,\n  FileBrowserRemove,\n  FileBrowserRename,\n} from \"../api/filebrowser\";\nimport {Terminal} from 'xterm'\nimport * as fit from 'xterm/lib/addons/fit/fit'\nimport {Base64} from 'js-base64'\nimport * as webLinks from 'xterm/lib/addons/webLinks/webLinks'\nimport * as search from 'xterm/lib/addons/search/search'\nimport 'xterm/lib/addons/fullscreen/fullscreen.css'\nimport 'xterm/dist/xterm.css'\n\nconst toolbar_options = [\n  [\"bold\", \"italic\", \"underline\", \"strike\"], // 加粗 斜体 下划线 删除线\n  [\"blockquote\", \"code-block\"], // 引用  代码块\n  [{ header: 1 }, { header: 2 }], // 1、2 级标题\n  [{ list: \"ordered\" }, { list: \"bullet\" }], // 有序、无序列表\n  [{ script: \"sub\" }, { script: \"super\" }], // 上标/下标\n  [{ indent: \"-1\" }, { indent: \"+1\" }], // 缩进\n  // [{'direction': 'rtl'}],                         // 文本方向\n  [{ size: [\"small\", false, \"large\", \"huge\"] }], // 字体大小\n  [{ header: [1, 2, 3, 4, 5, 6, false] }], // 标题\n  [{ color: [] }, { background: [] }], // 字体颜色、字体背景颜色\n  [{ font: [] }], // 字体种类\n  [{ align: [] }], // 对齐方式\n  [\"clean\"], // 清除文本格式\n  [\"link\"] // 链接、图片\n];\n\nconst defaultTheme = {\n  foreground: '#ffffff', // 字体\n  background: '#1b212f', // 背景色\n  cursor: '#ffffff', // 设置光标\n  selection: 'rgba(255, 255, 255, 0.3)',\n  black: '#000000',\n  brightBlack: '#808080',\n  red: '#ce2f2b',\n  brightRed: '#f44a47',\n  green: '#00b976',\n  brightGreen: '#05d289',\n  yellow: '#e0d500',\n  brightYellow: '#f4f628',\n  magenta: '#bd37bc',\n  brightMagenta: '#d86cd8',\n  blue: '#1d6fca',\n  brightBlue: '#358bed',\n  cyan: '#00a8cf',\n  brightCyan: '#19b8dd',\n  white: '#e5e5e5',\n  brightWhite: '#ffffff'\n}\nconst bindTerminalResize = (term, websocket) => {\n  const onTermResize = size => {\n    websocket.send(\n        Base64.encode(\n            JSON.stringify({\n              type: 'resize',\n              rows: size.rows,\n              cols: size.cols\n            })\n        )\n    )\n  }\n  // register resize event.\n  term.on('resize', onTermResize)\n  // unregister resize event when WebSocket closed.\n  websocket.addEventListener('close', function() {\n    term.off('resize', onTermResize)\n  })\n}\nconst bindTerminal = (term, websocket, bidirectional, bufferedTime) => {\n  term.socket = websocket\n  let messageBuffer = null\n  const handleWebSocketMessage = function(ev) {\n    if (bufferedTime && bufferedTime > 0) {\n      if (messageBuffer) {\n        messageBuffer += Base64.decode(ev.data)\n      } else {\n        messageBuffer = Base64.decode(ev.data)\n        setTimeout(function() {\n          term.write(messageBuffer)\n        }, bufferedTime)\n      }\n    } else {\n      term.write(Base64.decode(ev.data))\n    }\n  }\n  const handleTerminalData = function(data) {\n    websocket.send(\n        Base64.encode(\n            JSON.stringify({\n              type: 'input',\n              input: data\n            })\n        )\n    )\n  }\n  websocket.onmessage = handleWebSocketMessage\n  if (bidirectional) {\n    term.on('data', handleTerminalData)\n  }\n  // send heartbeat package to avoid closing webSocket connection in some proxy environmental such as nginx.\n  const heartBeatTimer = setInterval(function() {\n    websocket.send(\n        Base64.encode(\n            JSON.stringify({\n              type: 'heartbeat',\n              data: ''\n            })\n        )\n    )\n    // websocket.send('1')\n  }, 20 * 1000)\n  websocket.addEventListener('close', function() {\n    websocket.removeEventListener('message', handleWebSocketMessage)\n    term.off('data', handleTerminalData)\n    delete term.socket\n    clearInterval(heartBeatTimer)\n  })\n}\n\nexport default {\n  data() {\n    return {\n      namespace: \"\",\n      namespaces: [],\n      table_data: [],\n      table_datas: {},\n      pods: [],\n      file_browser_data: [],\n      continue: \"\",\n      total_count: 0,\n      page_sizes: [10, 30, 50, 100, 150, 200],\n      page_size: 10,\n      current_page: 1,\n      pod_name: \"\",\n      container:\"\",\n      path: \"\",\n      bulk_path: [],\n      global_path: \"\",\n      header_paths: [],\n      dialog_terminal_visible: false,\n      dialog_file_browser_visible: false,\n      dialog_file_visible: false,\n      ws_url: \"\",\n      search_key: '',\n      v: this.visible,\n      ws: null,\n      term: null,\n      thisV: this.visible,\n      create_for_path: \"\",\n      create_name: \"\",\n      fileContent: \"\",\n      is_new_file: false,\n      editor_option: {\n        theme: \"snow\", // or 'bubble'\n        modules: {\n          toolbar: {\n            container: toolbar_options,\n          }\n        }\n      },\n    }\n  },\n  methods: {\n    getNamespace() {\n      GetNamespace().then(res =>{\n        if (res) {\n          this.namespaces = []\n          const data = res.items\n          for(const key in data){\n            this.namespaces.push(data[key].metadata.name)\n          }\n        }\n      })\n    },\n    // 分页\n    // 每页显示的条数\n    handleSizeChange(val) {\n      // 改变每页显示的条数\n      this.page_size=val\n      if (this.namespace !== \"\") {\n        // 点击每页显示的条数时，显示第一页\n        this.selectedNamespace(this.namespace)\n        // 注意：在改变每页显示的条数时，要将页码显示到第一页\n        this.current_page=1\n      }\n    },\n    // 显示第几页\n    handleCurrentChange(val) {\n      // 改变默认的页数\n      this.current_page=val\n      this.table_data = this.table_datas[val]\n    },\n    selectedNamespace(options) {\n      this.pods = []\n      this.table_data = []\n      this.continue = \"\"\n      this.namespace = options\n      // 处理第一页\n      GetPods({namespace: options, limit: this.page_size}).then(async res => {\n        this.total_count = res.metadata.remainingItemCount\n        this.table_datas[1] = this.getTableData(res)\n        if (this.total_count === null || this.total_count === undefined) {\n          this.total_count = 0\n          if (res.metadata.continue === null || res.metadata.continue === undefined) {\n            this.total_count = this.table_datas[1].length\n          }else {\n            this.total_count += this.page_size+1\n          }\n        } else {\n          this.total_count += this.page_size\n        }\n        // 处理剩余页面\n        for (let i = 1; i < Math.ceil(this.total_count / this.page_size); i++) {\n          await GetPods({namespace: options, limit: this.page_size, continue: this.continue}).then(res => {\n            this.table_datas[i+1] = this.getTableData(res)\n          })\n        }\n        this.table_data = this.table_datas[1]\n      }, err => {\n        this.$message.error(err.message)\n      })\n    },\n    getTableData (res) {\n      this.continue = res.metadata.continue\n      let table_data = []\n      for (const i in res.items) {\n        const pod = res.items[i]\n        let tr = {\n          namespace: pod.metadata.namespace,\n          pod_name: pod.metadata.name,\n          state: pod.status.phase,\n          os: pod.metadata.annotations.os,\n          arch: pod.metadata.annotations.arch,\n          create_time: pod.metadata.creationTimestamp,\n          pod_ips: pod.status.podIPs,\n          node_name: pod.spec.nodeName,\n          host_ip: pod.status.hostIP,\n          containers: pod.spec.containers,\n          restart_count: this.getRestartTimes(pod),\n        }\n        table_data.push(tr)\n      }\n      return table_data\n    },\n    getRestartTimes (row) {\n      if (row.status.containerStatuses) {\n        let restartCount = 0\n        for (const c of row.status.containerStatuses) {\n          restartCount += c.restartCount\n        }\n        return restartCount\n      }\n      return 0\n    },\n    openTerminal(options, container) {\n      let shell = \"sh\"\n      if (options.os === \"windows\") {\n        shell = \"cmd\"\n      }\n      this.dialog_terminal_visible = true\n      this.ws_url = \"ws://\"+window.location.host+\"/api/kubeapiproxy/terminal?namespace=\"+this.namespace+\"&pod=\"+options.pod_name+\"&container=\"+container.name+\"&shell=\"+shell;\n    },\n    openFileBrowser(options, container, path) {\n      if (path === undefined) {\n        path = \"/\"\n      }\n      if (path === \"/\" && options !== null) {\n        this.pod_name = options.pod_name\n      }\n      if (container != null) {\n        this.container = container.name\n      }\n      this.header_paths = []\n      this.global_path=path\n      this.header_paths.push(path)\n      if (path !== undefined) {\n        let _p = path.split('/')\n        let _pa = \"\"\n        this.header_paths = []\n        _p.forEach((item,index) => {\n          if (index === 0) {\n            _pa = \"/\"\n            item = \"/\"\n            this.header_paths.push({\n              name: item,\n              path: _pa,\n            })\n          }\n          if (index !== 0 && item !== \"\") {\n            _pa += item + \"/\"\n            this.header_paths.push({\n              name: item,\n              path: _pa,\n            })\n          }\n        })\n      }\n      this.path = path\n      this.file_browser_data = []\n      FileBrowserList({\n        namespace: this.namespace,\n        pod: this.pod_name,\n        container: this.container,\n        path: path,\n      }).then(res => {\n        this.dialog_file_browser_visible = true\n        this.file_browser_data = []\n        if (res !== undefined) {\n          this.file_browser_data = res\n        }\n      }, err => {\n        this.$message.error(err.message)\n      })\n    },\n    openFileDialog(path, type) {\n      this.fileContent = \"\"\n      this.dialog_file_visible=true\n      this.create_for_path = path\n      this.is_new_file = true\n      if (type === \"open\") {\n        this.is_new_file = false\n        this.create_name = \"\"\n        FileBrowserOpen({\n          namespace: this.namespace,\n          pod: this.pod_name,\n          container: this.container,\n          path: path,\n        }).then(res => {\n          console.log(res)\n          if (res !== undefined) {\n            this.fileContent = res\n          }\n        }, err => {\n          this.dialog_file_visible=false\n          this.$message.error(err.message)\n        })\n      }\n    },\n    saveFile() {\n      let path = this.create_for_path+\"/\"+this.create_name\n      if (this.create_name === \"\") {\n        path = this.create_for_path\n      }\n      FileBrowserCreateFile(this.fileContent, {\n        namespace: this.namespace,\n        pod: this.pod_name,\n        container: this.container,\n        path: path,\n      }).then(res => {\n        console.log(res)\n        if (res !== undefined) {\n          this.dialog_file_visible = false\n          this.fileContent = \"\"\n          this.create_name = \"\"\n          this.$message.success(res)\n          this.openFileBrowser(null, null, this.path)\n        }\n      }, err => {\n        this.$message.error(err.message)\n      })\n    },\n    createDir() {\n      this.$prompt(this.$t('please_input_name'), this.$t('tips'), {\n        confirmButtonText: this.$t('enter'),\n        cancelButtonText: this.$t('cancel'),\n        type: 'warning'\n      }).then(({value}) => {\n        if(!value) {//对输入内容校验\n          return this.$t('please_input_name');\n        }\n        FileBrowserCreateDir({\n          namespace: this.namespace,\n          pod: this.pod_name,\n          container: this.container,\n          path: this.path+\"/\"+value,\n        }).then(res => {\n          if (res !== undefined) {\n            this.$message.success(res)\n            this.openFileBrowser(null, null, this.path)\n          }\n        }, err => {\n          this.$message.error(err.message)\n        })\n      }).catch(() => {\n        this.$message.info(this.$t('cancel'))\n      });\n    },\n    openRenameDialog(oldName) {\n      this.$prompt(this.$t('please_input_name')+\"\\n\"+oldName, this.$t('tips'), {\n        confirmButtonText: this.$t('enter'),\n        cancelButtonText: this.$t('cancel'),\n        type: 'warning'\n      }).then(({value}) => {\n        if(!value) {//对输入内容校验\n          return this.$t('please_input_name');\n        }\n        FileBrowserRename({\n          namespace: this.namespace,\n          pod: this.pod_name,\n          container: this.container,\n          old_path: this.path+\"/\"+oldName,\n          path: this.path+\"/\"+value,\n        }).then(res => {\n          console.log(res)\n          if (res !== undefined) {\n            this.$message.success(res)\n            this.openFileBrowser(null, null, this.path)\n          }\n        }, err => {\n          this.$message.error(err.message)\n        })\n      }).catch(() => {\n        this.$message.info(this.$t('cancel'))\n      });\n    },\n    removeFileOrDir(path) {\n      this.$confirm(this.$t('tips_msg')+\"\\n\"+path, this.$t('tips'), {\n        confirmButtonText: this.$t('enter'),\n        cancelButtonText: this.$t('cancel'),\n        type: 'warning'\n      }).then(() => {\n        FileBrowserRemove({\n          namespace: this.namespace,\n          pod: this.pod_name,\n          container: this.container,\n          path: path,\n        }).then(res => {\n          console.log(res)\n          if (res !== undefined) {\n            this.$message.success(res)\n            this.openFileBrowser(null, null, this.path)\n          }\n        }, err => {\n          this.$message.error(err.message)\n        })\n      }).catch(() => {\n        this.$message.info(this.$t('cancel'))\n      });\n    },\n    handleSelectionChange(val) {\n      this.bulk_path = []\n      val.forEach((item) => {\n        this.bulk_path.push(item.Path)\n      })\n    },\n    download(path, style) {\n      Download({namespace: this.namespace, pod: this.pod_name, container: this.container, dest_paths: path, style: style}).then(res=>{})\n    },\n    bulkDownload(paths, style) {\n      if (paths.length === 0) {\n        this.$message.error(this.$t('cannot_empty'))\n        return\n      }\n      let path = \"\"\n      paths.forEach(item => {\n        path += \"&dest_paths=\"+item\n      })\n      Download({namespace: this.namespace, pod: this.pod_name, container: this.container, dest_paths: path, style: style}).then(res=>{})\n    },\n    uploadFileOrDir(e, path) {\n      const files = e.target.files;\n      if (files.length === 0 ) {\n        e.target.value = \"\"\n        return\n      }\n      const formData = new FormData();\n      //追加文件数据\n      for (let i = 0; i < files.length; i++) {\n        formData.append(\"files\", files[i]);\n      }\n      Upload(formData, {\n        namespace:this.namespace,\n        pod:this.pod_name,\n        containers:this.container,\n        dest_path:path},{\"Content-Type\":\"multipart/form-data\"}).then((res) => {\n          this.openFileBrowser(null, null, path)\n          this.$prompt(res, this.$t('tips'), {\n            confirmButtonText: this.$t('enter'),\n            cancelButtonText: this.$t('cancel'),\n            showInput: false,\n            type: 'success'\n          })\n      }, (err) => {\n        this.$message.error(err.message)\n      })\n      e.target.value = \"\"\n    },\n\n    onWindowResize() {\n      // console.log(\"resize\")\n      // this.term.fit() // it will make terminal resized.\n      // this.term.scrollToBottom();\n      let height = document.body.clientHeight;\n      let rows = height/23;\n      this.term.fit();\n      this.term.resize(this.term.cols,parseInt(rows))//终端窗口重新设置大小 并触发term.on(\"resize\"\n      this.term.scrollToBottom();\n    },\n    doLink(ev, url) {\n      if (ev.type === 'click') {\n        window.open(url)\n      }\n    },\n    doClose() {\n      window.removeEventListener('resize', this.onWindowResize)\n      // term.off(\"resize\", this.onTerminalResize);\n      if (this.ws) {\n        this.ws.close()\n      }\n      if (this.term) {\n        this.term.dispose()\n      }\n      this.$emit('pclose', false)// 子组件对openStatus修改后向父组件发送事件通知\n    },\n    doOpened() {\n      Terminal.applyAddon(fit)\n      Terminal.applyAddon(webLinks)\n      Terminal.applyAddon(search)\n      this.term = new Terminal({\n        rendererType: 'canvas', // 渲染类型\n        rows: parseInt(document.body.clientHeight/23),\n        cols: parseInt(document.body.clientWidth),\n        convertEol: true, // 启用时，光标将设置为下一行的开头\n        // scrollback: 10, // 终端中的回滚量\n        disableStdin: false, // 是否应禁用输入\n        fontSize: 18,\n        cursorBlink: true, // 光标闪烁\n        cursorStyle: 'bar', // 光标样式 underline\n        bellStyle: 'sound',\n        theme: defaultTheme\n      })\n      this.term._initialized = true\n      this.term.prompt = () => {\n        this.term.write('\\r\\n')\n      }\n      this.term.prompt()\n      this.term.on('key', function(key, ev) {\n        console.log(key, ev, ev.keyCode)\n      })\n      this.term.open(this.$refs.terminal)\n      this.term.webLinksInit(this.doLink)\n      // term.on(\"resize\", this.onTerminalResize);\n      this.term.on('resize', this.onWindowResize)\n      window.addEventListener('resize', this.onWindowResize)\n      this.term.fit() // first resizing\n      this.ws = new WebSocket(this.ws_url)\n      this.ws.onerror = () => {\n        this.$message.error(this.$t('web_socker_connection_failed'))\n      }\n      this.ws.onclose = () => {\n        this.term.setOption('cursorBlink', false)\n        this.$message(this.$t('web_socket_disconnect'))\n      }\n      bindTerminal(this.term, this.ws, true, -1)\n      bindTerminalResize(this.term, this.ws)\n    }\n  },\n  watch:{\n    visible(val) {\n      this.v = val// 新增result的watch，监听变更并同步到myResult上\n    }\n  },\n  created:function (){\n    this.getNamespace()\n  },\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dashboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dashboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./dashboard.vue?vue&type=template&id=4ab853e4&\"\nimport script from \"./dashboard.vue?vue&type=script&lang=js&\"\nexport * from \"./dashboard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./dashboard.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEFAULT_COLOR = 256;\nexports.INVERTED_DEFAULT_COLOR = 257;\nexports.DIM_OPACITY = 0.5;\nexports.CHAR_ATLAS_CELL_SPACING = 1;\n//# sourceMappingURL=Types.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EventEmitter_1 = require(\"./EventEmitter\");\nvar CircularList = (function (_super) {\n    __extends(CircularList, _super);\n    function CircularList(_maxLength) {\n        var _this = _super.call(this) || this;\n        _this._maxLength = _maxLength;\n        _this._array = new Array(_this._maxLength);\n        _this._startIndex = 0;\n        _this._length = 0;\n        return _this;\n    }\n    Object.defineProperty(CircularList.prototype, \"maxLength\", {\n        get: function () {\n            return this._maxLength;\n        },\n        set: function (newMaxLength) {\n            if (this._maxLength === newMaxLength) {\n                return;\n            }\n            var newArray = new Array(newMaxLength);\n            for (var i = 0; i < Math.min(newMaxLength, this.length); i++) {\n                newArray[i] = this._array[this._getCyclicIndex(i)];\n            }\n            this._array = newArray;\n            this._maxLength = newMaxLength;\n            this._startIndex = 0;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CircularList.prototype, \"length\", {\n        get: function () {\n            return this._length;\n        },\n        set: function (newLength) {\n            if (newLength > this._length) {\n                for (var i = this._length; i < newLength; i++) {\n                    this._array[i] = undefined;\n                }\n            }\n            this._length = newLength;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CircularList.prototype.get = function (index) {\n        return this._array[this._getCyclicIndex(index)];\n    };\n    CircularList.prototype.set = function (index, value) {\n        this._array[this._getCyclicIndex(index)] = value;\n    };\n    CircularList.prototype.push = function (value) {\n        this._array[this._getCyclicIndex(this._length)] = value;\n        if (this._length === this._maxLength) {\n            this._startIndex = ++this._startIndex % this._maxLength;\n            this.emit('trim', 1);\n        }\n        else {\n            this._length++;\n        }\n    };\n    CircularList.prototype.recycle = function () {\n        if (this._length !== this._maxLength) {\n            throw new Error('Can only recycle when the buffer is full');\n        }\n        this._startIndex = ++this._startIndex % this._maxLength;\n        this.emit('trim', 1);\n        return this._array[this._getCyclicIndex(this._length - 1)];\n    };\n    Object.defineProperty(CircularList.prototype, \"isFull\", {\n        get: function () {\n            return this._length === this._maxLength;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CircularList.prototype.pop = function () {\n        return this._array[this._getCyclicIndex(this._length-- - 1)];\n    };\n    CircularList.prototype.splice = function (start, deleteCount) {\n        var items = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            items[_i - 2] = arguments[_i];\n        }\n        if (deleteCount) {\n            for (var i = start; i < this._length - deleteCount; i++) {\n                this._array[this._getCyclicIndex(i)] = this._array[this._getCyclicIndex(i + deleteCount)];\n            }\n            this._length -= deleteCount;\n        }\n        if (items && items.length) {\n            for (var i = this._length - 1; i >= start; i--) {\n                this._array[this._getCyclicIndex(i + items.length)] = this._array[this._getCyclicIndex(i)];\n            }\n            for (var i = 0; i < items.length; i++) {\n                this._array[this._getCyclicIndex(start + i)] = items[i];\n            }\n            if (this._length + items.length > this._maxLength) {\n                var countToTrim = (this._length + items.length) - this._maxLength;\n                this._startIndex += countToTrim;\n                this._length = this._maxLength;\n                this.emit('trim', countToTrim);\n            }\n            else {\n                this._length += items.length;\n            }\n        }\n    };\n    CircularList.prototype.trimStart = function (count) {\n        if (count > this._length) {\n            count = this._length;\n        }\n        this._startIndex += count;\n        this._length -= count;\n        this.emit('trim', count);\n    };\n    CircularList.prototype.shiftElements = function (start, count, offset) {\n        if (count <= 0) {\n            return;\n        }\n        if (start < 0 || start >= this._length) {\n            throw new Error('start argument out of range');\n        }\n        if (start + offset < 0) {\n            throw new Error('Cannot shift elements in list beyond index 0');\n        }\n        if (offset > 0) {\n            for (var i = count - 1; i >= 0; i--) {\n                this.set(start + i + offset, this.get(start + i));\n            }\n            var expandListBy = (start + count + offset) - this._length;\n            if (expandListBy > 0) {\n                this._length += expandListBy;\n                while (this._length > this._maxLength) {\n                    this._length--;\n                    this._startIndex++;\n                    this.emit('trim', 1);\n                }\n            }\n        }\n        else {\n            for (var i = 0; i < count; i++) {\n                this.set(start + i + offset, this.get(start + i));\n            }\n        }\n    };\n    CircularList.prototype._getCyclicIndex = function (index) {\n        return (this._startIndex + index) % this._maxLength;\n    };\n    return CircularList;\n}(EventEmitter_1.EventEmitter));\nexports.CircularList = CircularList;\n//# sourceMappingURL=CircularList.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar SelectionModel = (function () {\n    function SelectionModel(_terminal) {\n        this._terminal = _terminal;\n        this.clearSelection();\n    }\n    SelectionModel.prototype.clearSelection = function () {\n        this.selectionStart = null;\n        this.selectionEnd = null;\n        this.isSelectAllActive = false;\n        this.selectionStartLength = 0;\n    };\n    Object.defineProperty(SelectionModel.prototype, \"finalSelectionStart\", {\n        get: function () {\n            if (this.isSelectAllActive) {\n                return [0, 0];\n            }\n            if (!this.selectionEnd || !this.selectionStart) {\n                return this.selectionStart;\n            }\n            return this.areSelectionValuesReversed() ? this.selectionEnd : this.selectionStart;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectionModel.prototype, \"finalSelectionEnd\", {\n        get: function () {\n            if (this.isSelectAllActive) {\n                return [this._terminal.cols, this._terminal.buffer.ybase + this._terminal.rows - 1];\n            }\n            if (!this.selectionStart) {\n                return null;\n            }\n            if (!this.selectionEnd || this.areSelectionValuesReversed()) {\n                var startPlusLength = this.selectionStart[0] + this.selectionStartLength;\n                if (startPlusLength > this._terminal.cols) {\n                    return [startPlusLength % this._terminal.cols, this.selectionStart[1] + Math.floor(startPlusLength / this._terminal.cols)];\n                }\n                return [startPlusLength, this.selectionStart[1]];\n            }\n            if (this.selectionStartLength) {\n                if (this.selectionEnd[1] === this.selectionStart[1]) {\n                    return [Math.max(this.selectionStart[0] + this.selectionStartLength, this.selectionEnd[0]), this.selectionEnd[1]];\n                }\n            }\n            return this.selectionEnd;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SelectionModel.prototype.areSelectionValuesReversed = function () {\n        var start = this.selectionStart;\n        var end = this.selectionEnd;\n        if (!start || !end) {\n            return false;\n        }\n        return start[1] > end[1] || (start[1] === end[1] && start[0] > end[0]);\n    };\n    SelectionModel.prototype.onTrim = function (amount) {\n        if (this.selectionStart) {\n            this.selectionStart[1] -= amount;\n        }\n        if (this.selectionEnd) {\n            this.selectionEnd[1] -= amount;\n        }\n        if (this.selectionEnd && this.selectionEnd[1] < 0) {\n            this.clearSelection();\n            return true;\n        }\n        if (this.selectionStart && this.selectionStart[1] < 0) {\n            this.selectionStart[1] = 0;\n        }\n        return false;\n    };\n    return SelectionModel;\n}());\nexports.SelectionModel = SelectionModel;\n//# sourceMappingURL=SelectionModel.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar DEFAULT_FOREGROUND = fromHex('#ffffff');\nvar DEFAULT_BACKGROUND = fromHex('#000000');\nvar DEFAULT_CURSOR = fromHex('#ffffff');\nvar DEFAULT_CURSOR_ACCENT = fromHex('#000000');\nvar DEFAULT_SELECTION = {\n    css: 'rgba(255, 255, 255, 0.3)',\n    rgba: 0xFFFFFF77\n};\nexports.DEFAULT_ANSI_COLORS = (function () {\n    var colors = [\n        fromHex('#2e3436'),\n        fromHex('#cc0000'),\n        fromHex('#4e9a06'),\n        fromHex('#c4a000'),\n        fromHex('#3465a4'),\n        fromHex('#75507b'),\n        fromHex('#06989a'),\n        fromHex('#d3d7cf'),\n        fromHex('#555753'),\n        fromHex('#ef2929'),\n        fromHex('#8ae234'),\n        fromHex('#fce94f'),\n        fromHex('#729fcf'),\n        fromHex('#ad7fa8'),\n        fromHex('#34e2e2'),\n        fromHex('#eeeeec')\n    ];\n    var v = [0x00, 0x5f, 0x87, 0xaf, 0xd7, 0xff];\n    for (var i = 0; i < 216; i++) {\n        var r = v[(i / 36) % 6 | 0];\n        var g = v[(i / 6) % 6 | 0];\n        var b = v[i % 6];\n        colors.push({\n            css: \"#\" + toPaddedHex(r) + toPaddedHex(g) + toPaddedHex(b),\n            rgba: ((r << 24) | (g << 16) | (b << 8) | 0xFF) >>> 0\n        });\n    }\n    for (var i = 0; i < 24; i++) {\n        var c = 8 + i * 10;\n        var ch = toPaddedHex(c);\n        colors.push({\n            css: \"#\" + ch + ch + ch,\n            rgba: ((c << 24) | (c << 16) | (c << 8) | 0xFF) >>> 0\n        });\n    }\n    return colors;\n})();\nfunction fromHex(css) {\n    return {\n        css: css,\n        rgba: parseInt(css.slice(1), 16) << 8 | 0xFF\n    };\n}\nfunction toPaddedHex(c) {\n    var s = c.toString(16);\n    return s.length < 2 ? '0' + s : s;\n}\nvar ColorManager = (function () {\n    function ColorManager(document, allowTransparency) {\n        this.allowTransparency = allowTransparency;\n        var canvas = document.createElement('canvas');\n        canvas.width = 1;\n        canvas.height = 1;\n        this._ctx = canvas.getContext('2d');\n        this._ctx.globalCompositeOperation = 'copy';\n        this._litmusColor = this._ctx.createLinearGradient(0, 0, 1, 1);\n        this.colors = {\n            foreground: DEFAULT_FOREGROUND,\n            background: DEFAULT_BACKGROUND,\n            cursor: DEFAULT_CURSOR,\n            cursorAccent: DEFAULT_CURSOR_ACCENT,\n            selection: DEFAULT_SELECTION,\n            ansi: exports.DEFAULT_ANSI_COLORS.slice()\n        };\n    }\n    ColorManager.prototype.setTheme = function (theme) {\n        this.colors.foreground = this._parseColor(theme.foreground, DEFAULT_FOREGROUND);\n        this.colors.background = this._parseColor(theme.background, DEFAULT_BACKGROUND);\n        this.colors.cursor = this._parseColor(theme.cursor, DEFAULT_CURSOR, true);\n        this.colors.cursorAccent = this._parseColor(theme.cursorAccent, DEFAULT_CURSOR_ACCENT, true);\n        this.colors.selection = this._parseColor(theme.selection, DEFAULT_SELECTION, true);\n        this.colors.ansi[0] = this._parseColor(theme.black, exports.DEFAULT_ANSI_COLORS[0]);\n        this.colors.ansi[1] = this._parseColor(theme.red, exports.DEFAULT_ANSI_COLORS[1]);\n        this.colors.ansi[2] = this._parseColor(theme.green, exports.DEFAULT_ANSI_COLORS[2]);\n        this.colors.ansi[3] = this._parseColor(theme.yellow, exports.DEFAULT_ANSI_COLORS[3]);\n        this.colors.ansi[4] = this._parseColor(theme.blue, exports.DEFAULT_ANSI_COLORS[4]);\n        this.colors.ansi[5] = this._parseColor(theme.magenta, exports.DEFAULT_ANSI_COLORS[5]);\n        this.colors.ansi[6] = this._parseColor(theme.cyan, exports.DEFAULT_ANSI_COLORS[6]);\n        this.colors.ansi[7] = this._parseColor(theme.white, exports.DEFAULT_ANSI_COLORS[7]);\n        this.colors.ansi[8] = this._parseColor(theme.brightBlack, exports.DEFAULT_ANSI_COLORS[8]);\n        this.colors.ansi[9] = this._parseColor(theme.brightRed, exports.DEFAULT_ANSI_COLORS[9]);\n        this.colors.ansi[10] = this._parseColor(theme.brightGreen, exports.DEFAULT_ANSI_COLORS[10]);\n        this.colors.ansi[11] = this._parseColor(theme.brightYellow, exports.DEFAULT_ANSI_COLORS[11]);\n        this.colors.ansi[12] = this._parseColor(theme.brightBlue, exports.DEFAULT_ANSI_COLORS[12]);\n        this.colors.ansi[13] = this._parseColor(theme.brightMagenta, exports.DEFAULT_ANSI_COLORS[13]);\n        this.colors.ansi[14] = this._parseColor(theme.brightCyan, exports.DEFAULT_ANSI_COLORS[14]);\n        this.colors.ansi[15] = this._parseColor(theme.brightWhite, exports.DEFAULT_ANSI_COLORS[15]);\n    };\n    ColorManager.prototype._parseColor = function (css, fallback, allowTransparency) {\n        if (allowTransparency === void 0) { allowTransparency = this.allowTransparency; }\n        if (!css) {\n            return fallback;\n        }\n        this._ctx.fillStyle = this._litmusColor;\n        this._ctx.fillStyle = css;\n        if (typeof this._ctx.fillStyle !== 'string') {\n            console.warn(\"Color: \" + css + \" is invalid using fallback \" + fallback.css);\n            return fallback;\n        }\n        this._ctx.fillRect(0, 0, 1, 1);\n        var data = this._ctx.getImageData(0, 0, 1, 1).data;\n        if (!allowTransparency && data[3] !== 0xFF) {\n            console.warn(\"Color: \" + css + \" is using transparency, but allowTransparency is false. \" +\n                (\"Using fallback \" + fallback.css + \".\"));\n            return fallback;\n        }\n        return {\n            css: css,\n            rgba: (data[0] << 24 | data[1] << 16 | data[2] << 8 | data[3]) >>> 0\n        };\n    };\n    return ColorManager;\n}());\nexports.ColorManager = ColorManager;\n//# sourceMappingURL=ColorManager.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseRenderLayer_1 = require(\"./BaseRenderLayer\");\nvar Types_1 = require(\"./atlas/Types\");\nvar CharAtlasUtils_1 = require(\"./atlas/CharAtlasUtils\");\nvar LinkRenderLayer = (function (_super) {\n    __extends(LinkRenderLayer, _super);\n    function LinkRenderLayer(container, zIndex, colors, terminal) {\n        var _this = _super.call(this, container, 'link', zIndex, true, colors) || this;\n        _this._state = null;\n        terminal.linkifier.on(\"linkhover\", function (e) { return _this._onLinkHover(e); });\n        terminal.linkifier.on(\"linkleave\", function (e) { return _this._onLinkLeave(e); });\n        return _this;\n    }\n    LinkRenderLayer.prototype.resize = function (terminal, dim) {\n        _super.prototype.resize.call(this, terminal, dim);\n        this._state = null;\n    };\n    LinkRenderLayer.prototype.reset = function (terminal) {\n        this._clearCurrentLink();\n    };\n    LinkRenderLayer.prototype._clearCurrentLink = function () {\n        if (this._state) {\n            this.clearCells(this._state.x1, this._state.y1, this._state.cols - this._state.x1, 1);\n            var middleRowCount = this._state.y2 - this._state.y1 - 1;\n            if (middleRowCount > 0) {\n                this.clearCells(0, this._state.y1 + 1, this._state.cols, middleRowCount);\n            }\n            this.clearCells(0, this._state.y2, this._state.x2, 1);\n            this._state = null;\n        }\n    };\n    LinkRenderLayer.prototype._onLinkHover = function (e) {\n        if (e.fg === Types_1.INVERTED_DEFAULT_COLOR) {\n            this._ctx.fillStyle = this._colors.background.css;\n        }\n        else if (CharAtlasUtils_1.is256Color(e.fg)) {\n            this._ctx.fillStyle = this._colors.ansi[e.fg].css;\n        }\n        else {\n            this._ctx.fillStyle = this._colors.foreground.css;\n        }\n        if (e.y1 === e.y2) {\n            this.fillBottomLineAtCells(e.x1, e.y1, e.x2 - e.x1);\n        }\n        else {\n            this.fillBottomLineAtCells(e.x1, e.y1, e.cols - e.x1);\n            for (var y = e.y1 + 1; y < e.y2; y++) {\n                this.fillBottomLineAtCells(0, y, e.cols);\n            }\n            this.fillBottomLineAtCells(0, e.y2, e.x2);\n        }\n        this._state = e;\n    };\n    LinkRenderLayer.prototype._onLinkLeave = function (e) {\n        this._clearCurrentLink();\n    };\n    return LinkRenderLayer;\n}(BaseRenderLayer_1.BaseRenderLayer));\nexports.LinkRenderLayer = LinkRenderLayer;\n//# sourceMappingURL=LinkRenderLayer.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EscapeSequences_1 = require(\"./common/data/EscapeSequences\");\nvar Charsets_1 = require(\"./core/data/Charsets\");\nvar Buffer_1 = require(\"./Buffer\");\nvar CharWidth_1 = require(\"./CharWidth\");\nvar EscapeSequenceParser_1 = require(\"./EscapeSequenceParser\");\nvar Lifecycle_1 = require(\"./common/Lifecycle\");\nvar GLEVEL = { '(': 0, ')': 1, '*': 2, '+': 3, '-': 1, '.': 2 };\nvar RequestTerminfo = (function () {\n    function RequestTerminfo(_terminal) {\n        this._terminal = _terminal;\n    }\n    RequestTerminfo.prototype.hook = function (collect, params, flag) {\n        this._data = '';\n    };\n    RequestTerminfo.prototype.put = function (data, start, end) {\n        this._data += data.substring(start, end);\n    };\n    RequestTerminfo.prototype.unhook = function () {\n        this._terminal.handler(EscapeSequences_1.C0.ESC + \"P0+r\" + this._data + EscapeSequences_1.C0.ESC + \"\\\\\");\n    };\n    return RequestTerminfo;\n}());\nvar DECRQSS = (function () {\n    function DECRQSS(_terminal) {\n        this._terminal = _terminal;\n    }\n    DECRQSS.prototype.hook = function (collect, params, flag) {\n        this._data = '';\n    };\n    DECRQSS.prototype.put = function (data, start, end) {\n        this._data += data.substring(start, end);\n    };\n    DECRQSS.prototype.unhook = function () {\n        switch (this._data) {\n            case '\"q':\n                return this._terminal.handler(EscapeSequences_1.C0.ESC + \"P1$r0\\\"q\" + EscapeSequences_1.C0.ESC + \"\\\\\");\n            case '\"p':\n                return this._terminal.handler(EscapeSequences_1.C0.ESC + \"P1$r61\\\"p\" + EscapeSequences_1.C0.ESC + \"\\\\\");\n            case 'r':\n                var pt = '' + (this._terminal.buffer.scrollTop + 1) +\n                    ';' + (this._terminal.buffer.scrollBottom + 1) + 'r';\n                return this._terminal.handler(EscapeSequences_1.C0.ESC + \"P1$r\" + pt + EscapeSequences_1.C0.ESC + \"\\\\\");\n            case 'm':\n                return this._terminal.handler(EscapeSequences_1.C0.ESC + \"P1$r0m\" + EscapeSequences_1.C0.ESC + \"\\\\\");\n            case ' q':\n                var STYLES = { 'block': 2, 'underline': 4, 'bar': 6 };\n                var style = STYLES[this._terminal.getOption('cursorStyle')];\n                style -= this._terminal.getOption('cursorBlink');\n                return this._terminal.handler(EscapeSequences_1.C0.ESC + \"P1$r\" + style + \" q\" + EscapeSequences_1.C0.ESC + \"\\\\\");\n            default:\n                this._terminal.error('Unknown DCS $q %s', this._data);\n                this._terminal.handler(EscapeSequences_1.C0.ESC + \"P0$r\" + this._data + EscapeSequences_1.C0.ESC + \"\\\\\");\n        }\n    };\n    return DECRQSS;\n}());\nvar InputHandler = (function (_super) {\n    __extends(InputHandler, _super);\n    function InputHandler(_terminal, _parser) {\n        if (_parser === void 0) { _parser = new EscapeSequenceParser_1.EscapeSequenceParser(); }\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._parser = _parser;\n        _this.register(_this._parser);\n        _this._surrogateFirst = '';\n        _this._parser.setCsiHandlerFallback(function (collect, params, flag) {\n            _this._terminal.error('Unknown CSI code: ', { collect: collect, params: params, flag: String.fromCharCode(flag) });\n        });\n        _this._parser.setEscHandlerFallback(function (collect, flag) {\n            _this._terminal.error('Unknown ESC code: ', { collect: collect, flag: String.fromCharCode(flag) });\n        });\n        _this._parser.setExecuteHandlerFallback(function (code) {\n            _this._terminal.error('Unknown EXECUTE code: ', { code: code });\n        });\n        _this._parser.setOscHandlerFallback(function (identifier, data) {\n            _this._terminal.error('Unknown OSC code: ', { identifier: identifier, data: data });\n        });\n        _this._parser.setPrintHandler(function (data, start, end) { return _this.print(data, start, end); });\n        _this._parser.setCsiHandler('@', function (params, collect) { return _this.insertChars(params); });\n        _this._parser.setCsiHandler('A', function (params, collect) { return _this.cursorUp(params); });\n        _this._parser.setCsiHandler('B', function (params, collect) { return _this.cursorDown(params); });\n        _this._parser.setCsiHandler('C', function (params, collect) { return _this.cursorForward(params); });\n        _this._parser.setCsiHandler('D', function (params, collect) { return _this.cursorBackward(params); });\n        _this._parser.setCsiHandler('E', function (params, collect) { return _this.cursorNextLine(params); });\n        _this._parser.setCsiHandler('F', function (params, collect) { return _this.cursorPrecedingLine(params); });\n        _this._parser.setCsiHandler('G', function (params, collect) { return _this.cursorCharAbsolute(params); });\n        _this._parser.setCsiHandler('H', function (params, collect) { return _this.cursorPosition(params); });\n        _this._parser.setCsiHandler('I', function (params, collect) { return _this.cursorForwardTab(params); });\n        _this._parser.setCsiHandler('J', function (params, collect) { return _this.eraseInDisplay(params); });\n        _this._parser.setCsiHandler('K', function (params, collect) { return _this.eraseInLine(params); });\n        _this._parser.setCsiHandler('L', function (params, collect) { return _this.insertLines(params); });\n        _this._parser.setCsiHandler('M', function (params, collect) { return _this.deleteLines(params); });\n        _this._parser.setCsiHandler('P', function (params, collect) { return _this.deleteChars(params); });\n        _this._parser.setCsiHandler('S', function (params, collect) { return _this.scrollUp(params); });\n        _this._parser.setCsiHandler('T', function (params, collect) { return _this.scrollDown(params, collect); });\n        _this._parser.setCsiHandler('X', function (params, collect) { return _this.eraseChars(params); });\n        _this._parser.setCsiHandler('Z', function (params, collect) { return _this.cursorBackwardTab(params); });\n        _this._parser.setCsiHandler('`', function (params, collect) { return _this.charPosAbsolute(params); });\n        _this._parser.setCsiHandler('a', function (params, collect) { return _this.hPositionRelative(params); });\n        _this._parser.setCsiHandler('b', function (params, collect) { return _this.repeatPrecedingCharacter(params); });\n        _this._parser.setCsiHandler('c', function (params, collect) { return _this.sendDeviceAttributes(params, collect); });\n        _this._parser.setCsiHandler('d', function (params, collect) { return _this.linePosAbsolute(params); });\n        _this._parser.setCsiHandler('e', function (params, collect) { return _this.vPositionRelative(params); });\n        _this._parser.setCsiHandler('f', function (params, collect) { return _this.hVPosition(params); });\n        _this._parser.setCsiHandler('g', function (params, collect) { return _this.tabClear(params); });\n        _this._parser.setCsiHandler('h', function (params, collect) { return _this.setMode(params, collect); });\n        _this._parser.setCsiHandler('l', function (params, collect) { return _this.resetMode(params, collect); });\n        _this._parser.setCsiHandler('m', function (params, collect) { return _this.charAttributes(params); });\n        _this._parser.setCsiHandler('n', function (params, collect) { return _this.deviceStatus(params, collect); });\n        _this._parser.setCsiHandler('p', function (params, collect) { return _this.softReset(params, collect); });\n        _this._parser.setCsiHandler('q', function (params, collect) { return _this.setCursorStyle(params, collect); });\n        _this._parser.setCsiHandler('r', function (params, collect) { return _this.setScrollRegion(params, collect); });\n        _this._parser.setCsiHandler('s', function (params, collect) { return _this.saveCursor(params); });\n        _this._parser.setCsiHandler('u', function (params, collect) { return _this.restoreCursor(params); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.BEL, function () { return _this.bell(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.LF, function () { return _this.lineFeed(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.VT, function () { return _this.lineFeed(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.FF, function () { return _this.lineFeed(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.CR, function () { return _this.carriageReturn(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.BS, function () { return _this.backspace(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.HT, function () { return _this.tab(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.SO, function () { return _this.shiftOut(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.SI, function () { return _this.shiftIn(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C1.IND, function () { return _this.index(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C1.NEL, function () { return _this.nextLine(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C1.HTS, function () { return _this.tabSet(); });\n        _this._parser.setOscHandler(0, function (data) { return _this.setTitle(data); });\n        _this._parser.setOscHandler(2, function (data) { return _this.setTitle(data); });\n        _this._parser.setEscHandler('7', function () { return _this.saveCursor([]); });\n        _this._parser.setEscHandler('8', function () { return _this.restoreCursor([]); });\n        _this._parser.setEscHandler('D', function () { return _this.index(); });\n        _this._parser.setEscHandler('E', function () { return _this.nextLine(); });\n        _this._parser.setEscHandler('H', function () { return _this.tabSet(); });\n        _this._parser.setEscHandler('M', function () { return _this.reverseIndex(); });\n        _this._parser.setEscHandler('=', function () { return _this.keypadApplicationMode(); });\n        _this._parser.setEscHandler('>', function () { return _this.keypadNumericMode(); });\n        _this._parser.setEscHandler('c', function () { return _this.reset(); });\n        _this._parser.setEscHandler('n', function () { return _this.setgLevel(2); });\n        _this._parser.setEscHandler('o', function () { return _this.setgLevel(3); });\n        _this._parser.setEscHandler('|', function () { return _this.setgLevel(3); });\n        _this._parser.setEscHandler('}', function () { return _this.setgLevel(2); });\n        _this._parser.setEscHandler('~', function () { return _this.setgLevel(1); });\n        _this._parser.setEscHandler('%@', function () { return _this.selectDefaultCharset(); });\n        _this._parser.setEscHandler('%G', function () { return _this.selectDefaultCharset(); });\n        var _loop_1 = function (flag) {\n            this_1._parser.setEscHandler('(' + flag, function () { return _this.selectCharset('(' + flag); });\n            this_1._parser.setEscHandler(')' + flag, function () { return _this.selectCharset(')' + flag); });\n            this_1._parser.setEscHandler('*' + flag, function () { return _this.selectCharset('*' + flag); });\n            this_1._parser.setEscHandler('+' + flag, function () { return _this.selectCharset('+' + flag); });\n            this_1._parser.setEscHandler('-' + flag, function () { return _this.selectCharset('-' + flag); });\n            this_1._parser.setEscHandler('.' + flag, function () { return _this.selectCharset('.' + flag); });\n            this_1._parser.setEscHandler('/' + flag, function () { return _this.selectCharset('/' + flag); });\n        };\n        var this_1 = this;\n        for (var flag in Charsets_1.CHARSETS) {\n            _loop_1(flag);\n        }\n        _this._parser.setErrorHandler(function (state) {\n            _this._terminal.error('Parsing error: ', state);\n            return state;\n        });\n        _this._parser.setDcsHandler('$q', new DECRQSS(_this._terminal));\n        _this._parser.setDcsHandler('+q', new RequestTerminfo(_this._terminal));\n        return _this;\n    }\n    InputHandler.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this._terminal = null;\n    };\n    InputHandler.prototype.parse = function (data) {\n        if (!this._terminal) {\n            return;\n        }\n        var buffer = this._terminal.buffer;\n        var cursorStartX = buffer.x;\n        var cursorStartY = buffer.y;\n        if (this._terminal.debug) {\n            this._terminal.log('data: ' + data);\n        }\n        if (this._surrogateFirst) {\n            data = this._surrogateFirst + data;\n            this._surrogateFirst = '';\n        }\n        this._parser.parse(data);\n        buffer = this._terminal.buffer;\n        if (buffer.x !== cursorStartX || buffer.y !== cursorStartY) {\n            this._terminal.emit('cursormove');\n        }\n    };\n    InputHandler.prototype.print = function (data, start, end) {\n        var char;\n        var code;\n        var chWidth;\n        var buffer = this._terminal.buffer;\n        var charset = this._terminal.charset;\n        var screenReaderMode = this._terminal.options.screenReaderMode;\n        var cols = this._terminal.cols;\n        var wraparoundMode = this._terminal.wraparoundMode;\n        var insertMode = this._terminal.insertMode;\n        var curAttr = this._terminal.curAttr;\n        var bufferRow = buffer.lines.get(buffer.y + buffer.ybase);\n        this._terminal.updateRange(buffer.y);\n        for (var stringPosition = start; stringPosition < end; ++stringPosition) {\n            char = data.charAt(stringPosition);\n            code = data.charCodeAt(stringPosition);\n            if (0xD800 <= code && code <= 0xDBFF) {\n                if (++stringPosition >= end) {\n                    this._surrogateFirst = char;\n                    continue;\n                }\n                var second = data.charCodeAt(stringPosition);\n                if (0xDC00 <= second && second <= 0xDFFF) {\n                    code = (code - 0xD800) * 0x400 + second - 0xDC00 + 0x10000;\n                    char += data.charAt(stringPosition);\n                }\n                else {\n                    stringPosition--;\n                }\n            }\n            chWidth = CharWidth_1.wcwidth(code);\n            if (charset) {\n                char = charset[char] || char;\n                code = char.charCodeAt(0);\n            }\n            if (screenReaderMode) {\n                this._terminal.emit('a11y.char', char);\n            }\n            if (!chWidth && buffer.x) {\n                var chMinusOne = bufferRow.get(buffer.x - 1);\n                if (chMinusOne) {\n                    if (!chMinusOne[Buffer_1.CHAR_DATA_WIDTH_INDEX]) {\n                        var chMinusTwo = bufferRow.get(buffer.x - 2);\n                        if (chMinusTwo) {\n                            chMinusTwo[Buffer_1.CHAR_DATA_CHAR_INDEX] += char;\n                            chMinusTwo[Buffer_1.CHAR_DATA_CODE_INDEX] = code;\n                            bufferRow.set(buffer.x - 2, chMinusTwo);\n                        }\n                    }\n                    else {\n                        chMinusOne[Buffer_1.CHAR_DATA_CHAR_INDEX] += char;\n                        chMinusOne[Buffer_1.CHAR_DATA_CODE_INDEX] = code;\n                        bufferRow.set(buffer.x - 1, chMinusOne);\n                    }\n                }\n                continue;\n            }\n            if (buffer.x + chWidth - 1 >= cols) {\n                if (wraparoundMode) {\n                    buffer.x = 0;\n                    buffer.y++;\n                    if (buffer.y > buffer.scrollBottom) {\n                        buffer.y--;\n                        this._terminal.scroll(true);\n                    }\n                    else {\n                        buffer.lines.get(buffer.y).isWrapped = true;\n                    }\n                    bufferRow = buffer.lines.get(buffer.y + buffer.ybase);\n                }\n                else {\n                    if (chWidth === 2) {\n                        continue;\n                    }\n                }\n            }\n            if (insertMode) {\n                bufferRow.insertCells(buffer.x, chWidth, [curAttr, Buffer_1.NULL_CELL_CHAR, Buffer_1.NULL_CELL_WIDTH, Buffer_1.NULL_CELL_CODE]);\n                var lastCell = bufferRow.get(cols - 1);\n                if (lastCell[Buffer_1.CHAR_DATA_WIDTH_INDEX] === 2) {\n                    bufferRow.set(cols - 1, [curAttr, Buffer_1.NULL_CELL_CHAR, Buffer_1.NULL_CELL_WIDTH, Buffer_1.NULL_CELL_CODE]);\n                }\n            }\n            bufferRow.set(buffer.x++, [curAttr, char, chWidth, code]);\n            if (chWidth > 0) {\n                while (--chWidth) {\n                    bufferRow.set(buffer.x++, [curAttr, '', 0, undefined]);\n                }\n            }\n        }\n        this._terminal.updateRange(buffer.y);\n    };\n    InputHandler.prototype.bell = function () {\n        this._terminal.bell();\n    };\n    InputHandler.prototype.lineFeed = function () {\n        var buffer = this._terminal.buffer;\n        if (this._terminal.options.convertEol) {\n            buffer.x = 0;\n        }\n        buffer.y++;\n        if (buffer.y > buffer.scrollBottom) {\n            buffer.y--;\n            this._terminal.scroll();\n        }\n        if (buffer.x >= this._terminal.cols) {\n            buffer.x--;\n        }\n        this._terminal.emit('linefeed');\n    };\n    InputHandler.prototype.carriageReturn = function () {\n        this._terminal.buffer.x = 0;\n    };\n    InputHandler.prototype.backspace = function () {\n        if (this._terminal.buffer.x > 0) {\n            this._terminal.buffer.x--;\n        }\n    };\n    InputHandler.prototype.tab = function () {\n        var originalX = this._terminal.buffer.x;\n        this._terminal.buffer.x = this._terminal.buffer.nextStop();\n        if (this._terminal.options.screenReaderMode) {\n            this._terminal.emit('a11y.tab', this._terminal.buffer.x - originalX);\n        }\n    };\n    InputHandler.prototype.shiftOut = function () {\n        this._terminal.setgLevel(1);\n    };\n    InputHandler.prototype.shiftIn = function () {\n        this._terminal.setgLevel(0);\n    };\n    InputHandler.prototype.insertChars = function (params) {\n        this._terminal.buffer.lines.get(this._terminal.buffer.y + this._terminal.buffer.ybase).insertCells(this._terminal.buffer.x, params[0] || 1, [this._terminal.eraseAttr(), Buffer_1.NULL_CELL_CHAR, Buffer_1.NULL_CELL_WIDTH, Buffer_1.NULL_CELL_CODE]);\n        this._terminal.updateRange(this._terminal.buffer.y);\n    };\n    InputHandler.prototype.cursorUp = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.y -= param;\n        if (this._terminal.buffer.y < 0) {\n            this._terminal.buffer.y = 0;\n        }\n    };\n    InputHandler.prototype.cursorDown = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.y += param;\n        if (this._terminal.buffer.y >= this._terminal.rows) {\n            this._terminal.buffer.y = this._terminal.rows - 1;\n        }\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x--;\n        }\n    };\n    InputHandler.prototype.cursorForward = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.x += param;\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x = this._terminal.cols - 1;\n        }\n    };\n    InputHandler.prototype.cursorBackward = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x--;\n        }\n        this._terminal.buffer.x -= param;\n        if (this._terminal.buffer.x < 0) {\n            this._terminal.buffer.x = 0;\n        }\n    };\n    InputHandler.prototype.cursorNextLine = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.y += param;\n        if (this._terminal.buffer.y >= this._terminal.rows) {\n            this._terminal.buffer.y = this._terminal.rows - 1;\n        }\n        this._terminal.buffer.x = 0;\n    };\n    InputHandler.prototype.cursorPrecedingLine = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.y -= param;\n        if (this._terminal.buffer.y < 0) {\n            this._terminal.buffer.y = 0;\n        }\n        this._terminal.buffer.x = 0;\n    };\n    InputHandler.prototype.cursorCharAbsolute = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.x = param - 1;\n    };\n    InputHandler.prototype.cursorPosition = function (params) {\n        var col;\n        var row = params[0] - 1;\n        if (params.length >= 2) {\n            col = params[1] - 1;\n        }\n        else {\n            col = 0;\n        }\n        if (row < 0) {\n            row = 0;\n        }\n        else if (row >= this._terminal.rows) {\n            row = this._terminal.rows - 1;\n        }\n        if (col < 0) {\n            col = 0;\n        }\n        else if (col >= this._terminal.cols) {\n            col = this._terminal.cols - 1;\n        }\n        this._terminal.buffer.x = col;\n        this._terminal.buffer.y = row;\n    };\n    InputHandler.prototype.cursorForwardTab = function (params) {\n        var param = params[0] || 1;\n        while (param--) {\n            this._terminal.buffer.x = this._terminal.buffer.nextStop();\n        }\n    };\n    InputHandler.prototype._eraseInBufferLine = function (y, start, end, clearWrap) {\n        if (clearWrap === void 0) { clearWrap = false; }\n        var line = this._terminal.buffer.lines.get(this._terminal.buffer.ybase + y);\n        line.replaceCells(start, end, [this._terminal.eraseAttr(), Buffer_1.NULL_CELL_CHAR, Buffer_1.NULL_CELL_WIDTH, Buffer_1.NULL_CELL_CODE]);\n        if (clearWrap) {\n            line.isWrapped = false;\n        }\n    };\n    InputHandler.prototype._resetBufferLine = function (y) {\n        this._eraseInBufferLine(y, 0, this._terminal.cols, true);\n    };\n    InputHandler.prototype.eraseInDisplay = function (params) {\n        var j;\n        switch (params[0]) {\n            case 0:\n                j = this._terminal.buffer.y;\n                this._terminal.updateRange(j);\n                this._eraseInBufferLine(j++, this._terminal.buffer.x, this._terminal.cols, this._terminal.buffer.x === 0);\n                for (; j < this._terminal.rows; j++) {\n                    this._resetBufferLine(j);\n                }\n                this._terminal.updateRange(j);\n                break;\n            case 1:\n                j = this._terminal.buffer.y;\n                this._terminal.updateRange(j);\n                this._eraseInBufferLine(j, 0, this._terminal.buffer.x + 1, true);\n                if (this._terminal.buffer.x + 1 >= this._terminal.cols) {\n                    this._terminal.buffer.lines.get(j + 1).isWrapped = false;\n                }\n                while (j--) {\n                    this._resetBufferLine(j);\n                }\n                this._terminal.updateRange(0);\n                break;\n            case 2:\n                j = this._terminal.rows;\n                this._terminal.updateRange(j - 1);\n                while (j--) {\n                    this._resetBufferLine(j);\n                }\n                this._terminal.updateRange(0);\n                break;\n            case 3:\n                var scrollBackSize = this._terminal.buffer.lines.length - this._terminal.rows;\n                if (scrollBackSize > 0) {\n                    this._terminal.buffer.lines.trimStart(scrollBackSize);\n                    this._terminal.buffer.ybase = Math.max(this._terminal.buffer.ybase - scrollBackSize, 0);\n                    this._terminal.buffer.ydisp = Math.max(this._terminal.buffer.ydisp - scrollBackSize, 0);\n                    this._terminal.emit('scroll', 0);\n                }\n                break;\n        }\n    };\n    InputHandler.prototype.eraseInLine = function (params) {\n        switch (params[0]) {\n            case 0:\n                this._eraseInBufferLine(this._terminal.buffer.y, this._terminal.buffer.x, this._terminal.cols);\n                break;\n            case 1:\n                this._eraseInBufferLine(this._terminal.buffer.y, 0, this._terminal.buffer.x + 1);\n                break;\n            case 2:\n                this._eraseInBufferLine(this._terminal.buffer.y, 0, this._terminal.cols);\n                break;\n        }\n        this._terminal.updateRange(this._terminal.buffer.y);\n    };\n    InputHandler.prototype.insertLines = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        var buffer = this._terminal.buffer;\n        var row = buffer.y + buffer.ybase;\n        var scrollBottomRowsOffset = this._terminal.rows - 1 - buffer.scrollBottom;\n        var scrollBottomAbsolute = this._terminal.rows - 1 + buffer.ybase - scrollBottomRowsOffset + 1;\n        while (param--) {\n            buffer.lines.splice(scrollBottomAbsolute - 1, 1);\n            buffer.lines.splice(row, 0, buffer.getBlankLine(this._terminal.eraseAttr()));\n        }\n        this._terminal.updateRange(buffer.y);\n        this._terminal.updateRange(buffer.scrollBottom);\n    };\n    InputHandler.prototype.deleteLines = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        var buffer = this._terminal.buffer;\n        var row = buffer.y + buffer.ybase;\n        var j;\n        j = this._terminal.rows - 1 - buffer.scrollBottom;\n        j = this._terminal.rows - 1 + buffer.ybase - j;\n        while (param--) {\n            buffer.lines.splice(row, 1);\n            buffer.lines.splice(j, 0, buffer.getBlankLine(this._terminal.eraseAttr()));\n        }\n        this._terminal.updateRange(buffer.y);\n        this._terminal.updateRange(buffer.scrollBottom);\n    };\n    InputHandler.prototype.deleteChars = function (params) {\n        this._terminal.buffer.lines.get(this._terminal.buffer.y + this._terminal.buffer.ybase).deleteCells(this._terminal.buffer.x, params[0] || 1, [this._terminal.eraseAttr(), Buffer_1.NULL_CELL_CHAR, Buffer_1.NULL_CELL_WIDTH, Buffer_1.NULL_CELL_CODE]);\n        this._terminal.updateRange(this._terminal.buffer.y);\n    };\n    InputHandler.prototype.scrollUp = function (params) {\n        var param = params[0] || 1;\n        var buffer = this._terminal.buffer;\n        while (param--) {\n            buffer.lines.splice(buffer.ybase + buffer.scrollTop, 1);\n            buffer.lines.splice(buffer.ybase + buffer.scrollBottom, 0, buffer.getBlankLine(Buffer_1.DEFAULT_ATTR));\n        }\n        this._terminal.updateRange(buffer.scrollTop);\n        this._terminal.updateRange(buffer.scrollBottom);\n    };\n    InputHandler.prototype.scrollDown = function (params, collect) {\n        if (params.length < 2 && !collect) {\n            var param = params[0] || 1;\n            var buffer = this._terminal.buffer;\n            while (param--) {\n                buffer.lines.splice(buffer.ybase + buffer.scrollBottom, 1);\n                buffer.lines.splice(buffer.ybase + buffer.scrollBottom, 0, buffer.getBlankLine(Buffer_1.DEFAULT_ATTR));\n            }\n            this._terminal.updateRange(buffer.scrollTop);\n            this._terminal.updateRange(buffer.scrollBottom);\n        }\n    };\n    InputHandler.prototype.eraseChars = function (params) {\n        this._terminal.buffer.lines.get(this._terminal.buffer.y + this._terminal.buffer.ybase).replaceCells(this._terminal.buffer.x, this._terminal.buffer.x + (params[0] || 1), [this._terminal.eraseAttr(), Buffer_1.NULL_CELL_CHAR, Buffer_1.NULL_CELL_WIDTH, Buffer_1.NULL_CELL_CODE]);\n    };\n    InputHandler.prototype.cursorBackwardTab = function (params) {\n        var param = params[0] || 1;\n        var buffer = this._terminal.buffer;\n        while (param--) {\n            buffer.x = buffer.prevStop();\n        }\n    };\n    InputHandler.prototype.charPosAbsolute = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.x = param - 1;\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x = this._terminal.cols - 1;\n        }\n    };\n    InputHandler.prototype.hPositionRelative = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.x += param;\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x = this._terminal.cols - 1;\n        }\n    };\n    InputHandler.prototype.repeatPrecedingCharacter = function (params) {\n        var buffer = this._terminal.buffer;\n        var line = buffer.lines.get(buffer.ybase + buffer.y);\n        line.replaceCells(buffer.x, buffer.x + (params[0] || 1), line.get(buffer.x - 1) || [Buffer_1.DEFAULT_ATTR, Buffer_1.NULL_CELL_CHAR, Buffer_1.NULL_CELL_WIDTH, Buffer_1.NULL_CELL_CODE]);\n    };\n    InputHandler.prototype.sendDeviceAttributes = function (params, collect) {\n        if (params[0] > 0) {\n            return;\n        }\n        if (!collect) {\n            if (this._terminal.is('xterm') || this._terminal.is('rxvt-unicode') || this._terminal.is('screen')) {\n                this._terminal.handler(EscapeSequences_1.C0.ESC + '[?1;2c');\n            }\n            else if (this._terminal.is('linux')) {\n                this._terminal.handler(EscapeSequences_1.C0.ESC + '[?6c');\n            }\n        }\n        else if (collect === '>') {\n            if (this._terminal.is('xterm')) {\n                this._terminal.handler(EscapeSequences_1.C0.ESC + '[>0;276;0c');\n            }\n            else if (this._terminal.is('rxvt-unicode')) {\n                this._terminal.handler(EscapeSequences_1.C0.ESC + '[>85;95;0c');\n            }\n            else if (this._terminal.is('linux')) {\n                this._terminal.handler(params[0] + 'c');\n            }\n            else if (this._terminal.is('screen')) {\n                this._terminal.handler(EscapeSequences_1.C0.ESC + '[>83;40003;0c');\n            }\n        }\n    };\n    InputHandler.prototype.linePosAbsolute = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.y = param - 1;\n        if (this._terminal.buffer.y >= this._terminal.rows) {\n            this._terminal.buffer.y = this._terminal.rows - 1;\n        }\n    };\n    InputHandler.prototype.vPositionRelative = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.y += param;\n        if (this._terminal.buffer.y >= this._terminal.rows) {\n            this._terminal.buffer.y = this._terminal.rows - 1;\n        }\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x--;\n        }\n    };\n    InputHandler.prototype.hVPosition = function (params) {\n        if (params[0] < 1)\n            params[0] = 1;\n        if (params[1] < 1)\n            params[1] = 1;\n        this._terminal.buffer.y = params[0] - 1;\n        if (this._terminal.buffer.y >= this._terminal.rows) {\n            this._terminal.buffer.y = this._terminal.rows - 1;\n        }\n        this._terminal.buffer.x = params[1] - 1;\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x = this._terminal.cols - 1;\n        }\n    };\n    InputHandler.prototype.tabClear = function (params) {\n        var param = params[0];\n        if (param <= 0) {\n            delete this._terminal.buffer.tabs[this._terminal.buffer.x];\n        }\n        else if (param === 3) {\n            this._terminal.buffer.tabs = {};\n        }\n    };\n    InputHandler.prototype.setMode = function (params, collect) {\n        if (params.length > 1) {\n            for (var i = 0; i < params.length; i++) {\n                this.setMode([params[i]]);\n            }\n            return;\n        }\n        if (!collect) {\n            switch (params[0]) {\n                case 4:\n                    this._terminal.insertMode = true;\n                    break;\n                case 20:\n                    break;\n            }\n        }\n        else if (collect === '?') {\n            switch (params[0]) {\n                case 1:\n                    this._terminal.applicationCursor = true;\n                    break;\n                case 2:\n                    this._terminal.setgCharset(0, Charsets_1.DEFAULT_CHARSET);\n                    this._terminal.setgCharset(1, Charsets_1.DEFAULT_CHARSET);\n                    this._terminal.setgCharset(2, Charsets_1.DEFAULT_CHARSET);\n                    this._terminal.setgCharset(3, Charsets_1.DEFAULT_CHARSET);\n                    break;\n                case 3:\n                    this._terminal.savedCols = this._terminal.cols;\n                    this._terminal.resize(132, this._terminal.rows);\n                    break;\n                case 6:\n                    this._terminal.originMode = true;\n                    break;\n                case 7:\n                    this._terminal.wraparoundMode = true;\n                    break;\n                case 12:\n                    break;\n                case 66:\n                    this._terminal.log('Serial port requested application keypad.');\n                    this._terminal.applicationKeypad = true;\n                    if (this._terminal.viewport) {\n                        this._terminal.viewport.syncScrollArea();\n                    }\n                    break;\n                case 9:\n                case 1000:\n                case 1002:\n                case 1003:\n                    this._terminal.x10Mouse = params[0] === 9;\n                    this._terminal.vt200Mouse = params[0] === 1000;\n                    this._terminal.normalMouse = params[0] > 1000;\n                    this._terminal.mouseEvents = true;\n                    this._terminal.element.classList.add('enable-mouse-events');\n                    this._terminal.selectionManager.disable();\n                    this._terminal.log('Binding to mouse events.');\n                    break;\n                case 1004:\n                    this._terminal.sendFocus = true;\n                    break;\n                case 1005:\n                    this._terminal.utfMouse = true;\n                    break;\n                case 1006:\n                    this._terminal.sgrMouse = true;\n                    break;\n                case 1015:\n                    this._terminal.urxvtMouse = true;\n                    break;\n                case 25:\n                    this._terminal.cursorHidden = false;\n                    break;\n                case 1048:\n                    this.saveCursor(params);\n                    break;\n                case 1049:\n                    this.saveCursor(params);\n                case 47:\n                case 1047:\n                    this._terminal.buffers.activateAltBuffer(this._terminal.eraseAttr());\n                    this._terminal.refresh(0, this._terminal.rows - 1);\n                    if (this._terminal.viewport) {\n                        this._terminal.viewport.syncScrollArea();\n                    }\n                    this._terminal.showCursor();\n                    break;\n                case 2004:\n                    this._terminal.bracketedPasteMode = true;\n                    break;\n            }\n        }\n    };\n    InputHandler.prototype.resetMode = function (params, collect) {\n        if (params.length > 1) {\n            for (var i = 0; i < params.length; i++) {\n                this.resetMode([params[i]]);\n            }\n            return;\n        }\n        if (!collect) {\n            switch (params[0]) {\n                case 4:\n                    this._terminal.insertMode = false;\n                    break;\n                case 20:\n                    break;\n            }\n        }\n        else if (collect === '?') {\n            switch (params[0]) {\n                case 1:\n                    this._terminal.applicationCursor = false;\n                    break;\n                case 3:\n                    if (this._terminal.cols === 132 && this._terminal.savedCols) {\n                        this._terminal.resize(this._terminal.savedCols, this._terminal.rows);\n                    }\n                    delete this._terminal.savedCols;\n                    break;\n                case 6:\n                    this._terminal.originMode = false;\n                    break;\n                case 7:\n                    this._terminal.wraparoundMode = false;\n                    break;\n                case 12:\n                    break;\n                case 66:\n                    this._terminal.log('Switching back to normal keypad.');\n                    this._terminal.applicationKeypad = false;\n                    if (this._terminal.viewport) {\n                        this._terminal.viewport.syncScrollArea();\n                    }\n                    break;\n                case 9:\n                case 1000:\n                case 1002:\n                case 1003:\n                    this._terminal.x10Mouse = false;\n                    this._terminal.vt200Mouse = false;\n                    this._terminal.normalMouse = false;\n                    this._terminal.mouseEvents = false;\n                    this._terminal.element.classList.remove('enable-mouse-events');\n                    this._terminal.selectionManager.enable();\n                    break;\n                case 1004:\n                    this._terminal.sendFocus = false;\n                    break;\n                case 1005:\n                    this._terminal.utfMouse = false;\n                    break;\n                case 1006:\n                    this._terminal.sgrMouse = false;\n                    break;\n                case 1015:\n                    this._terminal.urxvtMouse = false;\n                    break;\n                case 25:\n                    this._terminal.cursorHidden = true;\n                    break;\n                case 1048:\n                    this.restoreCursor(params);\n                    break;\n                case 1049:\n                case 47:\n                case 1047:\n                    this._terminal.buffers.activateNormalBuffer();\n                    if (params[0] === 1049) {\n                        this.restoreCursor(params);\n                    }\n                    this._terminal.refresh(0, this._terminal.rows - 1);\n                    if (this._terminal.viewport) {\n                        this._terminal.viewport.syncScrollArea();\n                    }\n                    this._terminal.showCursor();\n                    break;\n                case 2004:\n                    this._terminal.bracketedPasteMode = false;\n                    break;\n            }\n        }\n    };\n    InputHandler.prototype.charAttributes = function (params) {\n        if (params.length === 1 && params[0] === 0) {\n            this._terminal.curAttr = Buffer_1.DEFAULT_ATTR;\n            return;\n        }\n        var l = params.length;\n        var flags = this._terminal.curAttr >> 18;\n        var fg = (this._terminal.curAttr >> 9) & 0x1ff;\n        var bg = this._terminal.curAttr & 0x1ff;\n        var p;\n        for (var i = 0; i < l; i++) {\n            p = params[i];\n            if (p >= 30 && p <= 37) {\n                fg = p - 30;\n            }\n            else if (p >= 40 && p <= 47) {\n                bg = p - 40;\n            }\n            else if (p >= 90 && p <= 97) {\n                p += 8;\n                fg = p - 90;\n            }\n            else if (p >= 100 && p <= 107) {\n                p += 8;\n                bg = p - 100;\n            }\n            else if (p === 0) {\n                flags = Buffer_1.DEFAULT_ATTR >> 18;\n                fg = (Buffer_1.DEFAULT_ATTR >> 9) & 0x1ff;\n                bg = Buffer_1.DEFAULT_ATTR & 0x1ff;\n            }\n            else if (p === 1) {\n                flags |= 1;\n            }\n            else if (p === 3) {\n                flags |= 64;\n            }\n            else if (p === 4) {\n                flags |= 2;\n            }\n            else if (p === 5) {\n                flags |= 4;\n            }\n            else if (p === 7) {\n                flags |= 8;\n            }\n            else if (p === 8) {\n                flags |= 16;\n            }\n            else if (p === 2) {\n                flags |= 32;\n            }\n            else if (p === 22) {\n                flags &= ~1;\n                flags &= ~32;\n            }\n            else if (p === 23) {\n                flags &= ~64;\n            }\n            else if (p === 24) {\n                flags &= ~2;\n            }\n            else if (p === 25) {\n                flags &= ~4;\n            }\n            else if (p === 27) {\n                flags &= ~8;\n            }\n            else if (p === 28) {\n                flags &= ~16;\n            }\n            else if (p === 39) {\n                fg = (Buffer_1.DEFAULT_ATTR >> 9) & 0x1ff;\n            }\n            else if (p === 49) {\n                bg = Buffer_1.DEFAULT_ATTR & 0x1ff;\n            }\n            else if (p === 38) {\n                if (params[i + 1] === 2) {\n                    i += 2;\n                    fg = this._terminal.matchColor(params[i] & 0xff, params[i + 1] & 0xff, params[i + 2] & 0xff);\n                    if (fg === -1)\n                        fg = 0x1ff;\n                    i += 2;\n                }\n                else if (params[i + 1] === 5) {\n                    i += 2;\n                    p = params[i] & 0xff;\n                    fg = p;\n                }\n            }\n            else if (p === 48) {\n                if (params[i + 1] === 2) {\n                    i += 2;\n                    bg = this._terminal.matchColor(params[i] & 0xff, params[i + 1] & 0xff, params[i + 2] & 0xff);\n                    if (bg === -1)\n                        bg = 0x1ff;\n                    i += 2;\n                }\n                else if (params[i + 1] === 5) {\n                    i += 2;\n                    p = params[i] & 0xff;\n                    bg = p;\n                }\n            }\n            else if (p === 100) {\n                fg = (Buffer_1.DEFAULT_ATTR >> 9) & 0x1ff;\n                bg = Buffer_1.DEFAULT_ATTR & 0x1ff;\n            }\n            else {\n                this._terminal.error('Unknown SGR attribute: %d.', p);\n            }\n        }\n        this._terminal.curAttr = (flags << 18) | (fg << 9) | bg;\n    };\n    InputHandler.prototype.deviceStatus = function (params, collect) {\n        if (!collect) {\n            switch (params[0]) {\n                case 5:\n                    this._terminal.emit('data', EscapeSequences_1.C0.ESC + \"[0n\");\n                    break;\n                case 6:\n                    var y = this._terminal.buffer.y + 1;\n                    var x = this._terminal.buffer.x + 1;\n                    this._terminal.emit('data', EscapeSequences_1.C0.ESC + \"[\" + y + \";\" + x + \"R\");\n                    break;\n            }\n        }\n        else if (collect === '?') {\n            switch (params[0]) {\n                case 6:\n                    var y = this._terminal.buffer.y + 1;\n                    var x = this._terminal.buffer.x + 1;\n                    this._terminal.emit('data', EscapeSequences_1.C0.ESC + \"[?\" + y + \";\" + x + \"R\");\n                    break;\n                case 15:\n                    break;\n                case 25:\n                    break;\n                case 26:\n                    break;\n                case 53:\n                    break;\n            }\n        }\n    };\n    InputHandler.prototype.softReset = function (params, collect) {\n        if (collect === '!') {\n            this._terminal.cursorHidden = false;\n            this._terminal.insertMode = false;\n            this._terminal.originMode = false;\n            this._terminal.wraparoundMode = true;\n            this._terminal.applicationKeypad = false;\n            if (this._terminal.viewport) {\n                this._terminal.viewport.syncScrollArea();\n            }\n            this._terminal.applicationCursor = false;\n            this._terminal.buffer.scrollTop = 0;\n            this._terminal.buffer.scrollBottom = this._terminal.rows - 1;\n            this._terminal.curAttr = Buffer_1.DEFAULT_ATTR;\n            this._terminal.buffer.x = this._terminal.buffer.y = 0;\n            this._terminal.charset = null;\n            this._terminal.glevel = 0;\n            this._terminal.charsets = [null];\n        }\n    };\n    InputHandler.prototype.setCursorStyle = function (params, collect) {\n        if (collect === ' ') {\n            var param = params[0] < 1 ? 1 : params[0];\n            switch (param) {\n                case 1:\n                case 2:\n                    this._terminal.setOption('cursorStyle', 'block');\n                    break;\n                case 3:\n                case 4:\n                    this._terminal.setOption('cursorStyle', 'underline');\n                    break;\n                case 5:\n                case 6:\n                    this._terminal.setOption('cursorStyle', 'bar');\n                    break;\n            }\n            var isBlinking = param % 2 === 1;\n            this._terminal.setOption('cursorBlink', isBlinking);\n        }\n    };\n    InputHandler.prototype.setScrollRegion = function (params, collect) {\n        if (collect)\n            return;\n        this._terminal.buffer.scrollTop = (params[0] || 1) - 1;\n        this._terminal.buffer.scrollBottom = (params[1] && params[1] <= this._terminal.rows ? params[1] : this._terminal.rows) - 1;\n        this._terminal.buffer.x = 0;\n        this._terminal.buffer.y = 0;\n    };\n    InputHandler.prototype.saveCursor = function (params) {\n        this._terminal.buffer.savedX = this._terminal.buffer.x;\n        this._terminal.buffer.savedY = this._terminal.buffer.y;\n        this._terminal.buffer.savedCurAttr = this._terminal.curAttr;\n    };\n    InputHandler.prototype.restoreCursor = function (params) {\n        this._terminal.buffer.x = this._terminal.buffer.savedX || 0;\n        this._terminal.buffer.y = this._terminal.buffer.savedY || 0;\n        this._terminal.curAttr = this._terminal.buffer.savedCurAttr || Buffer_1.DEFAULT_ATTR;\n    };\n    InputHandler.prototype.setTitle = function (data) {\n        this._terminal.handleTitle(data);\n    };\n    InputHandler.prototype.nextLine = function () {\n        this._terminal.buffer.x = 0;\n        this.index();\n    };\n    InputHandler.prototype.keypadApplicationMode = function () {\n        this._terminal.log('Serial port requested application keypad.');\n        this._terminal.applicationKeypad = true;\n        if (this._terminal.viewport) {\n            this._terminal.viewport.syncScrollArea();\n        }\n    };\n    InputHandler.prototype.keypadNumericMode = function () {\n        this._terminal.log('Switching back to normal keypad.');\n        this._terminal.applicationKeypad = false;\n        if (this._terminal.viewport) {\n            this._terminal.viewport.syncScrollArea();\n        }\n    };\n    InputHandler.prototype.selectDefaultCharset = function () {\n        this._terminal.setgLevel(0);\n        this._terminal.setgCharset(0, Charsets_1.DEFAULT_CHARSET);\n    };\n    InputHandler.prototype.selectCharset = function (collectAndFlag) {\n        if (collectAndFlag.length !== 2)\n            return this.selectDefaultCharset();\n        if (collectAndFlag[0] === '/')\n            return;\n        this._terminal.setgCharset(GLEVEL[collectAndFlag[0]], Charsets_1.CHARSETS[collectAndFlag[1]] || Charsets_1.DEFAULT_CHARSET);\n    };\n    InputHandler.prototype.index = function () {\n        this._terminal.index();\n    };\n    InputHandler.prototype.tabSet = function () {\n        this._terminal.tabSet();\n    };\n    InputHandler.prototype.reverseIndex = function () {\n        this._terminal.reverseIndex();\n    };\n    InputHandler.prototype.reset = function () {\n        this._parser.reset();\n        this._terminal.reset();\n    };\n    InputHandler.prototype.setgLevel = function (level) {\n        this._terminal.setgLevel(level);\n    };\n    return InputHandler;\n}(Lifecycle_1.Disposable));\nexports.InputHandler = InputHandler;\n//# sourceMappingURL=InputHandler.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Disposable = (function () {\n    function Disposable() {\n        this._disposables = [];\n        this._isDisposed = false;\n    }\n    Disposable.prototype.dispose = function () {\n        this._isDisposed = true;\n        this._disposables.forEach(function (d) { return d.dispose(); });\n        this._disposables.length = 0;\n    };\n    Disposable.prototype.register = function (d) {\n        this._disposables.push(d);\n    };\n    Disposable.prototype.unregister = function (d) {\n        var index = this._disposables.indexOf(d);\n        if (index !== -1) {\n            this._disposables.splice(index, 1);\n        }\n    };\n    return Disposable;\n}());\nexports.Disposable = Disposable;\n//# sourceMappingURL=Lifecycle.js.map","/**\n *  base64.ts\n *\n *  Licensed under the BSD 3-Clause License.\n *    http://opensource.org/licenses/BSD-3-Clause\n *\n *  References:\n *    http://en.wikipedia.org/wiki/Base64\n *\n * @author Dan Kogai (https://github.com/dankogai)\n */\nconst version = '3.7.2';\n/**\n * @deprecated use lowercase `version`.\n */\nconst VERSION = version;\nconst _hasatob = typeof atob === 'function';\nconst _hasbtoa = typeof btoa === 'function';\nconst _hasBuffer = typeof Buffer === 'function';\nconst _TD = typeof TextDecoder === 'function' ? new TextDecoder() : undefined;\nconst _TE = typeof TextEncoder === 'function' ? new TextEncoder() : undefined;\nconst b64ch = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\nconst b64chs = Array.prototype.slice.call(b64ch);\nconst b64tab = ((a) => {\n    let tab = {};\n    a.forEach((c, i) => tab[c] = i);\n    return tab;\n})(b64chs);\nconst b64re = /^(?:[A-Za-z\\d+\\/]{4})*?(?:[A-Za-z\\d+\\/]{2}(?:==)?|[A-Za-z\\d+\\/]{3}=?)?$/;\nconst _fromCC = String.fromCharCode.bind(String);\nconst _U8Afrom = typeof Uint8Array.from === 'function'\n    ? Uint8Array.from.bind(Uint8Array)\n    : (it, fn = (x) => x) => new Uint8Array(Array.prototype.slice.call(it, 0).map(fn));\nconst _mkUriSafe = (src) => src\n    .replace(/=/g, '').replace(/[+\\/]/g, (m0) => m0 == '+' ? '-' : '_');\nconst _tidyB64 = (s) => s.replace(/[^A-Za-z0-9\\+\\/]/g, '');\n/**\n * polyfill version of `btoa`\n */\nconst btoaPolyfill = (bin) => {\n    // console.log('polyfilled');\n    let u32, c0, c1, c2, asc = '';\n    const pad = bin.length % 3;\n    for (let i = 0; i < bin.length;) {\n        if ((c0 = bin.charCodeAt(i++)) > 255 ||\n            (c1 = bin.charCodeAt(i++)) > 255 ||\n            (c2 = bin.charCodeAt(i++)) > 255)\n            throw new TypeError('invalid character found');\n        u32 = (c0 << 16) | (c1 << 8) | c2;\n        asc += b64chs[u32 >> 18 & 63]\n            + b64chs[u32 >> 12 & 63]\n            + b64chs[u32 >> 6 & 63]\n            + b64chs[u32 & 63];\n    }\n    return pad ? asc.slice(0, pad - 3) + \"===\".substring(pad) : asc;\n};\n/**\n * does what `window.btoa` of web browsers do.\n * @param {String} bin binary string\n * @returns {string} Base64-encoded string\n */\nconst _btoa = _hasbtoa ? (bin) => btoa(bin)\n    : _hasBuffer ? (bin) => Buffer.from(bin, 'binary').toString('base64')\n        : btoaPolyfill;\nconst _fromUint8Array = _hasBuffer\n    ? (u8a) => Buffer.from(u8a).toString('base64')\n    : (u8a) => {\n        // cf. https://stackoverflow.com/questions/12710001/how-to-convert-uint8-array-to-base64-encoded-string/12713326#12713326\n        const maxargs = 0x1000;\n        let strs = [];\n        for (let i = 0, l = u8a.length; i < l; i += maxargs) {\n            strs.push(_fromCC.apply(null, u8a.subarray(i, i + maxargs)));\n        }\n        return _btoa(strs.join(''));\n    };\n/**\n * converts a Uint8Array to a Base64 string.\n * @param {boolean} [urlsafe] URL-and-filename-safe a la RFC4648 §5\n * @returns {string} Base64 string\n */\nconst fromUint8Array = (u8a, urlsafe = false) => urlsafe ? _mkUriSafe(_fromUint8Array(u8a)) : _fromUint8Array(u8a);\n// This trick is found broken https://github.com/dankogai/js-base64/issues/130\n// const utob = (src: string) => unescape(encodeURIComponent(src));\n// reverting good old fationed regexp\nconst cb_utob = (c) => {\n    if (c.length < 2) {\n        var cc = c.charCodeAt(0);\n        return cc < 0x80 ? c\n            : cc < 0x800 ? (_fromCC(0xc0 | (cc >>> 6))\n                + _fromCC(0x80 | (cc & 0x3f)))\n                : (_fromCC(0xe0 | ((cc >>> 12) & 0x0f))\n                    + _fromCC(0x80 | ((cc >>> 6) & 0x3f))\n                    + _fromCC(0x80 | (cc & 0x3f)));\n    }\n    else {\n        var cc = 0x10000\n            + (c.charCodeAt(0) - 0xD800) * 0x400\n            + (c.charCodeAt(1) - 0xDC00);\n        return (_fromCC(0xf0 | ((cc >>> 18) & 0x07))\n            + _fromCC(0x80 | ((cc >>> 12) & 0x3f))\n            + _fromCC(0x80 | ((cc >>> 6) & 0x3f))\n            + _fromCC(0x80 | (cc & 0x3f)));\n    }\n};\nconst re_utob = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFFF]|[^\\x00-\\x7F]/g;\n/**\n * @deprecated should have been internal use only.\n * @param {string} src UTF-8 string\n * @returns {string} UTF-16 string\n */\nconst utob = (u) => u.replace(re_utob, cb_utob);\n//\nconst _encode = _hasBuffer\n    ? (s) => Buffer.from(s, 'utf8').toString('base64')\n    : _TE\n        ? (s) => _fromUint8Array(_TE.encode(s))\n        : (s) => _btoa(utob(s));\n/**\n * converts a UTF-8-encoded string to a Base64 string.\n * @param {boolean} [urlsafe] if `true` make the result URL-safe\n * @returns {string} Base64 string\n */\nconst encode = (src, urlsafe = false) => urlsafe\n    ? _mkUriSafe(_encode(src))\n    : _encode(src);\n/**\n * converts a UTF-8-encoded string to URL-safe Base64 RFC4648 §5.\n * @returns {string} Base64 string\n */\nconst encodeURI = (src) => encode(src, true);\n// This trick is found broken https://github.com/dankogai/js-base64/issues/130\n// const btou = (src: string) => decodeURIComponent(escape(src));\n// reverting good old fationed regexp\nconst re_btou = /[\\xC0-\\xDF][\\x80-\\xBF]|[\\xE0-\\xEF][\\x80-\\xBF]{2}|[\\xF0-\\xF7][\\x80-\\xBF]{3}/g;\nconst cb_btou = (cccc) => {\n    switch (cccc.length) {\n        case 4:\n            var cp = ((0x07 & cccc.charCodeAt(0)) << 18)\n                | ((0x3f & cccc.charCodeAt(1)) << 12)\n                | ((0x3f & cccc.charCodeAt(2)) << 6)\n                | (0x3f & cccc.charCodeAt(3)), offset = cp - 0x10000;\n            return (_fromCC((offset >>> 10) + 0xD800)\n                + _fromCC((offset & 0x3FF) + 0xDC00));\n        case 3:\n            return _fromCC(((0x0f & cccc.charCodeAt(0)) << 12)\n                | ((0x3f & cccc.charCodeAt(1)) << 6)\n                | (0x3f & cccc.charCodeAt(2)));\n        default:\n            return _fromCC(((0x1f & cccc.charCodeAt(0)) << 6)\n                | (0x3f & cccc.charCodeAt(1)));\n    }\n};\n/**\n * @deprecated should have been internal use only.\n * @param {string} src UTF-16 string\n * @returns {string} UTF-8 string\n */\nconst btou = (b) => b.replace(re_btou, cb_btou);\n/**\n * polyfill version of `atob`\n */\nconst atobPolyfill = (asc) => {\n    // console.log('polyfilled');\n    asc = asc.replace(/\\s+/g, '');\n    if (!b64re.test(asc))\n        throw new TypeError('malformed base64.');\n    asc += '=='.slice(2 - (asc.length & 3));\n    let u24, bin = '', r1, r2;\n    for (let i = 0; i < asc.length;) {\n        u24 = b64tab[asc.charAt(i++)] << 18\n            | b64tab[asc.charAt(i++)] << 12\n            | (r1 = b64tab[asc.charAt(i++)]) << 6\n            | (r2 = b64tab[asc.charAt(i++)]);\n        bin += r1 === 64 ? _fromCC(u24 >> 16 & 255)\n            : r2 === 64 ? _fromCC(u24 >> 16 & 255, u24 >> 8 & 255)\n                : _fromCC(u24 >> 16 & 255, u24 >> 8 & 255, u24 & 255);\n    }\n    return bin;\n};\n/**\n * does what `window.atob` of web browsers do.\n * @param {String} asc Base64-encoded string\n * @returns {string} binary string\n */\nconst _atob = _hasatob ? (asc) => atob(_tidyB64(asc))\n    : _hasBuffer ? (asc) => Buffer.from(asc, 'base64').toString('binary')\n        : atobPolyfill;\n//\nconst _toUint8Array = _hasBuffer\n    ? (a) => _U8Afrom(Buffer.from(a, 'base64'))\n    : (a) => _U8Afrom(_atob(a), c => c.charCodeAt(0));\n/**\n * converts a Base64 string to a Uint8Array.\n */\nconst toUint8Array = (a) => _toUint8Array(_unURI(a));\n//\nconst _decode = _hasBuffer\n    ? (a) => Buffer.from(a, 'base64').toString('utf8')\n    : _TD\n        ? (a) => _TD.decode(_toUint8Array(a))\n        : (a) => btou(_atob(a));\nconst _unURI = (a) => _tidyB64(a.replace(/[-_]/g, (m0) => m0 == '-' ? '+' : '/'));\n/**\n * converts a Base64 string to a UTF-8 string.\n * @param {String} src Base64 string.  Both normal and URL-safe are supported\n * @returns {string} UTF-8 string\n */\nconst decode = (src) => _decode(_unURI(src));\n/**\n * check if a value is a valid Base64 string\n * @param {String} src a value to check\n  */\nconst isValid = (src) => {\n    if (typeof src !== 'string')\n        return false;\n    const s = src.replace(/\\s+/g, '').replace(/={0,2}$/, '');\n    return !/[^\\s0-9a-zA-Z\\+/]/.test(s) || !/[^\\s0-9a-zA-Z\\-_]/.test(s);\n};\n//\nconst _noEnum = (v) => {\n    return {\n        value: v, enumerable: false, writable: true, configurable: true\n    };\n};\n/**\n * extend String.prototype with relevant methods\n */\nconst extendString = function () {\n    const _add = (name, body) => Object.defineProperty(String.prototype, name, _noEnum(body));\n    _add('fromBase64', function () { return decode(this); });\n    _add('toBase64', function (urlsafe) { return encode(this, urlsafe); });\n    _add('toBase64URI', function () { return encode(this, true); });\n    _add('toBase64URL', function () { return encode(this, true); });\n    _add('toUint8Array', function () { return toUint8Array(this); });\n};\n/**\n * extend Uint8Array.prototype with relevant methods\n */\nconst extendUint8Array = function () {\n    const _add = (name, body) => Object.defineProperty(Uint8Array.prototype, name, _noEnum(body));\n    _add('toBase64', function (urlsafe) { return fromUint8Array(this, urlsafe); });\n    _add('toBase64URI', function () { return fromUint8Array(this, true); });\n    _add('toBase64URL', function () { return fromUint8Array(this, true); });\n};\n/**\n * extend Builtin prototypes with relevant methods\n */\nconst extendBuiltins = () => {\n    extendString();\n    extendUint8Array();\n};\nconst gBase64 = {\n    version: version,\n    VERSION: VERSION,\n    atob: _atob,\n    atobPolyfill: atobPolyfill,\n    btoa: _btoa,\n    btoaPolyfill: btoaPolyfill,\n    fromBase64: decode,\n    toBase64: encode,\n    encode: encode,\n    encodeURI: encodeURI,\n    encodeURL: encodeURI,\n    utob: utob,\n    btou: btou,\n    decode: decode,\n    isValid: isValid,\n    fromUint8Array: fromUint8Array,\n    toUint8Array: toUint8Array,\n    extendString: extendString,\n    extendUint8Array: extendUint8Array,\n    extendBuiltins: extendBuiltins,\n};\n// makecjs:CUT //\nexport { version };\nexport { VERSION };\nexport { _atob as atob };\nexport { atobPolyfill };\nexport { _btoa as btoa };\nexport { btoaPolyfill };\nexport { decode as fromBase64 };\nexport { encode as toBase64 };\nexport { utob };\nexport { encode };\nexport { encodeURI };\nexport { encodeURI as encodeURL };\nexport { btou };\nexport { decode };\nexport { isValid };\nexport { fromUint8Array };\nexport { toUint8Array };\nexport { extendString };\nexport { extendUint8Array };\nexport { extendBuiltins };\n// and finally,\nexport { gBase64 as Base64 };\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar GridCache = (function () {\n    function GridCache() {\n        this.cache = [];\n    }\n    GridCache.prototype.resize = function (width, height) {\n        for (var x = 0; x < width; x++) {\n            if (this.cache.length <= x) {\n                this.cache.push([]);\n            }\n            for (var y = this.cache[x].length; y < height; y++) {\n                this.cache[x].push(null);\n            }\n            this.cache[x].length = height;\n        }\n        this.cache.length = width;\n    };\n    GridCache.prototype.clear = function () {\n        for (var x = 0; x < this.cache.length; x++) {\n            for (var y = 0; y < this.cache[x].length; y++) {\n                this.cache[x][y] = null;\n            }\n        }\n    };\n    return GridCache;\n}());\nexports.GridCache = GridCache;\n//# sourceMappingURL=GridCache.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Buffer_1 = require(\"./Buffer\");\nvar EventEmitter_1 = require(\"./common/EventEmitter\");\nvar BufferSet = (function (_super) {\n    __extends(BufferSet, _super);\n    function BufferSet(_terminal) {\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._normal = new Buffer_1.Buffer(_this._terminal, true);\n        _this._normal.fillViewportRows();\n        _this._alt = new Buffer_1.Buffer(_this._terminal, false);\n        _this._activeBuffer = _this._normal;\n        _this.setupTabStops();\n        return _this;\n    }\n    Object.defineProperty(BufferSet.prototype, \"alt\", {\n        get: function () {\n            return this._alt;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BufferSet.prototype, \"active\", {\n        get: function () {\n            return this._activeBuffer;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BufferSet.prototype, \"normal\", {\n        get: function () {\n            return this._normal;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BufferSet.prototype.activateNormalBuffer = function () {\n        if (this._activeBuffer === this._normal) {\n            return;\n        }\n        this._normal.x = this._alt.x;\n        this._normal.y = this._alt.y;\n        this._alt.clear();\n        this._activeBuffer = this._normal;\n        this.emit('activate', {\n            activeBuffer: this._normal,\n            inactiveBuffer: this._alt\n        });\n    };\n    BufferSet.prototype.activateAltBuffer = function (fillAttr) {\n        if (this._activeBuffer === this._alt) {\n            return;\n        }\n        this._alt.fillViewportRows(fillAttr);\n        this._alt.x = this._normal.x;\n        this._alt.y = this._normal.y;\n        this._activeBuffer = this._alt;\n        this.emit('activate', {\n            activeBuffer: this._alt,\n            inactiveBuffer: this._normal\n        });\n    };\n    BufferSet.prototype.resize = function (newCols, newRows) {\n        this._normal.resize(newCols, newRows);\n        this._alt.resize(newCols, newRows);\n    };\n    BufferSet.prototype.setupTabStops = function (i) {\n        this._normal.setupTabStops(i);\n        this._alt.setupTabStops(i);\n    };\n    return BufferSet;\n}(EventEmitter_1.EventEmitter));\nexports.BufferSet = BufferSet;\n//# sourceMappingURL=BufferSet.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Lifecycle_1 = require(\"../common/Lifecycle\");\nvar ScreenDprMonitor = (function (_super) {\n    __extends(ScreenDprMonitor, _super);\n    function ScreenDprMonitor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ScreenDprMonitor.prototype.setListener = function (listener) {\n        var _this = this;\n        if (this._listener) {\n            this.clearListener();\n        }\n        this._listener = listener;\n        this._outerListener = function () {\n            _this._listener(window.devicePixelRatio, _this._currentDevicePixelRatio);\n            _this._updateDpr();\n        };\n        this._updateDpr();\n    };\n    ScreenDprMonitor.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this.clearListener();\n    };\n    ScreenDprMonitor.prototype._updateDpr = function () {\n        if (this._resolutionMediaMatchList) {\n            this._resolutionMediaMatchList.removeListener(this._outerListener);\n        }\n        this._currentDevicePixelRatio = window.devicePixelRatio;\n        this._resolutionMediaMatchList = window.matchMedia(\"screen and (resolution: \" + window.devicePixelRatio + \"dppx)\");\n        this._resolutionMediaMatchList.addListener(this._outerListener);\n    };\n    ScreenDprMonitor.prototype.clearListener = function () {\n        if (!this._listener) {\n            return;\n        }\n        this._resolutionMediaMatchList.removeListener(this._outerListener);\n        this._listener = null;\n        this._outerListener = null;\n    };\n    return ScreenDprMonitor;\n}(Lifecycle_1.Disposable));\nexports.ScreenDprMonitor = ScreenDprMonitor;\n//# sourceMappingURL=ScreenDprMonitor.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Lifecycle_1 = require(\"./common/Lifecycle\");\nvar Lifecycle_2 = require(\"./ui/Lifecycle\");\nvar FALLBACK_SCROLL_BAR_WIDTH = 15;\nvar Viewport = (function (_super) {\n    __extends(Viewport, _super);\n    function Viewport(_terminal, _viewportElement, _scrollArea, _charMeasure) {\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._viewportElement = _viewportElement;\n        _this._scrollArea = _scrollArea;\n        _this._charMeasure = _charMeasure;\n        _this.scrollBarWidth = 0;\n        _this._currentRowHeight = 0;\n        _this._lastRecordedBufferLength = 0;\n        _this._lastRecordedViewportHeight = 0;\n        _this._lastRecordedBufferHeight = 0;\n        _this._lastScrollTop = 0;\n        _this._wheelPartialScroll = 0;\n        _this._refreshAnimationFrame = null;\n        _this._ignoreNextScrollEvent = false;\n        _this.scrollBarWidth = (_this._viewportElement.offsetWidth - _this._scrollArea.offsetWidth) || FALLBACK_SCROLL_BAR_WIDTH;\n        _this.register(Lifecycle_2.addDisposableDomListener(_this._viewportElement, 'scroll', _this._onScroll.bind(_this)));\n        setTimeout(function () { return _this.syncScrollArea(); }, 0);\n        return _this;\n    }\n    Viewport.prototype.onThemeChanged = function (colors) {\n        this._viewportElement.style.backgroundColor = colors.background.css;\n    };\n    Viewport.prototype._refresh = function () {\n        var _this = this;\n        if (this._refreshAnimationFrame === null) {\n            this._refreshAnimationFrame = requestAnimationFrame(function () { return _this._innerRefresh(); });\n        }\n    };\n    Viewport.prototype._innerRefresh = function () {\n        if (this._charMeasure.height > 0) {\n            this._currentRowHeight = this._terminal.renderer.dimensions.scaledCellHeight / window.devicePixelRatio;\n            this._lastRecordedViewportHeight = this._viewportElement.offsetHeight;\n            var newBufferHeight = Math.round(this._currentRowHeight * this._lastRecordedBufferLength) + (this._lastRecordedViewportHeight - this._terminal.renderer.dimensions.canvasHeight);\n            if (this._lastRecordedBufferHeight !== newBufferHeight) {\n                this._lastRecordedBufferHeight = newBufferHeight;\n                this._scrollArea.style.height = this._lastRecordedBufferHeight + 'px';\n            }\n        }\n        var scrollTop = this._terminal.buffer.ydisp * this._currentRowHeight;\n        if (this._viewportElement.scrollTop !== scrollTop) {\n            this._ignoreNextScrollEvent = true;\n            this._viewportElement.scrollTop = scrollTop;\n        }\n        this._refreshAnimationFrame = null;\n    };\n    Viewport.prototype.syncScrollArea = function () {\n        if (this._lastRecordedBufferLength !== this._terminal.buffer.lines.length) {\n            this._lastRecordedBufferLength = this._terminal.buffer.lines.length;\n            this._refresh();\n            return;\n        }\n        if (this._lastRecordedViewportHeight !== this._terminal.renderer.dimensions.canvasHeight) {\n            this._refresh();\n            return;\n        }\n        var newScrollTop = this._terminal.buffer.ydisp * this._currentRowHeight;\n        if (this._lastScrollTop !== newScrollTop) {\n            this._refresh();\n            return;\n        }\n        if (this._lastScrollTop !== this._viewportElement.scrollTop) {\n            this._refresh();\n            return;\n        }\n        if (this._terminal.renderer.dimensions.scaledCellHeight / window.devicePixelRatio !== this._currentRowHeight) {\n            this._refresh();\n            return;\n        }\n    };\n    Viewport.prototype._onScroll = function (ev) {\n        this._lastScrollTop = this._viewportElement.scrollTop;\n        if (!this._viewportElement.offsetParent) {\n            return;\n        }\n        if (this._ignoreNextScrollEvent) {\n            this._ignoreNextScrollEvent = false;\n            return;\n        }\n        var newRow = Math.round(this._lastScrollTop / this._currentRowHeight);\n        var diff = newRow - this._terminal.buffer.ydisp;\n        this._terminal.scrollLines(diff, true);\n    };\n    Viewport.prototype.onWheel = function (ev) {\n        var amount = this._getPixelsScrolled(ev);\n        if (amount === 0) {\n            return;\n        }\n        this._viewportElement.scrollTop += amount;\n        ev.preventDefault();\n    };\n    Viewport.prototype._getPixelsScrolled = function (ev) {\n        if (ev.deltaY === 0) {\n            return 0;\n        }\n        var amount = ev.deltaY;\n        if (ev.deltaMode === WheelEvent.DOM_DELTA_LINE) {\n            amount *= this._currentRowHeight;\n        }\n        else if (ev.deltaMode === WheelEvent.DOM_DELTA_PAGE) {\n            amount *= this._currentRowHeight * this._terminal.rows;\n        }\n        return amount;\n    };\n    Viewport.prototype.getLinesScrolled = function (ev) {\n        if (ev.deltaY === 0) {\n            return 0;\n        }\n        var amount = ev.deltaY;\n        if (ev.deltaMode === WheelEvent.DOM_DELTA_PIXEL) {\n            amount /= this._currentRowHeight + 0.0;\n            this._wheelPartialScroll += amount;\n            amount = Math.floor(Math.abs(this._wheelPartialScroll)) * (this._wheelPartialScroll > 0 ? 1 : -1);\n            this._wheelPartialScroll %= 1;\n        }\n        else if (ev.deltaMode === WheelEvent.DOM_DELTA_PAGE) {\n            amount *= this._terminal.rows;\n        }\n        return amount;\n    };\n    Viewport.prototype.onTouchStart = function (ev) {\n        this._lastTouchY = ev.touches[0].pageY;\n    };\n    Viewport.prototype.onTouchMove = function (ev) {\n        var deltaY = this._lastTouchY - ev.touches[0].pageY;\n        this._lastTouchY = ev.touches[0].pageY;\n        if (deltaY === 0) {\n            return;\n        }\n        this._viewportElement.scrollTop += deltaY;\n        ev.preventDefault();\n    };\n    return Viewport;\n}(Lifecycle_1.Disposable));\nexports.Viewport = Viewport;\n//# sourceMappingURL=Viewport.js.map"],"sourceRoot":""}